/**Released Version v3.0.9,BUILD 171,Time 1650882259110. Fengmap Javascript SDK , see: https://www.fengmap.com for details**/
!function(t,i){"object"==typeof exports&&"object"==typeof module?module.exports=i(require("fs")):"function"==typeof define&&define.amd?define(["fs"],i):"object"==typeof exports?exports.fengmap=i(require("fs")):t.fengmap=i(t.fs)}(this,function(__WEBPACK_EXTERNAL_MODULE__47__){return function(n){var r={};function e(t){if(r[t])return r[t].exports;var i=r[t]={i:t,l:!1,exports:{}};return n[t].call(i.exports,i,i.exports,e),i.l=!0,i.exports}return e.m=n,e.c=r,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:n})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"u",{value:!0})},e.t=function(i,t){if(1&t&&(i=e(i)),8&t)return i;if(4&t&&"object"==typeof i&&i&&i.u)return i;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:i}),2&t&&"string"!=typeof i)for(var r in i)e.d(n,r,function(t){return i[t]}.bind(null,r));return n},e.n=function(t){var i=t&&t.u?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},e.p="",e(e.s=50)}([function(t,i,n){"use strict";var r,e,s=t.exports=n(2),o=n(16),u=(s.codegen=n(40),s.fetch=n(41),s.path=n(42),s.fs=s.inquire("fs"),s.toArray=function(t){if(t){for(var i=Object.keys(t),n=new Array(i.length),r=0;r<i.length;)n[r]=t[i[r++]];return n}return[]},s.toObject=function(t){for(var i={},n=0;n<t.length;){var r=t[n++],e=t[n++];void 0!==e&&(i[r]=e)}return i},/\\/g),h=/"/g,a=(s.isReserved=function(t){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(t)},s.safeProp=function(t){return!/^[$\w_]+$/.test(t)||s.isReserved(t)?'["'+t.replace(u,"\\\\").replace(h,'\\"')+'"]':"."+t},s.ucFirst=function(t){return t.charAt(0).toUpperCase()+t.substring(1)},/_([a-z])/g),f=(s.camelCase=function(t){return t.substring(0,1)+t.substring(1).replace(a,function(t,i){return i.toUpperCase()})},s.compareFieldsById=function(t,i){return t.id-i.id},s.decorateType=function(t,i){if(t.$type)return i&&t.$type.name!==i&&(s.decorateRoot.remove(t.$type),t.$type.name=i,s.decorateRoot.add(t.$type)),t.$type;i=new(r=r||n(18))(i||t.name);return s.decorateRoot.add(i),i.ctor=t,Object.defineProperty(t,"$type",{value:i,enumerable:!1}),Object.defineProperty(t.prototype,"$type",{value:i,enumerable:!1}),i},0);s.decorateEnum=function(t){if(t.$type)return t.$type;var i=new(e=e||n(3))("Enum"+f++,t);return s.decorateRoot.add(i),Object.defineProperty(t,"$type",{value:i,enumerable:!1}),i},s.setProperty=function(t,i,n){if("object"!=typeof t)throw TypeError("dst must be an object");if(i)return function t(i,n,r){var e=n.shift();return 0<n.length?i[e]=t(i[e]||{},n,r):((n=i[e])&&(r=[].concat(n).concat(r)),i[e]=r),i}(t,i=i.split("."),n);throw TypeError("path must be specified")},Object.defineProperty(s,"decorateRoot",{get:function(){return o.decorated||(o.decorated=new(n(26)))}})},function(t,i,n){"use strict";!function(o){function u(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var h=null,t=function(){function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function")}var i,n,r,e;function s(){return e.apply(this,arguments)}return i=t,n=null,r=[{key:"global",value:(e=function(){if("undefined"!=typeof self&&null!==self&&0!==Object.keys(self).length)return self;if("undefined"!=typeof window&&null!==window&&0!==Object.keys(window).length)return window;if(null!=o&&0!==Object.keys(o).length)return o;var t;if("undefined"!=typeof my)return h||(t=my.getAppIdSync(),h={location:{host:t.appId+".hybrid.alipay-eco.com"}}),h;throw new Error("unable to locate global object")},s.toString=function(){return e.toString()},s)}],n&&u(i.prototype,n),r&&u(i,r),Object.defineProperty(i,"prototype",{writable:!1}),t}();i.a=t}.call(this,n(9))},function(t,n,s){"use strict";!function(t){var r=n;function e(t,i,n){for(var r=Object.keys(i),e=0;e<r.length;++e)void 0!==t[r[e]]&&n||(t[r[e]]=i[r[e]]);return t}function i(t){function n(t,i){if(!(this instanceof n))return new n(t,i);Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,n):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),i&&e(this,i)}return(n.prototype=Object.create(Error.prototype)).constructor=n,Object.defineProperty(n.prototype,"name",{get:function(){return t}}),n.prototype.toString=function(){return this.name+": "+this.message},n}r.asPromise=s(13),r.base64=s(31),r.EventEmitter=s(32),r.float=s(33),r.inquire=s(14),r.utf8=s(34),r.pool=s(35),r.LongBits=s(36),r.isNode=Boolean(void 0!==t&&t&&t.process&&t.process.versions&&t.process.versions.node),r.global=r.isNode&&t||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},r.isString=function(t){return"string"==typeof t||t instanceof String},r.isObject=function(t){return t&&"object"==typeof t},r.isset=r.isSet=function(t,i){var n=t[i];return!(null==n||!t.hasOwnProperty(i))&&("object"!=typeof n||0<(Array.isArray(n)?n:Object.keys(n)).length)},r.Buffer=function(){try{var t=r.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch(t){return null}}(),r.v=null,r._=null,r.newBuffer=function(t){return"number"==typeof t?r.Buffer?r._(t):new r.Array(t):r.Buffer?r.v(t):"undefined"==typeof Uint8Array?t:new Uint8Array(t)},r.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,r.Long=r.global.dcodeIO&&r.global.dcodeIO.Long||r.global.Long||r.inquire("long"),r.key2Re=/^true|false|0|1$/,r.key32Re=/^-?(?:0|[1-9][0-9]*)$/,r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,r.longToHash=function(t){return t?r.LongBits.from(t).toHash():r.LongBits.zeroHash},r.longFromHash=function(t,i){t=r.LongBits.fromHash(t);return r.Long?r.Long.fromBits(t.lo,t.hi,i):t.toNumber(Boolean(i))},r.merge=e,r.lcFirst=function(t){return t.charAt(0).toLowerCase()+t.substring(1)},r.newError=i,r.ProtocolError=i("ProtocolError"),r.oneOfGetter=function(t){for(var n={},i=0;i<t.length;++i)n[t[i]]=1;return function(){for(var t=Object.keys(this),i=t.length-1;-1<i;--i)if(1===n[t[i]]&&void 0!==this[t[i]]&&null!==this[t[i]])return t[i]}},r.oneOfSetter=function(n){return function(t){for(var i=0;i<n.length;++i)n[i]!==t&&delete this[n[i]]}},r.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},r.O=function(){var n=r.Buffer;n?(r.v=n.from!==Uint8Array.from&&n.from||function(t,i){return new n(t,i)},r._=n.allocUnsafe||function(t){return new n(t)}):r.v=r._=null}}.call(this,s(9))},function(t,i,n){"use strict";t.exports=s;var u=n(4),r=(((s.prototype=Object.create(u.prototype)).constructor=s).className="Enum",n(6)),e=n(0);function s(t,i,n,r,e){if(u.call(this,t,n),i&&"object"!=typeof i)throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=r,this.comments=e||{},this.reserved=void 0,i)for(var s=Object.keys(i),o=0;o<s.length;++o)"number"==typeof i[s[o]]&&(this.valuesById[this.values[s[o]]=i[s[o]]]=s[o])}s.fromJSON=function(t,i){t=new s(t,i.values,i.options,i.comment,i.comments);return t.reserved=i.reserved,t},s.prototype.toJSON=function(t){t=!!t&&Boolean(t.keepComments);return e.toObject(["options",this.options,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",t?this.comment:void 0,"comments",t?this.comments:void 0])},s.prototype.add=function(t,i,n){if(!e.isString(t))throw TypeError("name must be a string");if(!e.isInteger(i))throw TypeError("id must be an integer");if(void 0!==this.values[t])throw Error("duplicate name '"+t+"' in "+this);if(this.isReservedId(i))throw Error("id "+i+" is reserved in "+this);if(this.isReservedName(t))throw Error("name '"+t+"' is reserved in "+this);if(void 0!==this.valuesById[i]){if(!this.options||!this.options.allow_alias)throw Error("duplicate id "+i+" in "+this);this.values[t]=i}else this.valuesById[this.values[t]=i]=t;return this.comments[t]=n||null,this},s.prototype.remove=function(t){if(!e.isString(t))throw TypeError("name must be a string");var i=this.values[t];if(null==i)throw Error("name '"+t+"' does not exist in "+this);return delete this.valuesById[i],delete this.values[t],delete this.comments[t],this},s.prototype.isReservedId=function(t){return r.isReservedId(this.reserved,t)},s.prototype.isReservedName=function(t){return r.isReservedName(this.reserved,t)}},function(t,i,n){"use strict";(t.exports=e).className="ReflectionObject";var r,o=n(0);function e(t,i){if(!o.isString(t))throw TypeError("name must be a string");if(i&&!o.isObject(i))throw TypeError("options must be an object");this.options=i,this.parsedOptions=null,this.name=t,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(e.prototype,{root:{get:function(){for(var t=this;null!==t.parent;)t=t.parent;return t}},fullName:{get:function(){for(var t=[this.name],i=this.parent;i;)t.unshift(i.name),i=i.parent;return t.join(".")}}}),e.prototype.toJSON=function(){throw Error()},e.prototype.onAdd=function(t){this.parent&&this.parent!==t&&this.parent.remove(this),this.parent=t,this.resolved=!1;t=t.root;t instanceof r&&t.j(this)},e.prototype.onRemove=function(t){t=t.root;t instanceof r&&t.T(this),this.parent=null,this.resolved=!1},e.prototype.resolve=function(){return this.resolved||this.root instanceof r&&(this.resolved=!0),this},e.prototype.getOption=function(t){if(this.options)return this.options[t]},e.prototype.setOption=function(t,i,n){return n&&this.options&&void 0!==this.options[t]||((this.options||(this.options={}))[t]=i),this},e.prototype.setParsedOption=function(i,t,n){this.parsedOptions||(this.parsedOptions=[]);var r,e,s=this.parsedOptions;return n?(r=s.find(function(t){return Object.prototype.hasOwnProperty.call(t,i)}))?(e=r[i],o.setProperty(e,n,t)):((r={})[i]=o.setProperty({},n,t),s.push(r)):((e={})[i]=t,s.push(e)),this},e.prototype.setOptions=function(t,i){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)this.setOption(n[r],t[n[r]],i);return this},e.prototype.toString=function(){var t=this.constructor.className,i=this.fullName;return i.length?t+" "+i:t},e.O=function(t){r=t}},function(t,i,n){"use strict";t.exports=o;var r,u=n(4),e=(((o.prototype=Object.create(u.prototype)).constructor=o).className="Field",n(3)),h=n(7),a=n(0),f=/^required|optional|repeated$/;function o(t,i,n,r,e,s,o){if(a.isObject(r)?(o=e,s=r,r=e=void 0):a.isObject(e)&&(o=s,s=e,e=void 0),u.call(this,t,s),!a.isInteger(i)||i<0)throw TypeError("id must be a non-negative integer");if(!a.isString(n))throw TypeError("type must be a string");if(void 0!==r&&!f.test(r=r.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(void 0!==e&&!a.isString(e))throw TypeError("extend must be a string");this.rule=(r="proto3_optional"===r?"optional":r)&&"optional"!==r?r:void 0,this.type=n,this.id=i,this.extend=e||void 0,this.required="required"===r,this.optional=!this.required,this.repeated="repeated"===r,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!a.Long&&void 0!==h.long[n],this.bytes="bytes"===n,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this.M=null,this.comment=o}o.fromJSON=function(t,i){return new o(t,i.id,i.type,i.rule,i.extend,i.options,i.comment)},Object.defineProperty(o.prototype,"packed",{get:function(){return null===this.M&&(this.M=!1!==this.getOption("packed")),this.M}}),o.prototype.setOption=function(t,i,n){return"packed"===t&&(this.M=null),u.prototype.setOption.call(this,t,i,n)},o.prototype.toJSON=function(t){t=!!t&&Boolean(t.keepComments);return a.toObject(["rule","optional"!==this.rule&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},o.prototype.resolve=function(){return this.resolved?this:(void 0===(this.typeDefault=h.defaults[this.type])&&(this.resolvedType=(this.declaringField||this).parent.lookupTypeOrEnum(this.type),this.resolvedType instanceof r?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof e&&"string"==typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(!0!==this.options.packed&&(void 0===this.options.packed||!this.resolvedType||this.resolvedType instanceof e)||delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long?(this.typeDefault=a.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),Object.freeze&&Object.freeze(this.typeDefault)):this.bytes&&"string"==typeof this.typeDefault&&(a.base64.test(this.typeDefault)?a.base64.decode(this.typeDefault,t=a.newBuffer(a.base64.length(this.typeDefault)),0):a.utf8.write(this.typeDefault,t=a.newBuffer(a.utf8.length(this.typeDefault)),0),this.typeDefault=t),this.map?this.defaultValue=a.emptyObject:this.repeated?this.defaultValue=a.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof r&&(this.parent.ctor.prototype[this.name]=this.defaultValue),u.prototype.resolve.call(this));var t},o.d=function(n,r,e,s){return"function"==typeof r?r=a.decorateType(r).name:r&&"object"==typeof r&&(r=a.decorateEnum(r).name),function(t,i){a.decorateType(t.constructor).add(new o(i,n,r,e,{default:s}))}},o.O=function(t){r=t}},function(t,i,n){"use strict";t.exports=c;var e,s,o,r=n(4),u=(((c.prototype=Object.create(r.prototype)).constructor=c).className="Namespace",n(5)),h=n(8),a=n(0);function f(t,i){if(t&&t.length){for(var n={},r=0;r<t.length;++r)n[t[r].name]=t[r].toJSON(i);return n}}function c(t,i){r.call(this,t,i),this.nested=void 0,this.k=null}function l(t){return t.k=null,t}c.fromJSON=function(t,i){return new c(t,i.options).addJSON(i.nested)},c.arrayToJSON=f,c.isReservedId=function(t,i){if(t)for(var n=0;n<t.length;++n)if("string"!=typeof t[n]&&t[n][0]<=i&&t[n][1]>i)return!0;return!1},c.isReservedName=function(t,i){if(t)for(var n=0;n<t.length;++n)if(t[n]===i)return!0;return!1},Object.defineProperty(c.prototype,"nestedArray",{get:function(){return this.k||(this.k=a.toArray(this.nested))}}),c.prototype.toJSON=function(t){return a.toObject(["options",this.options,"nested",f(this.nestedArray,t)])},c.prototype.addJSON=function(t){if(t)for(var i,n=Object.keys(t),r=0;r<n.length;++r)i=t[n[r]],this.add((void 0!==i.fields?e:void 0!==i.values?o:void 0!==i.methods?s:void 0!==i.id?u:c).fromJSON(n[r],i));return this},c.prototype.get=function(t){return this.nested&&this.nested[t]||null},c.prototype.getEnum=function(t){if(this.nested&&this.nested[t]instanceof o)return this.nested[t].values;throw Error("no such enum: "+t)},c.prototype.add=function(t){if(!(t instanceof u&&void 0!==t.extend||t instanceof e||t instanceof o||t instanceof s||t instanceof c||t instanceof h))throw TypeError("object must be a valid nested object");if(this.nested){var i=this.get(t.name);if(i){if(!(i instanceof c&&t instanceof c)||i instanceof e||i instanceof s)throw Error("duplicate name '"+t.name+"' in "+this);for(var n=i.nestedArray,r=0;r<n.length;++r)t.add(n[r]);this.remove(i),this.nested||(this.nested={}),t.setOptions(i.options,!0)}}else this.nested={};return(this.nested[t.name]=t).onAdd(this),l(this)},c.prototype.remove=function(t){if(!(t instanceof r))throw TypeError("object must be a ReflectionObject");if(t.parent!==this)throw Error(t+" is not a member of "+this);return delete this.nested[t.name],Object.keys(this.nested).length||(this.nested=void 0),t.onRemove(this),l(this)},c.prototype.define=function(t,i){if(a.isString(t))t=t.split(".");else if(!Array.isArray(t))throw TypeError("illegal path");if(t&&t.length&&""===t[0])throw Error("path must be relative");for(var n=this;0<t.length;){var r=t.shift();if(n.nested&&n.nested[r]){if(!((n=n.nested[r])instanceof c))throw Error("path conflicts with non-namespace objects")}else n.add(n=new c(r))}return i&&n.addJSON(i),n},c.prototype.resolveAll=function(){for(var t=this.nestedArray,i=0;i<t.length;)t[i]instanceof c?t[i++].resolveAll():t[i++].resolve();return this.resolve()},c.prototype.lookup=function(t,i,n){if("boolean"==typeof i?(n=i,i=void 0):i&&!Array.isArray(i)&&(i=[i]),a.isString(t)&&t.length){if("."===t)return this.root;t=t.split(".")}else if(!t.length)return this;if(""===t[0])return this.root.lookup(t.slice(1),i);var r=this.get(t[0]);if(r){if(1===t.length){if(!i||-1<i.indexOf(r.constructor))return r}else if(r instanceof c&&(r=r.lookup(t.slice(1),i,!0)))return r}else for(var e=0;e<this.nestedArray.length;++e)if(this.k[e]instanceof c&&(r=this.k[e].lookup(t,i,!0)))return r;return null===this.parent||n?null:this.parent.lookup(t,i)},c.prototype.lookupType=function(t){var i=this.lookup(t,[e]);if(i)return i;throw Error("no such type: "+t)},c.prototype.lookupEnum=function(t){var i=this.lookup(t,[o]);if(i)return i;throw Error("no such Enum '"+t+"' in "+this)},c.prototype.lookupTypeOrEnum=function(t){var i=this.lookup(t,[e,o]);if(i)return i;throw Error("no such Type or Enum '"+t+"' in "+this)},c.prototype.lookupService=function(t){var i=this.lookup(t,[s]);if(i)return i;throw Error("no such Service '"+t+"' in "+this)},c.O=function(t,i,n){e=t,s=i,o=n}},function(t,i,n){"use strict";var n=n(0),e=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function r(t,i){var n=0,r={};for(i|=0;n<t.length;)r[e[n+i]]=t[n++];return r}i.basic=r([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),i.defaults=r([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",n.emptyArray,null]),i.long=r([0,0,0,1,1],7),i.mapKey=r([0,0,0,5,5,0,0,0,1,1,0,2],2),i.packed=r([1,5,0,0,0,5,5,0,0,0,1,1,0])},function(t,i,n){"use strict";t.exports=o;var e=n(4),r=(((o.prototype=Object.create(e.prototype)).constructor=o).className="OneOf",n(5)),s=n(0);function o(t,i,n,r){if(Array.isArray(i)||(n=i,i=void 0),e.call(this,t,n),void 0!==i&&!Array.isArray(i))throw TypeError("fieldNames must be an Array");this.oneof=i||[],this.fieldsArray=[],this.comment=r}function u(t){if(t.parent)for(var i=0;i<t.fieldsArray.length;++i)t.fieldsArray[i].parent||t.parent.add(t.fieldsArray[i])}o.fromJSON=function(t,i){return new o(t,i.oneof,i.options,i.comment)},o.prototype.toJSON=function(t){t=!!t&&Boolean(t.keepComments);return s.toObject(["options",this.options,"oneof",this.oneof,"comment",t?this.comment:void 0])},o.prototype.add=function(t){if(t instanceof r)return t.parent&&t.parent!==this.parent&&t.parent.remove(t),this.oneof.push(t.name),this.fieldsArray.push(t),u(t.partOf=this),this;throw TypeError("field must be a Field")},o.prototype.remove=function(t){if(!(t instanceof r))throw TypeError("field must be a Field");var i=this.fieldsArray.indexOf(t);if(i<0)throw Error(t+" is not a member of "+this);return this.fieldsArray.splice(i,1),-1<(i=this.oneof.indexOf(t.name))&&this.oneof.splice(i,1),t.partOf=null,this},o.prototype.onAdd=function(t){e.prototype.onAdd.call(this,t);for(var i=0;i<this.oneof.length;++i){var n=t.get(this.oneof[i]);n&&!n.partOf&&(n.partOf=this).fieldsArray.push(n)}u(this)},o.prototype.onRemove=function(t){for(var i,n=0;n<this.fieldsArray.length;++n)(i=this.fieldsArray[n]).parent&&i.parent.remove(i);e.prototype.onRemove.call(this,t)},o.d=function(){for(var n=new Array(arguments.length),t=0;t<arguments.length;)n[t]=arguments[t++];return function(t,i){s.decorateType(t.constructor).add(new o(i,n)),Object.defineProperty(t,i,{get:s.oneOfGetter(n),set:s.oneOfSetter(n)})}}},function(t,i){var n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,i,n){"use strict";t.exports=c;var r,e=n(2),s=e.LongBits,o=e.base64,u=e.utf8;function h(t,i,n){this.fn=t,this.len=i,this.next=void 0,this.val=n}function a(){}function f(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function c(){this.len=0,this.head=new h(a,0,0),this.tail=this.head,this.states=null}function l(){return e.Buffer?function(){return(c.create=function(){return new r})()}:function(){return new c}}function v(t,i,n){i[n]=255&t}function y(t,i){this.len=t,this.next=void 0,this.val=i}function d(t,i,n){for(;t.hi;)i[n++]=127&t.lo|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;127<t.lo;)i[n++]=127&t.lo|128,t.lo=t.lo>>>7;i[n++]=t.lo}function b(t,i,n){i[n]=255&t,i[n+1]=t>>>8&255,i[n+2]=t>>>16&255,i[n+3]=t>>>24}c.create=l(),c.alloc=function(t){return new e.Array(t)},e.Array!==Array&&(c.alloc=e.pool(c.alloc,e.Array.prototype.subarray)),c.prototype.R=function(t,i,n){return this.tail=this.tail.next=new h(t,i,n),this.len+=i,this},(y.prototype=Object.create(h.prototype)).fn=function(t,i,n){for(;127<t;)i[n++]=127&t|128,t>>>=7;i[n]=t},c.prototype.uint32=function(t){return this.len+=(this.tail=this.tail.next=new y((t>>>=0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this},c.prototype.int32=function(t){return t<0?this.R(d,10,s.fromNumber(t)):this.uint32(t)},c.prototype.sint32=function(t){return this.uint32((t<<1^t>>31)>>>0)},c.prototype.int64=c.prototype.uint64=function(t){t=s.from(t);return this.R(d,t.length(),t)},c.prototype.sint64=function(t){t=s.from(t).zzEncode();return this.R(d,t.length(),t)},c.prototype.bool=function(t){return this.R(v,1,t?1:0)},c.prototype.sfixed32=c.prototype.fixed32=function(t){return this.R(b,4,t>>>0)},c.prototype.sfixed64=c.prototype.fixed64=function(t){t=s.from(t);return this.R(b,4,t.lo).R(b,4,t.hi)},c.prototype.float=function(t){return this.R(e.float.writeFloatLE,4,t)},c.prototype.double=function(t){return this.R(e.float.writeDoubleLE,8,t)};var p=e.Array.prototype.set?function(t,i,n){i.set(t,n)}:function(t,i,n){for(var r=0;r<t.length;++r)i[n+r]=t[r]};c.prototype.bytes=function(t){var i,n=t.length>>>0;return n?(e.isString(t)&&(i=c.alloc(n=o.length(t)),o.decode(t,i,0),t=i),this.uint32(n).R(p,n,t)):this.R(v,1,0)},c.prototype.string=function(t){var i=u.length(t);return i?this.uint32(i).R(u.write,i,t):this.R(v,1,0)},c.prototype.fork=function(){return this.states=new f(this),this.head=this.tail=new h(a,0,0),this.len=0,this},c.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new h(a,0,0),this.len=0),this},c.prototype.ldelim=function(){var t=this.head,i=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=t.next,this.tail=i,this.len+=n),this},c.prototype.finish=function(){for(var t=this.head.next,i=this.constructor.alloc(this.len),n=0;t;)t.fn(t.val,i,n),n+=t.len,t=t.next;return i},c.O=function(t){r=t,c.create=l(),r.O()}},function(t,i,n){"use strict";t.exports=h;var r,e=n(2),s=e.LongBits,o=e.utf8;function u(t,i){return RangeError("index out of range: "+t.pos+" + "+(i||1)+" > "+t.len)}function h(t){this.buf=t,this.pos=0,this.len=t.length}function a(){return e.Buffer?function(t){return(h.create=function(t){return e.Buffer.isBuffer(t)?new r(t):c(t)})(t)}:c}var f,c="undefined"!=typeof Uint8Array?function(t){if(t instanceof Uint8Array||Array.isArray(t))return new h(t);throw Error("illegal buffer")}:function(t){if(Array.isArray(t))return new h(t);throw Error("illegal buffer")};function l(){var t=new s(0,0),i=0;if(!(4<this.len-this.pos)){for(;i<3;++i){if(this.pos>=this.len)throw u(this);if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*i)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(127&this.buf[this.pos++])<<7*i)>>>0,t}for(;i<4;++i)if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*i)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(127&this.buf[this.pos])<<28)>>>0,t.hi=(t.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return t;if(i=0,4<this.len-this.pos){for(;i<5;++i)if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*i+3)>>>0,this.buf[this.pos++]<128)return t}else for(;i<5;++i){if(this.pos>=this.len)throw u(this);if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*i+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}function v(t,i){return(t[i-4]|t[i-3]<<8|t[i-2]<<16|t[i-1]<<24)>>>0}function y(){if(this.pos+8>this.len)throw u(this,8);return new s(v(this.buf,this.pos+=4),v(this.buf,this.pos+=4))}h.create=a(),h.prototype.A=e.Array.prototype.subarray||e.Array.prototype.slice,h.prototype.uint32=(f=4294967295,function(){if(f=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return f;if(f=(f|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return f;if(f=(f|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return f;if(f=(f|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return f;if(f=(f|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return f;if((this.pos+=5)>this.len)throw this.pos=this.len,u(this,10);return f}),h.prototype.int32=function(){return 0|this.uint32()},h.prototype.sint32=function(){var t=this.uint32();return t>>>1^-(1&t)|0},h.prototype.bool=function(){return 0!==this.uint32()},h.prototype.fixed32=function(){if(this.pos+4>this.len)throw u(this,4);return v(this.buf,this.pos+=4)},h.prototype.sfixed32=function(){if(this.pos+4>this.len)throw u(this,4);return 0|v(this.buf,this.pos+=4)},h.prototype.float=function(){if(this.pos+4>this.len)throw u(this,4);var t=e.float.readFloatLE(this.buf,this.pos);return this.pos+=4,t},h.prototype.double=function(){if(this.pos+8>this.len)throw u(this,4);var t=e.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,t},h.prototype.bytes=function(){var t=this.uint32(),i=this.pos,n=this.pos+t;if(n>this.len)throw u(this,t);return this.pos+=t,Array.isArray(this.buf)?this.buf.slice(i,n):i===n?new this.buf.constructor(0):this.A.call(this.buf,i,n)},h.prototype.string=function(){var t=this.bytes();return o.read(t,0,t.length)},h.prototype.skip=function(t){if("number"==typeof t){if(this.pos+t>this.len)throw u(this,t);this.pos+=t}else do{if(this.pos>=this.len)throw u(this)}while(128&this.buf[this.pos++]);return this},h.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(t=7&this.uint32());)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this},h.O=function(t){r=t,h.create=a(),r.O();var i=e.Long?"toLong":"toNumber";e.merge(h.prototype,{int64:function(){return l.call(this)[i](!1)},uint64:function(){return l.call(this)[i](!0)},sint64:function(){return l.call(this).zzDecode()[i](!1)},fixed64:function(){return y.call(this)[i](!0)},sfixed64:function(){return y.call(this)[i](!1)}})}},function(t,i,n){"use strict";t.exports=e;var r=n(2);function e(t){if(t)for(var i=Object.keys(t),n=0;n<i.length;++n)this[i[n]]=t[i[n]]}e.create=function(t){return this.$type.create(t)},e.encode=function(t,i){return this.$type.encode(t,i)},e.encodeDelimited=function(t,i){return this.$type.encodeDelimited(t,i)},e.decode=function(t){return this.$type.decode(t)},e.decodeDelimited=function(t){return this.$type.decodeDelimited(t)},e.verify=function(t){return this.$type.verify(t)},e.fromObject=function(t){return this.$type.fromObject(t)},e.toObject=function(t,i){return this.$type.toObject(t,i)},e.prototype.toJSON=function(){return this.$type.toObject(this,r.toJSONOptions)}},function(t,i,n){"use strict";t.exports=function(t,i){var n=new Array(arguments.length-1),s=0,r=2,o=!0;for(;r<arguments.length;)n[s++]=arguments[r++];return new Promise(function(r,e){n[s]=function(t){if(o)if(o=!1,t)e(t);else{for(var i=new Array(arguments.length-1),n=0;n<i.length;)i[n++]=arguments[n];r.apply(null,i)}};try{t.apply(i||null,n)}catch(t){o&&(o=!1,e(t))}})}},function(module,exports,__webpack_require__){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},function(t,i,n){"use strict";i.Service=n(39)},function(t,i,n){"use strict";t.exports={}},function(t,i,n){"use strict";t.exports=function(t){for(var i,n=c.codegen(["m","w"],t.name+"$encode")("if(!w)")("w=Writer.create()"),r=t.fieldsArray.slice().sort(c.compareFieldsById),e=0;e<r.length;++e){var s=r[e].resolve(),o=t.S.indexOf(s),u=s.resolvedType instanceof a?"int32":s.type,h=f.basic[u];i="m"+c.safeProp(s.name),s.map?(n("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",i,s.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",i)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(s.id<<3|2)>>>0,8|f.mapKey[s.keyType],s.keyType),void 0===h?n("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",o,i):n(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|h,u,i),n("}")("}")):s.repeated?(n("if(%s!=null&&%s.length){",i,i),s.packed&&void 0!==f.packed[u]?n("w.uint32(%i).fork()",(s.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",i)("w.%s(%s[i])",u,i)("w.ldelim()"):(n("for(var i=0;i<%s.length;++i)",i),void 0===h?l(n,s,o,i+"[i]"):n("w.uint32(%i).%s(%s[i])",(s.id<<3|h)>>>0,u,i)),n("}")):(s.optional&&n("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",i,s.name),void 0===h?l(n,s,o,i):n("w.uint32(%i).%s(%s)",(s.id<<3|h)>>>0,u,i))}return n("return w")};var a=n(3),f=n(7),c=n(0);function l(t,i,n,r){i.resolvedType.group?t("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",n,r,(i.id<<3|3)>>>0,(i.id<<3|4)>>>0):t("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",n,r,(i.id<<3|2)>>>0)}},function(t,i,n){"use strict";t.exports=m;var o=n(6),u=(((m.prototype=Object.create(o.prototype)).constructor=m).className="Type",n(3)),h=n(8),a=n(5),f=n(19),c=n(20),e=n(12),s=n(11),l=n(10),v=n(0),y=n(17),d=n(22),b=n(23),p=n(24),w=n(25);function m(t,i){o.call(this,t,i),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this.N=null,this.S=null,this.I=null,this.L=null}function r(t){return t.N=t.S=t.I=null,delete t.encode,delete t.decode,delete t.verify,t}Object.defineProperties(m.prototype,{fieldsById:{get:function(){if(this.N)return this.N;this.N={};for(var t=Object.keys(this.fields),i=0;i<t.length;++i){var n=this.fields[t[i]],r=n.id;if(this.N[r])throw Error("duplicate id "+r+" in "+this);this.N[r]=n}return this.N}},fieldsArray:{get:function(){return this.S||(this.S=v.toArray(this.fields))}},oneofsArray:{get:function(){return this.I||(this.I=v.toArray(this.oneofs))}},ctor:{get:function(){return this.L||(this.ctor=m.generateConstructor(this)())},set:function(t){for(var i=t.prototype,n=(i instanceof e||((t.prototype=new e).constructor=t,v.merge(t.prototype,i)),t.$type=t.prototype.$type=this,v.merge(t,e,!0),this.L=t,0);n<this.fieldsArray.length;++n)this.S[n].resolve();for(var r={},n=0;n<this.oneofsArray.length;++n)r[this.I[n].resolve().name]={get:v.oneOfGetter(this.I[n].oneof),set:v.oneOfSetter(this.I[n].oneof)};n&&Object.defineProperties(t.prototype,r)}}}),m.generateConstructor=function(t){for(var i,n=v.codegen(["p"],t.name),r=0;r<t.fieldsArray.length;++r)(i=t.S[r]).map?n("this%s={}",v.safeProp(i.name)):i.repeated&&n("this%s=[]",v.safeProp(i.name));return n("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},m.fromJSON=function(t,i){for(var n=new m(t,i.options),r=(n.extensions=i.extensions,n.reserved=i.reserved,Object.keys(i.fields)),e=0;e<r.length;++e)n.add((void 0!==i.fields[r[e]].keyType?f:a).fromJSON(r[e],i.fields[r[e]]));if(i.oneofs)for(r=Object.keys(i.oneofs),e=0;e<r.length;++e)n.add(h.fromJSON(r[e],i.oneofs[r[e]]));if(i.nested)for(r=Object.keys(i.nested),e=0;e<r.length;++e){var s=i.nested[r[e]];n.add((void 0!==s.id?a:void 0!==s.fields?m:void 0!==s.values?u:void 0!==s.methods?c:o).fromJSON(r[e],s))}return i.extensions&&i.extensions.length&&(n.extensions=i.extensions),i.reserved&&i.reserved.length&&(n.reserved=i.reserved),i.group&&(n.group=!0),i.comment&&(n.comment=i.comment),n},m.prototype.toJSON=function(t){var i=o.prototype.toJSON.call(this,t),n=!!t&&Boolean(t.keepComments);return v.toObject(["options",i&&i.options||void 0,"oneofs",o.arrayToJSON(this.oneofsArray,t),"fields",o.arrayToJSON(this.fieldsArray.filter(function(t){return!t.declaringField}),t)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",i&&i.nested||void 0,"comment",n?this.comment:void 0])},m.prototype.resolveAll=function(){for(var t=this.fieldsArray,i=0;i<t.length;)t[i++].resolve();for(var n=this.oneofsArray,i=0;i<n.length;)n[i++].resolve();return o.prototype.resolveAll.call(this)},m.prototype.get=function(t){return this.fields[t]||this.oneofs&&this.oneofs[t]||this.nested&&this.nested[t]||null},m.prototype.add=function(t){if(this.get(t.name))throw Error("duplicate name '"+t.name+"' in "+this);if(t instanceof a&&void 0===t.extend){if((this.N||this.fieldsById)[t.id])throw Error("duplicate id "+t.id+" in "+this);if(this.isReservedId(t.id))throw Error("id "+t.id+" is reserved in "+this);if(this.isReservedName(t.name))throw Error("name '"+t.name+"' is reserved in "+this);return t.parent&&t.parent.remove(t),(this.fields[t.name]=t).message=this,t.onAdd(this),r(this)}return t instanceof h?(this.oneofs||(this.oneofs={}),(this.oneofs[t.name]=t).onAdd(this),r(this)):o.prototype.add.call(this,t)},m.prototype.remove=function(t){if(t instanceof a&&void 0===t.extend){if(this.fields&&this.fields[t.name]===t)return delete this.fields[t.name],t.parent=null,t.onRemove(this),r(this);throw Error(t+" is not a member of "+this)}if(t instanceof h){if(this.oneofs&&this.oneofs[t.name]===t)return delete this.oneofs[t.name],t.parent=null,t.onRemove(this),r(this);throw Error(t+" is not a member of "+this)}return o.prototype.remove.call(this,t)},m.prototype.isReservedId=function(t){return o.isReservedId(this.reserved,t)},m.prototype.isReservedName=function(t){return o.isReservedName(this.reserved,t)},m.prototype.create=function(t){return new this.ctor(t)},m.prototype.setup=function(){for(var t=this.fullName,i=[],n=0;n<this.fieldsArray.length;++n)i.push(this.S[n].resolve().resolvedType);this.encode=y(this)({Writer:l,types:i,util:v}),this.decode=d(this)({Reader:s,types:i,util:v}),this.verify=b(this)({types:i,util:v}),this.fromObject=p.fromObject(this)({types:i,util:v}),this.toObject=p.toObject(this)({types:i,util:v});var r,t=w[t];return t&&((r=Object.create(this)).fromObject=this.fromObject,this.fromObject=t.fromObject.bind(r),r.toObject=this.toObject,this.toObject=t.toObject.bind(r)),this},m.prototype.encode=function(t,i){return this.setup().encode(t,i)},m.prototype.encodeDelimited=function(t,i){return this.encode(t,i&&i.len?i.fork():i).ldelim()},m.prototype.decode=function(t,i){return this.setup().decode(t,i)},m.prototype.decodeDelimited=function(t){return t instanceof s||(t=s.create(t)),this.decode(t,t.uint32())},m.prototype.verify=function(t){return this.setup().verify(t)},m.prototype.fromObject=function(t){return this.setup().fromObject(t)},m.prototype.toObject=function(t,i){return this.setup().toObject(t,i)},m.d=function(i){return function(t){v.decorateType(t,i)}}},function(t,i,n){"use strict";t.exports=s;var o=n(5),r=(((s.prototype=Object.create(o.prototype)).constructor=s).className="MapField",n(7)),u=n(0);function s(t,i,n,r,e,s){if(o.call(this,t,i,r,void 0,void 0,e,s),!u.isString(n))throw TypeError("keyType must be a string");this.keyType=n,this.resolvedKeyType=null,this.map=!0}s.fromJSON=function(t,i){return new s(t,i.id,i.keyType,i.type,i.options,i.comment)},s.prototype.toJSON=function(t){t=!!t&&Boolean(t.keepComments);return u.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},s.prototype.resolve=function(){if(this.resolved)return this;if(void 0===r.mapKey[this.keyType])throw Error("invalid key type: "+this.keyType);return o.prototype.resolve.call(this)},s.d=function(n,r,e){return"function"==typeof e?e=u.decorateType(e).name:e&&"object"==typeof e&&(e=u.decorateEnum(e).name),function(t,i){u.decorateType(t.constructor).add(new s(i,n,r,e))}}},function(t,i,n){"use strict";t.exports=o;var r=n(6),s=(((o.prototype=Object.create(r.prototype)).constructor=o).className="Service",n(21)),u=n(0),h=n(15);function o(t,i){r.call(this,t,i),this.methods={},this.D=null}function e(t){return t.D=null,t}o.fromJSON=function(t,i){var n=new o(t,i.options);if(i.methods)for(var r=Object.keys(i.methods),e=0;e<r.length;++e)n.add(s.fromJSON(r[e],i.methods[r[e]]));return i.nested&&n.addJSON(i.nested),n.comment=i.comment,n},o.prototype.toJSON=function(t){var i=r.prototype.toJSON.call(this,t),n=!!t&&Boolean(t.keepComments);return u.toObject(["options",i&&i.options||void 0,"methods",r.arrayToJSON(this.methodsArray,t)||{},"nested",i&&i.nested||void 0,"comment",n?this.comment:void 0])},Object.defineProperty(o.prototype,"methodsArray",{get:function(){return this.D||(this.D=u.toArray(this.methods))}}),o.prototype.get=function(t){return this.methods[t]||r.prototype.get.call(this,t)},o.prototype.resolveAll=function(){for(var t=this.methodsArray,i=0;i<t.length;++i)t[i].resolve();return r.prototype.resolve.call(this)},o.prototype.add=function(t){if(this.get(t.name))throw Error("duplicate name '"+t.name+"' in "+this);return t instanceof s?e((this.methods[t.name]=t).parent=this):r.prototype.add.call(this,t)},o.prototype.remove=function(t){if(t instanceof s){if(this.methods[t.name]!==t)throw Error(t+" is not a member of "+this);return delete this.methods[t.name],t.parent=null,e(this)}return r.prototype.remove.call(this,t)},o.prototype.create=function(t,i,n){for(var r,e=new h.Service(t,i,n),s=0;s<this.methodsArray.length;++s){var o=u.lcFirst((r=this.D[s]).resolve().name).replace(/[^$\w_]/g,"");e[o]=u.codegen(["r","c"],u.isReserved(o)?o+"_":o)("return this.rpcCall(m,q,s,r,c)")({m:r,q:r.resolvedRequestType.ctor,s:r.resolvedResponseType.ctor})}return e}},function(t,i,n){"use strict";t.exports=r;var a=n(4),f=(((r.prototype=Object.create(a.prototype)).constructor=r).className="Method",n(0));function r(t,i,n,r,e,s,o,u,h){if(f.isObject(e)?(o=e,e=s=void 0):f.isObject(s)&&(o=s,s=void 0),void 0!==i&&!f.isString(i))throw TypeError("type must be a string");if(!f.isString(n))throw TypeError("requestType must be a string");if(!f.isString(r))throw TypeError("responseType must be a string");a.call(this,t,o),this.type=i||"rpc",this.requestType=n,this.requestStream=!!e||void 0,this.responseType=r,this.responseStream=!!s||void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=u,this.parsedOptions=h}r.fromJSON=function(t,i){return new r(t,i.type,i.requestType,i.responseType,i.requestStream,i.responseStream,i.options,i.comment,i.parsedOptions)},r.prototype.toJSON=function(t){t=!!t&&Boolean(t.keepComments);return f.toObject(["type","rpc"!==this.type&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",t?this.comment:void 0,"parsedOptions",this.parsedOptions])},r.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),a.prototype.resolve.call(this))}},function(t,i,n){"use strict";t.exports=function(t){var i=a.codegen(["r","l"],t.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(t.fieldsArray.filter(function(t){return t.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");t.group&&i("if((t&7)===4)")("break");i("switch(t>>>3){");for(var n=0;n<t.fieldsArray.length;++n){var r=t.S[n].resolve(),e=r.resolvedType instanceof u?"int32":r.type,s="m"+a.safeProp(r.name);i("case %i:",r.id),r.map?(i("if(%s===util.emptyObject)",s)("%s={}",s)("var c2 = r.uint32()+r.pos"),void 0!==h.defaults[r.keyType]?i("k=%j",h.defaults[r.keyType]):i("k=null"),void 0!==h.defaults[e]?i("value=%j",h.defaults[e]):i("value=null"),i("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",r.keyType)("case 2:"),void 0===h.basic[e]?i("value=types[%i].decode(r,r.uint32())",n):i("value=r.%s()",e),i("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),void 0!==h.long[r.keyType]?i('%s[typeof k==="object"?util.longToHash(k):k]=value',s):i("%s[k]=value",s)):r.repeated?(i("if(!(%s&&%s.length))",s,s)("%s=[]",s),void 0!==h.packed[e]&&i("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",s,e)("}else"),void 0===h.basic[e]?i(r.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",s,n):i("%s.push(r.%s())",s,e)):void 0===h.basic[e]?i(r.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",s,n):i("%s=r.%s()",s,e),i("break")}for(i("default:")("r.skipType(t&7)")("break")("}")("}"),n=0;n<t.S.length;++n){var o=t.S[n];o.required&&i("if(!m.hasOwnProperty(%j))",o.name)("throw util.ProtocolError(%j,{instance:m})","missing required '"+o.name+"'")}return i("return m")};var u=n(3),h=n(7),a=n(0)},function(t,i,n){"use strict";t.exports=function(t){var i=h.codegen(["m"],t.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),n=t.oneofsArray,r={};n.length&&i("var p={}");for(var e=0;e<t.fieldsArray.length;++e){var s,o=t.S[e].resolve(),u="m"+h.safeProp(o.name);o.optional&&i("if(%s!=null&&m.hasOwnProperty(%j)){",u,o.name),o.map?(i("if(!util.isObject(%s))",u)("return%j",a(o,"object"))("var k=Object.keys(%s)",u)("for(var i=0;i<k.length;++i){"),function(t,i,n){switch(i.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":t("if(!util.key32Re.test(%s))",n)("return%j",a(i,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":t("if(!util.key64Re.test(%s))",n)("return%j",a(i,"integer|Long key"));break;case"bool":t("if(!util.key2Re.test(%s))",n)("return%j",a(i,"boolean key"))}}(i,o,"k[i]"),f(i,o,e,u+"[k[i]]")("}")):o.repeated?(i("if(!Array.isArray(%s))",u)("return%j",a(o,"array"))("for(var i=0;i<%s.length;++i){",u),f(i,o,e,u+"[i]")("}")):(o.partOf&&(s=h.safeProp(o.partOf.name),1===r[o.partOf.name]&&i("if(p%s===1)",s)("return%j",o.partOf.name+": multiple values"),r[o.partOf.name]=1,i("p%s=1",s)),f(i,o,e,u)),o.optional&&i("}")}return i("return null")};var o=n(3),h=n(0);function a(t,i){return t.name+": "+i+(t.repeated&&"array"!==i?"[]":t.map&&"object"!==i?"{k:"+t.keyType+"}":"")+" expected"}function f(t,i,n,r){if(i.resolvedType)if(i.resolvedType instanceof o){t("switch(%s){",r)("default:")("return%j",a(i,"enum value"));for(var e=Object.keys(i.resolvedType.values),s=0;s<e.length;++s)t("case %i:",i.resolvedType.values[e[s]]);t("break")("}")}else t("{")("var e=types[%i].verify(%s);",n,r)("if(e)")("return%j+e",i.name+".")("}");else switch(i.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":t("if(!util.isInteger(%s))",r)("return%j",a(i,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":t("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",r,r,r,r)("return%j",a(i,"integer|Long"));break;case"float":case"double":t('if(typeof %s!=="number")',r)("return%j",a(i,"number"));break;case"bool":t('if(typeof %s!=="boolean")',r)("return%j",a(i,"boolean"));break;case"string":t("if(!util.isString(%s))",r)("return%j",a(i,"string"));break;case"bytes":t('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',r,r,r)("return%j",a(i,"buffer"))}return t}},function(t,i,n){"use strict";var l=n(3),v=n(0);function o(t,i,n,r){if(i.resolvedType)if(i.resolvedType instanceof l){t("switch(d%s){",r);for(var e=i.resolvedType.values,s=Object.keys(e),o=0;o<s.length;++o)i.repeated&&e[s[o]]===i.typeDefault&&t("default:"),t("case%j:",s[o])("case %i:",e[s[o]])("m%s=%j",r,e[s[o]])("break");t("}")}else t('if(typeof d%s!=="object")',r)("throw TypeError(%j)",i.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",r,n,r);else{var u=!1;switch(i.type){case"double":case"float":t("m%s=Number(d%s)",r,r);break;case"uint32":case"fixed32":t("m%s=d%s>>>0",r,r);break;case"int32":case"sint32":case"sfixed32":t("m%s=d%s|0",r,r);break;case"uint64":u=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":t("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",r,r,u)('else if(typeof d%s==="string")',r)("m%s=parseInt(d%s,10)",r,r)('else if(typeof d%s==="number")',r)("m%s=d%s",r,r)('else if(typeof d%s==="object")',r)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",r,r,r,u?"true":"");break;case"bytes":t('if(typeof d%s==="string")',r)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",r,r,r)("else if(d%s.length)",r)("m%s=d%s",r,r);break;case"string":t("m%s=String(d%s)",r,r);break;case"bool":t("m%s=Boolean(d%s)",r,r)}}return t}function y(t,i,n,r){if(i.resolvedType)i.resolvedType instanceof l?t("d%s=o.enums===String?types[%i].values[m%s]:m%s",r,n,r,r):t("d%s=types[%i].toObject(m%s,o)",r,n,r);else{var e=!1;switch(i.type){case"double":case"float":t("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",r,r,r,r);break;case"uint64":e=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":t('if(typeof m%s==="number")',r)("d%s=o.longs===String?String(m%s):m%s",r,r,r)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",r,r,r,r,e?"true":"",r);break;case"bytes":t("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",r,r,r,r,r);break;default:t("d%s=m%s",r,r)}}return t}i.fromObject=function(t){var i=t.fieldsArray,n=v.codegen(["d"],t.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!i.length)return n("return new this.ctor");n("var m=new this.ctor");for(var r=0;r<i.length;++r){var e=i[r].resolve(),s=v.safeProp(e.name);e.map?(n("if(d%s){",s)('if(typeof d%s!=="object")',s)("throw TypeError(%j)",e.fullName+": object expected")("m%s={}",s)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",s),o(n,e,r,s+"[ks[i]]")("}")("}")):e.repeated?(n("if(d%s){",s)("if(!Array.isArray(d%s))",s)("throw TypeError(%j)",e.fullName+": array expected")("m%s=[]",s)("for(var i=0;i<d%s.length;++i){",s),o(n,e,r,s+"[i]")("}")("}")):(e.resolvedType instanceof l||n("if(d%s!=null){",s),o(n,e,r,s),e.resolvedType instanceof l||n("}"))}return n("return m")},i.toObject=function(t){var i=t.fieldsArray.slice().sort(v.compareFieldsById);if(!i.length)return v.codegen()("return {}");for(var n=v.codegen(["m","o"],t.name+"$toObject")("if(!o)")("o={}")("var d={}"),r=[],e=[],s=[],o=0;o<i.length;++o)i[o].partOf||(i[o].resolve().repeated?r:i[o].map?e:s).push(i[o]);if(r.length){for(n("if(o.arrays||o.defaults){"),o=0;o<r.length;++o)n("d%s=[]",v.safeProp(r[o].name));n("}")}if(e.length){for(n("if(o.objects||o.defaults){"),o=0;o<e.length;++o)n("d%s={}",v.safeProp(e[o].name));n("}")}if(s.length){for(n("if(o.defaults){"),o=0;o<s.length;++o){var u,h=s[o],a=v.safeProp(h.name);h.resolvedType instanceof l?n("d%s=o.enums===String?%j:%j",a,h.resolvedType.valuesById[h.typeDefault],h.typeDefault):h.long?n("if(util.Long){")("var n=new util.Long(%i,%i,%j)",h.typeDefault.low,h.typeDefault.high,h.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",a)("}else")("d%s=o.longs===String?%j:%i",a,h.typeDefault.toString(),h.typeDefault.toNumber()):h.bytes?(u="["+Array.prototype.slice.call(h.typeDefault).join(",")+"]",n("if(o.bytes===String)d%s=%j",a,String.fromCharCode.apply(String,h.typeDefault))("else{")("d%s=%s",a,u)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",a,a)("}")):n("d%s=%j",a,h.typeDefault)}n("}")}for(var f=!1,o=0;o<i.length;++o){var h=i[o],c=t.S.indexOf(h),a=v.safeProp(h.name);h.map?(f||(f=!0,n("var ks2")),n("if(m%s&&(ks2=Object.keys(m%s)).length){",a,a)("d%s={}",a)("for(var j=0;j<ks2.length;++j){"),y(n,h,c,a+"[ks2[j]]")("}")):h.repeated?(n("if(m%s&&m%s.length){",a,a)("d%s=[]",a)("for(var j=0;j<m%s.length;++j){",a),y(n,h,c,a+"[j]")("}")):(n("if(m%s!=null&&m.hasOwnProperty(%j)){",a,h.name),y(n,h,c,a),h.partOf&&n("if(o.oneofs)")("d%s=%j",v.safeProp(h.partOf.name),h.name)),n("}")}return n("return d")}},function(t,i,n){"use strict";var o=n(12);i[".google.protobuf.Any"]={fromObject:function(t){if(t&&t["@type"]){var i,n=t["@type"].substring(t["@type"].lastIndexOf("/")+1),n=this.lookup(n);if(n)return-1===(i="."===t["@type"].charAt(0)?t["@type"].substr(1):t["@type"]).indexOf("/")&&(i="/"+i),this.create({type_url:i,value:n.encode(n.fromObject(t)).finish()})}return this.fromObject(t)},toObject:function(t,i){var n,r,e="",s="";return i&&i.json&&t.type_url&&t.value&&(s=t.type_url.substring(t.type_url.lastIndexOf("/")+1),e=t.type_url.substring(0,t.type_url.lastIndexOf("/")+1),(n=this.lookup(s))&&(t=n.decode(t.value))),!(t instanceof this.ctor)&&t instanceof o?(n=t.$type.toObject(t,i),r="."===t.$type.fullName[0]?t.$type.fullName.substr(1):t.$type.fullName,n["@type"]=s=(e=""===e?"type.googleapis.com/":e)+r,n):this.toObject(t,i)}}},function(t,i,n){"use strict";t.exports=h;var r,v,y,e=n(6),s=(((h.prototype=Object.create(e.prototype)).constructor=h).className="Root",n(5)),o=n(3),u=n(8),d=n(0);function h(t){e.call(this,"",t),this.deferred=[],this.files=[]}function b(){}h.fromJSON=function(t,i){return i=i||new h,t.options&&i.setOptions(t.options),i.addJSON(t.nested)},h.prototype.resolvePath=d.path.resolve,h.prototype.fetch=d.fetch,h.prototype.load=function t(i,s,e){"function"==typeof s&&(e=s,s=void 0);var o=this;if(!e)return d.asPromise(t,o,i,s);var u=e===b;function h(t,i){if(e){var n=e;if(e=null,u)throw t;n(t,i)}}function a(t){var i=t.lastIndexOf("google/protobuf/");if(-1<i){t=t.substring(i);if(t in y)return t}return null}function f(t,i){try{if(d.isString(i)&&"{"===i.charAt(0)&&(i=JSON.parse(i)),d.isString(i)){v.filename=t;var n,r=v(i,o,s),e=0;if(r.imports)for(;e<r.imports.length;++e)(n=a(r.imports[e])||o.resolvePath(t,r.imports[e]))&&c(n);if(r.weakImports)for(e=0;e<r.weakImports.length;++e)(n=a(r.weakImports[e])||o.resolvePath(t,r.weakImports[e]))&&c(n,!0)}else o.setOptions(i.options).addJSON(i.nested)}catch(t){h(t)}u||l||h(null,o)}function c(n,r){if(!(-1<o.files.indexOf(n)))if(o.files.push(n),n in y)u?f(n,y[n]):(++l,setTimeout(function(){--l,f(n,y[n])}));else if(u){var t;try{t=d.fs.readFileSync(n).toString("utf8")}catch(t){return void(r||h(t))}f(n,t)}else++l,o.fetch(n,function(t,i){--l,e&&(t?r?l||h(null,o):h(t):f(n,i))})}var l=0;d.isString(i)&&(i=[i]);for(var n,r=0;r<i.length;++r)(n=o.resolvePath("",i[r]))&&c(n);if(u)return o;l||h(null,o)},h.prototype.loadSync=function(t,i){if(d.isNode)return this.load(t,i,b);throw Error("not supported")},h.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(t){return"'extend "+t.extend+"' in "+t.parent.fullName}).join(", "));return e.prototype.resolveAll.call(this)};var a=/^[A-Z]/;function f(t,i){var n,r=i.parent.lookup(i.extend);if(r)return((n=new s(i.fullName,i.id,i.type,i.rule,void 0,i.options)).declaringField=i).extensionField=n,r.add(n),1}h.prototype.j=function(t){if(t instanceof s)void 0===t.extend||t.extensionField||f(0,t)||this.deferred.push(t);else if(t instanceof o)a.test(t.name)&&(t.parent[t.name]=t.values);else if(!(t instanceof u)){if(t instanceof r)for(var i=0;i<this.deferred.length;)f(0,this.deferred[i])?this.deferred.splice(i,1):++i;for(var n=0;n<t.nestedArray.length;++n)this.j(t.k[n]);a.test(t.name)&&(t.parent[t.name]=t)}},h.prototype.T=function(t){var i;if(t instanceof s)void 0!==t.extend&&(t.extensionField?(t.extensionField.parent.remove(t.extensionField),t.extensionField=null):-1<(i=this.deferred.indexOf(t))&&this.deferred.splice(i,1));else if(t instanceof o)a.test(t.name)&&delete t.parent[t.name];else if(t instanceof e){for(var n=0;n<t.nestedArray.length;++n)this.T(t.k[n]);a.test(t.name)&&delete t.parent[t.name]}},h.O=function(t,i,n){r=t,v=i,y=n}},function(t,i,n){"use strict";t.exports=n(29)},function(t,i,n){"use strict";!function(s){function e(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=n(47),t=(n(48),function(){function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.F=null,this.P=400,this.C=null,this.U=null,this.B=new Map}var i,n,r;return i=t,(n=[{key:"url",get:function(){return this.F}},{key:"status",get:function(){return this.P}},{key:"responseType",get:function(){return this.C},set:function(t){this.C=t}},{key:"response",get:function(){return this.U}},{key:"open",value:function(t,i){"GET"==t&&(this.F=i)}},{key:"addEventListener",value:function(t,i){var n=this.B.get(t);n||this.B.set(t,n=[]),n.push(i)}},{key:"send",value:function(){var i=this,t=this.F,n=o.createReadStream(t),r=[],e=0;this.U=null,n.on("readable",function(){var t=n.read();null!=t&&(r.push(t),e+=t.length,i.U?i.U=s.concat([i.U,new s(t)],e):i.U=new s(t))}),n.on("end",function(){i.P=200,i.Z("load")}),n.on("error",function(t){i.P=400,i.Z("error",t)})}}])&&e(i.prototype,n),r&&e(i,r),Object.defineProperty(i,"prototype",{writable:!1}),t}());Object.assign(t.prototype,{Z:function(t,i){if(0!=this.B.size){var n=this.B.get(t);if(n)for(var r=0;r<n.length;r++)n[r]&&n[r](i)}}}),i.a=t}.call(this,n(43).Buffer)},function(t,i,n){"use strict";var r=t.exports=n(30);r.build="light",r.load=function(t,i,n){return(i="function"==typeof i?(n=i,new r.Root):i||new r.Root).load(t,n)},r.loadSync=function(t,i){return(i=i||new r.Root).loadSync(t)},r.encoder=n(17),r.decoder=n(22),r.verifier=n(23),r.converter=n(24),r.ReflectionObject=n(4),r.Namespace=n(6),r.Root=n(26),r.Enum=n(3),r.Type=n(18),r.Field=n(5),r.OneOf=n(8),r.MapField=n(19),r.Service=n(20),r.Method=n(21),r.Message=n(12),r.wrappers=n(25),r.types=n(7),r.util=n(0),r.ReflectionObject.O(r.Root),r.Namespace.O(r.Type,r.Service,r.Enum),r.Root.O(r.Type),r.Field.O(r.Type)},function(t,i,n){"use strict";var r=i;function e(){r.util.O(),r.Writer.O(r.BufferWriter),r.Reader.O(r.BufferReader)}r.build="minimal",r.Writer=n(10),r.BufferWriter=n(37),r.Reader=n(11),r.BufferReader=n(38),r.util=n(2),r.rpc=n(15),r.roots=n(16),r.configure=e,e()},function(t,i,n){"use strict";i.length=function(t){var i=t.length;if(!i)return 0;for(var n=0;1<--i%4&&"="===t.charAt(i);)++n;return Math.ceil(3*t.length)/4-n};for(var a=new Array(64),h=new Array(123),r=0;r<64;)h[a[r]=r<26?r+65:r<52?r+71:r<62?r-4:r-59|43]=r++;i.encode=function(t,i,n){for(var r,e=null,s=[],o=0,u=0;i<n;){var h=t[i++];switch(u){case 0:s[o++]=a[h>>2],r=(3&h)<<4,u=1;break;case 1:s[o++]=a[r|h>>4],r=(15&h)<<2,u=2;break;case 2:s[o++]=a[r|h>>6],s[o++]=a[63&h],u=0}8191<o&&((e=e||[]).push(String.fromCharCode.apply(String,s)),o=0)}return u&&(s[o++]=a[r],s[o++]=61,1===u&&(s[o++]=61)),e?(o&&e.push(String.fromCharCode.apply(String,s.slice(0,o))),e.join("")):String.fromCharCode.apply(String,s.slice(0,o))};var f="invalid encoding";i.decode=function(t,i,n){for(var r,e=n,s=0,o=0;o<t.length;){var u=t.charCodeAt(o++);if(61===u&&1<s)break;if(void 0===(u=h[u]))throw Error(f);switch(s){case 0:r=u,s=1;break;case 1:i[n++]=r<<2|(48&u)>>4,r=u,s=2;break;case 2:i[n++]=(15&r)<<4|(60&u)>>2,r=u,s=3;break;case 3:i[n++]=(3&r)<<6|u,s=0}}if(1===s)throw Error(f);return n-e},i.test=function(t){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)}},function(t,i,n){"use strict";function r(){this.B={}}(t.exports=r).prototype.on=function(t,i,n){return(this.B[t]||(this.B[t]=[])).push({fn:i,ctx:n||this}),this},r.prototype.off=function(t,i){if(void 0===t)this.B={};else if(void 0===i)this.B[t]=[];else for(var n=this.B[t],r=0;r<n.length;)n[r].fn===i?n.splice(r,1):++r;return this},r.prototype.emit=function(t){var i=this.B[t];if(i){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<i.length;)i[r].fn.apply(i[r++].ctx,n)}return this}},function(t,i,n){"use strict";function r(t){function i(t,i,n,r){var e=i<0?1:0;0===(i=e?-i:i)?t(0<1/i?0:2147483648,n,r):isNaN(i)?t(2143289344,n,r):t(34028234663852886e22<i?(e<<31|2139095040)>>>0:i<11754943508222875e-54?(e<<31|Math.round(i/1401298464324817e-60))>>>0:(e<<31|(t=Math.floor(Math.log(i)/Math.LN2))+127<<23|8388607&Math.round(i*Math.pow(2,-t)*8388608))>>>0,n,r)}function n(t,i,n){t=t(i,n),i=2*(t>>31)+1,n=t>>>23&255,t&=8388607;return 255==n?t?NaN:1/0*i:0==n?1401298464324817e-60*i*t:i*Math.pow(2,n-150)*(8388608+t)}function r(t,i,n){u[0]=t,i[n]=h[0],i[n+1]=h[1],i[n+2]=h[2],i[n+3]=h[3]}function e(t,i,n){u[0]=t,i[n]=h[3],i[n+1]=h[2],i[n+2]=h[1],i[n+3]=h[0]}function s(t,i){return h[0]=t[i],h[1]=t[i+1],h[2]=t[i+2],h[3]=t[i+3],u[0]}function o(t,i){return h[3]=t[i],h[2]=t[i+1],h[1]=t[i+2],h[0]=t[i+3],u[0]}var u,h,a,f,c;function l(t,i,n,r,e,s){var o,u,h=r<0?1:0;0===(r=h?-r:r)?(t(0,e,s+i),t(0<1/r?0:2147483648,e,s+n)):isNaN(r)?(t(0,e,s+i),t(2146959360,e,s+n)):17976931348623157e292<r?(t(0,e,s+i),t((h<<31|2146435072)>>>0,e,s+n)):r<22250738585072014e-324?(t((o=r/5e-324)>>>0,e,s+i),t((h<<31|o/4294967296)>>>0,e,s+n)):(1024===(u=Math.floor(Math.log(r)/Math.LN2))&&(u=1023),t(4503599627370496*(o=r*Math.pow(2,-u))>>>0,e,s+i),t((h<<31|u+1023<<20|1048576*o&1048575)>>>0,e,s+n))}function v(t,i,n,r,e){i=t(r,e+i),t=t(r,e+n),r=2*(t>>31)+1,e=t>>>20&2047,n=4294967296*(1048575&t)+i;return 2047==e?n?NaN:1/0*r:0==e?5e-324*r*n:r*Math.pow(2,e-1075)*(n+4503599627370496)}function y(t,i,n){a[0]=t,i[n]=f[0],i[n+1]=f[1],i[n+2]=f[2],i[n+3]=f[3],i[n+4]=f[4],i[n+5]=f[5],i[n+6]=f[6],i[n+7]=f[7]}function d(t,i,n){a[0]=t,i[n]=f[7],i[n+1]=f[6],i[n+2]=f[5],i[n+3]=f[4],i[n+4]=f[3],i[n+5]=f[2],i[n+6]=f[1],i[n+7]=f[0]}function b(t,i){return f[0]=t[i],f[1]=t[i+1],f[2]=t[i+2],f[3]=t[i+3],f[4]=t[i+4],f[5]=t[i+5],f[6]=t[i+6],f[7]=t[i+7],a[0]}function p(t,i){return f[7]=t[i],f[6]=t[i+1],f[5]=t[i+2],f[4]=t[i+3],f[3]=t[i+4],f[2]=t[i+5],f[1]=t[i+6],f[0]=t[i+7],a[0]}return"undefined"!=typeof Float32Array?(u=new Float32Array([-0]),h=new Uint8Array(u.buffer),c=128===h[3],t.writeFloatLE=c?r:e,t.writeFloatBE=c?e:r,t.readFloatLE=c?s:o,t.readFloatBE=c?o:s):(t.writeFloatLE=i.bind(null,w),t.writeFloatBE=i.bind(null,m),t.readFloatLE=n.bind(null,_),t.readFloatBE=n.bind(null,x)),"undefined"!=typeof Float64Array?(a=new Float64Array([-0]),f=new Uint8Array(a.buffer),c=128===f[7],t.writeDoubleLE=c?y:d,t.writeDoubleBE=c?d:y,t.readDoubleLE=c?b:p,t.readDoubleBE=c?p:b):(t.writeDoubleLE=l.bind(null,w,0,4),t.writeDoubleBE=l.bind(null,m,4,0),t.readDoubleLE=v.bind(null,_,0,4),t.readDoubleBE=v.bind(null,x,4,0)),t}function w(t,i,n){i[n]=255&t,i[n+1]=t>>>8&255,i[n+2]=t>>>16&255,i[n+3]=t>>>24}function m(t,i,n){i[n]=t>>>24,i[n+1]=t>>>16&255,i[n+2]=t>>>8&255,i[n+3]=255&t}function _(t,i){return(t[i]|t[i+1]<<8|t[i+2]<<16|t[i+3]<<24)>>>0}function x(t,i){return(t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3])>>>0}t.exports=r(r)},function(t,i,n){"use strict";i.length=function(t){for(var i,n=0,r=0;r<t.length;++r)(i=t.charCodeAt(r))<128?n+=1:i<2048?n+=2:55296==(64512&i)&&56320==(64512&t.charCodeAt(r+1))?(++r,n+=4):n+=3;return n},i.read=function(t,i,n){if(n-i<1)return"";for(var r,e=null,s=[],o=0;i<n;)(r=t[i++])<128?s[o++]=r:191<r&&r<224?s[o++]=(31&r)<<6|63&t[i++]:239<r&&r<365?(r=((7&r)<<18|(63&t[i++])<<12|(63&t[i++])<<6|63&t[i++])-65536,s[o++]=55296+(r>>10),s[o++]=56320+(1023&r)):s[o++]=(15&r)<<12|(63&t[i++])<<6|63&t[i++],8191<o&&((e=e||[]).push(String.fromCharCode.apply(String,s)),o=0);return e?(o&&e.push(String.fromCharCode.apply(String,s.slice(0,o))),e.join("")):String.fromCharCode.apply(String,s.slice(0,o))},i.write=function(t,i,n){for(var r,e,s=n,o=0;o<t.length;++o)(r=t.charCodeAt(o))<128?i[n++]=r:(r<2048?i[n++]=r>>6|192:(55296==(64512&r)&&56320==(64512&(e=t.charCodeAt(o+1)))?(++o,i[n++]=(r=65536+((1023&r)<<10)+(1023&e))>>18|240,i[n++]=r>>12&63|128):i[n++]=r>>12|224,i[n++]=r>>6&63|128),i[n++]=63&r|128);return n-s}},function(t,i,n){"use strict";t.exports=function(i,n,t){var r=t||8192,e=r>>>1,s=null,o=r;return function(t){if(t<1||e<t)return i(t);r<o+t&&(s=i(r),o=0);t=n.call(s,o,o+=t);return 7&o&&(o=1+(7|o)),t}}},function(t,i,n){"use strict";t.exports=e;var r=n(2);function e(t,i){this.lo=t>>>0,this.hi=i>>>0}var s=e.zero=new e(0,0),o=(s.toNumber=function(){return 0},s.zzEncode=s.zzDecode=function(){return this},s.length=function(){return 1},e.zeroHash="\0\0\0\0\0\0\0\0",e.fromNumber=function(t){if(0===t)return s;var i=t<0,n=(t=i?-t:t)>>>0,t=(t-n)/4294967296>>>0;return i&&(t=~t>>>0,n=~n>>>0,4294967295<++n&&(n=0,4294967295<++t&&(t=0))),new e(n,t)},e.from=function(t){if("number"==typeof t)return e.fromNumber(t);if(r.isString(t)){if(!r.Long)return e.fromNumber(parseInt(t,10));t=r.Long.fromString(t)}return t.low||t.high?new e(t.low>>>0,t.high>>>0):s},e.prototype.toNumber=function(t){var i;return!t&&this.hi>>>31?(t=1+~this.lo>>>0,i=~this.hi>>>0,-(t+4294967296*(i=t?i:i+1>>>0))):this.lo+4294967296*this.hi},e.prototype.toLong=function(t){return r.Long?new r.Long(0|this.lo,0|this.hi,Boolean(t)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(t)}},String.prototype.charCodeAt);e.fromHash=function(t){return"\0\0\0\0\0\0\0\0"===t?s:new e((o.call(t,0)|o.call(t,1)<<8|o.call(t,2)<<16|o.call(t,3)<<24)>>>0,(o.call(t,4)|o.call(t,5)<<8|o.call(t,6)<<16|o.call(t,7)<<24)>>>0)},e.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},e.prototype.zzEncode=function(){var t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this},e.prototype.zzDecode=function(){var t=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this},e.prototype.length=function(){var t=this.lo,i=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0==n?0==i?t<16384?t<128?1:2:t<2097152?3:4:i<16384?i<128?5:6:i<2097152?7:8:n<128?9:10}},function(t,i,n){"use strict";t.exports=s;var r=n(10),e=((s.prototype=Object.create(r.prototype)).constructor=s,n(2));function s(){r.call(this)}function o(t,i,n){t.length<40?e.utf8.write(t,i,n):i.utf8Write?i.utf8Write(t,n):i.write(t,n)}s.O=function(){s.alloc=e._,s.writeBytesBuffer=e.Buffer&&e.Buffer.prototype instanceof Uint8Array&&"set"===e.Buffer.prototype.set.name?function(t,i,n){i.set(t,n)}:function(t,i,n){if(t.copy)t.copy(i,n,0,t.length);else for(var r=0;r<t.length;)i[n++]=t[r++]}},s.prototype.bytes=function(t){var i=(t=e.isString(t)?e.v(t,"base64"):t).length>>>0;return this.uint32(i),i&&this.R(s.writeBytesBuffer,i,t),this},s.prototype.string=function(t){var i=e.Buffer.byteLength(t);return this.uint32(i),i&&this.R(o,i,t),this},s.O()},function(t,i,n){"use strict";t.exports=s;var r=n(11),e=((s.prototype=Object.create(r.prototype)).constructor=s,n(2));function s(t){r.call(this,t)}s.O=function(){e.Buffer&&(s.prototype.A=e.Buffer.prototype.slice)},s.prototype.string=function(){var t=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+t,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+t,this.len))},s.O()},function(t,i,n){"use strict";t.exports=r;var u=n(2);function r(t,i,n){if("function"!=typeof t)throw TypeError("rpcImpl must be a function");u.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=Boolean(i),this.responseDelimited=Boolean(n)}((r.prototype=Object.create(u.EventEmitter.prototype)).constructor=r).prototype.rpcCall=function t(n,i,r,e,s){if(!e)throw TypeError("request must be specified");var o=this;if(!s)return u.asPromise(t,o,n,i,r,e);if(o.rpcImpl)try{return o.rpcImpl(n,i[o.requestDelimited?"encodeDelimited":"encode"](e).finish(),function(t,i){if(t)return o.emit("error",t,n),s(t);if(null!==i){if(!(i instanceof r))try{i=r[o.responseDelimited?"decodeDelimited":"decode"](i)}catch(t){return o.emit("error",t,n),s(t)}return o.emit("data",i,n),s(null,i)}o.end(!0)})}catch(t){return o.emit("error",t,n),void setTimeout(function(){s(t)},0)}else setTimeout(function(){s(Error("already ended"))},0)},r.prototype.end=function(t){return this.rpcImpl&&(t||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},function(t,i,n){"use strict";function r(i,n){"string"==typeof i&&(n=i,i=void 0);var h=[];function a(t){if("string"!=typeof t){var i="return "+(i=f());if(t){for(var n=Object.keys(t),r=new Array(n.length+1),e=new Array(n.length),s=0;s<n.length;)r[s]=n[s],e[s]=t[n[s++]];return r[s]=i,Function.apply(null,r).apply(null,e)}return Function(i)()}for(var o=new Array(arguments.length-1),u=0;u<o.length;)o[u]=arguments[++u];if(u=0,t=t.replace(/%([%dfijs])/g,function(t,i){var n=o[u++];switch(i){case"d":case"f":return String(Number(n));case"i":return String(Math.floor(n));case"j":return JSON.stringify(n);case"s":return String(n)}return"%"}),u!==o.length)throw Error("parameter count mismatch");return h.push(t),a}function f(t){return"function "+(t||n||"")+"("+(i&&i.join(",")||"")+"){\n  "+h.join("\n  ")+"\n}"}return a.toString=f,a}(t.exports=r).verbose=!1},function(t,i,n){"use strict";t.exports=u;var s=n(13),o=n(14)("fs");function u(n,r,e){return r="function"==typeof r?(e=r,{}):r||{},e?!r.xhr&&o&&o.readFile?o.readFile(n,function(t,i){return t&&"undefined"!=typeof XMLHttpRequest?u.xhr(n,r,e):t?e(t):e(null,r.binary?i:i.toString("utf8"))}):u.xhr(n,r,e):s(u,this,n,r)}u.xhr=function(t,n,r){var e=new XMLHttpRequest;e.onreadystatechange=function(){if(4===e.readyState){if(0!==e.status&&200!==e.status)return r(Error("status "+e.status));if(n.binary){if(!(t=e.response))for(var t=[],i=0;i<e.responseText.length;++i)t.push(255&e.responseText.charCodeAt(i));return r(null,"undefined"!=typeof Uint8Array?new Uint8Array(t):t)}return r(null,e.responseText)}},n.binary&&("overrideMimeType"in e&&e.overrideMimeType("text/plain; charset=x-user-defined"),e.responseType="arraybuffer"),e.open("GET",t),e.send()}},function(t,i,n){"use strict";var e=i.isAbsolute=function(t){return/^(?:\/|\w+:)/.test(t)},r=i.normalize=function(t){var i=(t=t.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),n=e(t),t="";n&&(t=i.shift()+"/");for(var r=0;r<i.length;)".."===i[r]?0<r&&".."!==i[r-1]?i.splice(--r,2):n?i.splice(r,1):++r:"."===i[r]?i.splice(r,1):++r;return t+i.join("/")};i.resolve=function(t,i,n){return n||(i=r(i)),!e(i)&&(t=(t=n?t:r(t)).replace(/(?:\/|^)[^/]+$/,"")).length?r(t+"/"+i):i}},function(t,N,I){"use strict";!function(t){var j=I(44),s=I(45),u=I(46);function n(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function h(t,i){if(n()<i)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(i)).__proto__=c.prototype:(t=null===t?new c(i):t).length=i,t}function c(t,i,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(t,i,n);if("number"!=typeof t)return r(this,t,i,n);if("string"==typeof i)throw new Error("If encoding is specified then the first argument must be a string");return o(this,t)}function r(t,i,n,r){if("number"==typeof i)throw new TypeError('"value" argument must not be a number');if("undefined"!=typeof ArrayBuffer&&i instanceof ArrayBuffer){var e=t,s=i,o=n;if(s.byteLength,o<0||s.byteLength<o)throw new RangeError("'offset' is out of bounds");if(s.byteLength<o+(r||0))throw new RangeError("'length' is out of bounds");return s=void 0===o&&void 0===r?new Uint8Array(s):void 0===r?new Uint8Array(s,o):new Uint8Array(s,o,r),c.TYPED_ARRAY_SUPPORT?(e=s).__proto__=c.prototype:e=a(e,s),e}if("string"!=typeof i){o=t,r=i;if(c.isBuffer(r))return s=0|f(r.length),0===(o=h(o,s)).length||r.copy(o,0,0,s),o;if(r){if("undefined"!=typeof ArrayBuffer&&r.buffer instanceof ArrayBuffer||"length"in r)return"number"!=typeof r.length||function(t){return t!=t}(r.length)?h(o,0):a(o,r);if("Buffer"===r.type&&u(r.data))return a(o,r.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}e=t,r=i,t=n;if(!c.isEncoding(t="string"==typeof t&&""!==t?t:"utf8"))throw new TypeError('"encoding" must be a valid string encoding');i=0|l(r,t);return e=(r=(e=h(e,i)).write(r,t))!==i?e.slice(0,r):e}function e(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function o(t,i){if(e(i),t=h(t,i<0?0:0|f(i)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<i;++n)t[n]=0;return t}function a(t,i){var n=i.length<0?0:0|f(i.length);t=h(t,n);for(var r=0;r<n;r+=1)t[r]=255&i[r];return t}function f(t){if(t>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|t}function l(t,i){if(c.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;var n=(t="string"!=typeof t?""+t:t).length;if(0===n)return 0;for(var r=!1;;)switch(i){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return R(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return A(t).length;default:if(r)return R(t).length;i=(""+i).toLowerCase(),r=!0}}function i(t,i,n){var r,e=!1;if((i=void 0===i||i<0?0:i)>this.length)return"";if((n=void 0===n||n>this.length?this.length:n)<=0)return"";if((n>>>=0)<=(i>>>=0))return"";for(t=t||"utf8";;)switch(t){case"hex":var s=this,o=i,u=n,h=s.length;(!u||u<0||h<u)&&(u=h);for(var a="",f=o=!o||o<0?0:o;f<u;++f)a+=function(t){return t<16?"0"+t.toString(16):t.toString(16)}(s[f]);return a;case"utf8":case"utf-8":return E(this,i,n);case"ascii":var c=this,h=i,l=n,v="";l=Math.min(c.length,l);for(var y=h;y<l;++y)v+=String.fromCharCode(127&c[y]);return v;case"latin1":case"binary":var d=this,o=i,b=n,p="";b=Math.min(d.length,b);for(var w=o;w<b;++w)p+=String.fromCharCode(d[w]);return p;case"base64":return m=this,r=n,0===(_=i)&&r===m.length?j.fromByteArray(m):j.fromByteArray(m.slice(_,r));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var m=i,_=n,x=this.slice(m,_),g="",O=0;O<x.length;O+=2)g+=String.fromCharCode(x[O]+256*x[O+1]);return g;default:if(e)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),e=!0}}function v(t,i,n){var r=t[i];t[i]=t[n],t[n]=r}function y(t,i,n,r,e){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):2147483647<n?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,(n=(n=isNaN(n)?e?0:t.length-1:n)<0?t.length+n:n)>=t.length){if(e)return-1;n=t.length-1}else if(n<0){if(!e)return-1;n=0}if("string"==typeof i&&(i=c.from(i,r)),c.isBuffer(i))return 0===i.length?-1:d(t,i,n,r,e);if("number"==typeof i)return i&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?(e?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(t,i,n):d(t,[i],n,r,e);throw new TypeError("val must be string, number or Buffer")}function d(t,i,n,r,e){var s=1,o=t.length,u=i.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||i.length<2)return-1;o/=s=2,u/=2,n/=2}function h(t,i){return 1===s?t[i]:t.readUInt16BE(i*s)}if(e)for(var a=-1,f=n;f<o;f++)if(h(t,f)===h(i,-1===a?0:f-a)){if(f-(a=-1===a?f:a)+1===u)return a*s}else-1!==a&&(f-=f-a),a=-1;else for(f=n=o<n+u?o-u:n;0<=f;f--){for(var c=!0,l=0;l<u;l++)if(h(t,f+l)!==h(i,l)){c=!1;break}if(c)return f}return-1}function b(t,i,n,r){return S(function(t){for(var i=[],n=0;n<t.length;++n)i.push(255&t.charCodeAt(n));return i}(i),t,n,r)}function p(t,i,n,r){return S(function(t,i){for(var n,r,e=[],s=0;s<t.length&&!((i-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,r=r%256,e.push(r),e.push(n);return e}(i,t.length-n),t,n,r)}function E(t,i,n){n=Math.min(t.length,n);for(var r=[],e=i;e<n;){var s,o,u,h,a=t[e],f=null,c=239<a?4:223<a?3:191<a?2:1;if(e+c<=n)switch(c){case 1:a<128&&(f=a);break;case 2:128==(192&(s=t[e+1]))&&127<(h=(31&a)<<6|63&s)&&(f=h);break;case 3:s=t[e+1],o=t[e+2],128==(192&s)&&128==(192&o)&&2047<(h=(15&a)<<12|(63&s)<<6|63&o)&&(h<55296||57343<h)&&(f=h);break;case 4:s=t[e+1],o=t[e+2],u=t[e+3],128==(192&s)&&128==(192&o)&&128==(192&u)&&65535<(h=(15&a)<<18|(63&s)<<12|(63&o)<<6|63&u)&&h<1114112&&(f=h)}null===f?(f=65533,c=1):65535<f&&(f-=65536,r.push(f>>>10&1023|55296),f=56320|1023&f),r.push(f),e+=c}var l=r,v=l.length;if(v<=w)return String.fromCharCode.apply(String,l);for(var y="",d=0;d<v;)y+=String.fromCharCode.apply(String,l.slice(d,d+=w));return y}N.Buffer=c,N.SlowBuffer=function(t){+t!=t&&(t=0);return c.alloc(+t)},N.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),N.kMaxLength=n(),c.poolSize=8192,c.G=function(t){return t.__proto__=c.prototype,t},c.from=function(t,i,n){return r(null,t,i,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(t,i,n){return r=null,i=i,n=n,e(t=t),!(t<=0)&&void 0!==i?"string"==typeof n?h(r,t).fill(i,n):h(r,t).fill(i):h(r,t);var r},c.allocUnsafe=function(t){return o(null,t)},c.allocUnsafeSlow=function(t){return o(null,t)},c.isBuffer=function(t){return!(null==t||!t.W)},c.compare=function(t,i){if(!c.isBuffer(t)||!c.isBuffer(i))throw new TypeError("Arguments must be Buffers");if(t===i)return 0;for(var n=t.length,r=i.length,e=0,s=Math.min(n,r);e<s;++e)if(t[e]!==i[e]){n=t[e],r=i[e];break}return n<r?-1:r<n?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,i){if(!u(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);if(void 0===i)for(e=i=0;e<t.length;++e)i+=t[e].length;for(var n=c.allocUnsafe(i),r=0,e=0;e<t.length;++e){var s=t[e];if(!c.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,r),r+=s.length}return n},c.byteLength=l,c.prototype.W=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var i=0;i<t;i+=2)v(this,i,i+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var i=0;i<t;i+=4)v(this,i,i+3),v(this,i+1,i+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var i=0;i<t;i+=8)v(this,i,i+7),v(this,i+1,i+6),v(this,i+2,i+5),v(this,i+3,i+4);return this},c.prototype.toString=function(){var t=0|this.length;return 0==t?"":0===arguments.length?E(this,0,t):i.apply(this,arguments)},c.prototype.equals=function(t){if(c.isBuffer(t))return this===t||0===c.compare(this,t);throw new TypeError("Argument must be a Buffer")},c.prototype.inspect=function(){var t="",i=N.INSPECT_MAX_BYTES;return 0<this.length&&(t=this.toString("hex",0,i).match(/.{2}/g).join(" "),this.length>i&&(t+=" ... ")),"<Buffer "+t+">"},c.prototype.compare=function(t,i,n,r,e){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===e&&(e=this.length),(i=void 0===i?0:i)<0||n>t.length||r<0||e>this.length)throw new RangeError("out of range index");if(e<=r&&n<=i)return 0;if(e<=r)return-1;if(n<=i)return 1;if(this===t)return 0;for(var s=(e>>>=0)-(r>>>=0),o=(n>>>=0)-(i>>>=0),u=Math.min(s,o),h=this.slice(r,e),a=t.slice(i,n),f=0;f<u;++f)if(h[f]!==a[f]){s=h[f],o=a[f];break}return s<o?-1:o<s?1:0},c.prototype.includes=function(t,i,n){return-1!==this.indexOf(t,i,n)},c.prototype.indexOf=function(t,i,n){return y(this,t,i,n,!0)},c.prototype.lastIndexOf=function(t,i,n){return y(this,t,i,n,!1)},c.prototype.write=function(t,i,n,r){if(void 0===i)r="utf8",n=this.length,i=0;else if(void 0===n&&"string"==typeof i)r=i,n=this.length,i=0;else{if(!isFinite(i))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");i|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var e=this.length-i;if((void 0===n||e<n)&&(n=e),0<t.length&&(n<0||i<0)||i>this.length)throw new RangeError("Attempt to write outside buffer bounds");r=r||"utf8";for(var s,o,u,h=!1;;)switch(r){case"hex":var a=this,f=t,c=i,l=n,v=(c=Number(c)||0,a.length-c);if((!l||v<(l=Number(l)))&&(l=v),(v=f.length)%2!=0)throw new TypeError("Invalid hex string");v/2<l&&(l=v/2);for(var y=0;y<l;++y){var d=parseInt(f.substr(2*y,2),16);if(isNaN(d))return y;a[c+y]=d}return y;case"utf8":case"utf-8":return v=i,u=n,S(R(t,(o=this).length-v),o,v,u);case"ascii":return b(this,t,i,n);case"latin1":case"binary":return b(this,t,i,n);case"base64":return o=this,u=i,s=n,S(A(t),o,u,s);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return p(this,t,i,n);default:if(h)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),h=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this.V||this,0)}};var w=4096;function m(t,i,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(n<t+i)throw new RangeError("Trying to access beyond buffer length")}function _(t,i,n,r,e,s){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e<i||i<s)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function x(t,i,n,r){i<0&&(i=65535+i+1);for(var e=0,s=Math.min(t.length-n,2);e<s;++e)t[n+e]=(i&255<<8*(r?e:1-e))>>>8*(r?e:1-e)}function g(t,i,n,r){i<0&&(i=4294967295+i+1);for(var e=0,s=Math.min(t.length-n,4);e<s;++e)t[n+e]=i>>>8*(r?e:3-e)&255}function O(t,i,n,r){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function T(t,i,n,r,e){return e||O(t,0,n,4),s.write(t,i,n,r,23,4),n+4}function M(t,i,n,r,e){return e||O(t,0,n,8),s.write(t,i,n,r,52,8),n+8}c.prototype.slice=function(t,i){var n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):n<t&&(t=n),(i=void 0===i?n:~~i)<0?(i+=n)<0&&(i=0):n<i&&(i=n),i<t&&(i=t),c.TYPED_ARRAY_SUPPORT)(e=this.subarray(t,i)).__proto__=c.prototype;else for(var r=i-t,e=new c(r,void 0),s=0;s<r;++s)e[s]=this[s+t];return e},c.prototype.readUIntLE=function(t,i,n){t|=0,i|=0,n||m(t,i,this.length);for(var r=this[t],e=1,s=0;++s<i&&(e*=256);)r+=this[t+s]*e;return r},c.prototype.readUIntBE=function(t,i,n){t|=0,i|=0,n||m(t,i,this.length);for(var r=this[t+--i],e=1;0<i&&(e*=256);)r+=this[t+--i]*e;return r},c.prototype.readUInt8=function(t,i){return i||m(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,i){return i||m(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,i){return i||m(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,i){return i||m(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,i){return i||m(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,i,n){t|=0,i|=0,n||m(t,i,this.length);for(var r=this[t],e=1,s=0;++s<i&&(e*=256);)r+=this[t+s]*e;return(e*=128)<=r&&(r-=Math.pow(2,8*i)),r},c.prototype.readIntBE=function(t,i,n){t|=0,i|=0,n||m(t,i,this.length);for(var r=i,e=1,s=this[t+--r];0<r&&(e*=256);)s+=this[t+--r]*e;return(e*=128)<=s&&(s-=Math.pow(2,8*i)),s},c.prototype.readInt8=function(t,i){return i||m(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,i){i||m(t,2,this.length);i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},c.prototype.readInt16BE=function(t,i){i||m(t,2,this.length);i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},c.prototype.readInt32LE=function(t,i){return i||m(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,i){return i||m(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,i){return i||m(t,4,this.length),s.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,i){return i||m(t,4,this.length),s.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,i){return i||m(t,8,this.length),s.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,i){return i||m(t,8,this.length),s.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,i,n,r){t=+t,i|=0,n|=0,r||_(this,t,i,n,Math.pow(2,8*n)-1,0);var e=1,s=0;for(this[i]=255&t;++s<n&&(e*=256);)this[i+s]=t/e&255;return i+n},c.prototype.writeUIntBE=function(t,i,n,r){t=+t,i|=0,n|=0,r||_(this,t,i,n,Math.pow(2,8*n)-1,0);var e=n-1,s=1;for(this[i+e]=255&t;0<=--e&&(s*=256);)this[i+e]=t/s&255;return i+n},c.prototype.writeUInt8=function(t,i,n){return t=+t,i|=0,n||_(this,t,i,1,255,0),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[i]=255&t,i+1},c.prototype.writeUInt16LE=function(t,i,n){return t=+t,i|=0,n||_(this,t,i,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[i]=255&t,this[i+1]=t>>>8):x(this,t,i,!0),i+2},c.prototype.writeUInt16BE=function(t,i,n){return t=+t,i|=0,n||_(this,t,i,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[i]=t>>>8,this[i+1]=255&t):x(this,t,i,!1),i+2},c.prototype.writeUInt32LE=function(t,i,n){return t=+t,i|=0,n||_(this,t,i,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[i+3]=t>>>24,this[i+2]=t>>>16,this[i+1]=t>>>8,this[i]=255&t):g(this,t,i,!0),i+4},c.prototype.writeUInt32BE=function(t,i,n){return t=+t,i|=0,n||_(this,t,i,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[i]=t>>>24,this[i+1]=t>>>16,this[i+2]=t>>>8,this[i+3]=255&t):g(this,t,i,!1),i+4},c.prototype.writeIntLE=function(t,i,n,r){t=+t,i|=0,r||_(this,t,i,n,(r=Math.pow(2,8*n-1))-1,-r);var e=0,s=1,o=0;for(this[i]=255&t;++e<n&&(s*=256);)t<0&&0===o&&0!==this[i+e-1]&&(o=1),this[i+e]=(t/s>>0)-o&255;return i+n},c.prototype.writeIntBE=function(t,i,n,r){t=+t,i|=0,r||_(this,t,i,n,(r=Math.pow(2,8*n-1))-1,-r);var e=n-1,s=1,o=0;for(this[i+e]=255&t;0<=--e&&(s*=256);)t<0&&0===o&&0!==this[i+e+1]&&(o=1),this[i+e]=(t/s>>0)-o&255;return i+n},c.prototype.writeInt8=function(t,i,n){return t=+t,i|=0,n||_(this,t,i,1,127,-128),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[i]=255&(t=t<0?255+t+1:t),i+1},c.prototype.writeInt16LE=function(t,i,n){return t=+t,i|=0,n||_(this,t,i,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[i]=255&t,this[i+1]=t>>>8):x(this,t,i,!0),i+2},c.prototype.writeInt16BE=function(t,i,n){return t=+t,i|=0,n||_(this,t,i,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[i]=t>>>8,this[i+1]=255&t):x(this,t,i,!1),i+2},c.prototype.writeInt32LE=function(t,i,n){return t=+t,i|=0,n||_(this,t,i,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[i]=255&t,this[i+1]=t>>>8,this[i+2]=t>>>16,this[i+3]=t>>>24):g(this,t,i,!0),i+4},c.prototype.writeInt32BE=function(t,i,n){return t=+t,i|=0,n||_(this,t,i,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),c.TYPED_ARRAY_SUPPORT?(this[i]=t>>>24,this[i+1]=t>>>16,this[i+2]=t>>>8,this[i+3]=255&t):g(this,t,i,!1),i+4},c.prototype.writeFloatLE=function(t,i,n){return T(this,t,i,!0,n)},c.prototype.writeFloatBE=function(t,i,n){return T(this,t,i,!1,n)},c.prototype.writeDoubleLE=function(t,i,n){return M(this,t,i,!0,n)},c.prototype.writeDoubleBE=function(t,i,n){return M(this,t,i,!1,n)},c.prototype.copy=function(t,i,n,r){if(n=n||0,r||0===r||(r=this.length),i>=t.length&&(i=t.length),(r=0<r&&r<n?n:r)===n)return 0;if(0===t.length||0===this.length)return 0;if((i=i||0)<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length);var e,s=(r=t.length-i<r-n?t.length-i+n:r)-n;if(this===t&&n<i&&i<r)for(e=s-1;0<=e;--e)t[e+i]=this[e+n];else if(s<1e3||!c.TYPED_ARRAY_SUPPORT)for(e=0;e<s;++e)t[e+i]=this[e+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+s),i);return s},c.prototype.fill=function(t,i,n,r){if("string"==typeof t){var e;if("string"==typeof i?(r=i,i=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1!==t.length||(e=t.charCodeAt(0))<256&&(t=e),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(i<0||this.length<i||this.length<n)throw new RangeError("Out of range index");if(n<=i)return this;if(i>>>=0,n=void 0===n?this.length:n>>>0,"number"==typeof(t=t||0))for(u=i;u<n;++u)this[u]=t;else for(var s=c.isBuffer(t)?t:R(new c(t,r).toString()),o=s.length,u=0;u<n-i;++u)this[u+i]=s[u%o];return this};var k=/[^+\/0-9A-Za-z-_]/g;function R(t,i){i=i||1/0;for(var n,r=t.length,e=null,s=[],o=0;o<r;++o){if(55295<(n=t.charCodeAt(o))&&n<57344){if(!e){if(56319<n){-1<(i-=3)&&s.push(239,191,189);continue}if(o+1===r){-1<(i-=3)&&s.push(239,191,189);continue}e=n;continue}if(n<56320){-1<(i-=3)&&s.push(239,191,189),e=n;continue}n=65536+(e-55296<<10|n-56320)}else e&&-1<(i-=3)&&s.push(239,191,189);if(e=null,n<128){if(--i<0)break;s.push(n)}else if(n<2048){if((i-=2)<0)break;s.push(n>>6|192,63&n|128)}else if(n<65536){if((i-=3)<0)break;s.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((i-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return s}function A(t){return j.toByteArray(function(t){var i;if((t=((i=t).trim?i.trim():i.replace(/^\s+|\s+$/g,"")).replace(k,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function S(t,i,n,r){for(var e=0;e<r&&!(e+n>=i.length||e>=t.length);++e)i[e+n]=t[e];return e}}.call(this,I(9))},function(t,i,n){"use strict";i.byteLength=function(t){var t=f(t),i=t[0],t=t[1];return 3*(i+t)/4-t},i.toByteArray=function(t){var i,n,r=f(t),e=r[0],r=r[1],s=new a(function(t,i){return 3*(t+i)/4-i}(e,r)),o=0,u=0<r?e-4:e;for(n=0;n<u;n+=4)i=h[t.charCodeAt(n)]<<18|h[t.charCodeAt(n+1)]<<12|h[t.charCodeAt(n+2)]<<6|h[t.charCodeAt(n+3)],s[o++]=i>>16&255,s[o++]=i>>8&255,s[o++]=255&i;2===r&&(i=h[t.charCodeAt(n)]<<2|h[t.charCodeAt(n+1)]>>4,s[o++]=255&i);1===r&&(i=h[t.charCodeAt(n)]<<10|h[t.charCodeAt(n+1)]<<4|h[t.charCodeAt(n+2)]>>2,s[o++]=i>>8&255,s[o++]=255&i);return s},i.fromByteArray=function(t){for(var i,n=t.length,r=n%3,e=[],s=0,o=n-r;s<o;s+=16383)e.push(function(t,i,n){for(var r,e=[],s=i;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),e.push(function(t){return u[t>>18&63]+u[t>>12&63]+u[t>>6&63]+u[63&t]}(r));return e.join("")}(t,s,o<s+16383?o:s+16383));1==r?(i=t[n-1],e.push(u[i>>2]+u[i<<4&63]+"==")):2==r&&(i=(t[n-2]<<8)+t[n-1],e.push(u[i>>10]+u[i>>4&63]+u[i<<2&63]+"="));return e.join("")};for(var u=[],h=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0,s=r.length;e<s;++e)u[e]=r[e],h[r.charCodeAt(e)]=e;function f(t){var i=t.length;if(0<i%4)throw new Error("Invalid string. Length must be a multiple of 4");t=t.indexOf("="),i=(t=-1===t?i:t)===i?0:4-t%4;return[t,i]}h["-".charCodeAt(0)]=62,h["_".charCodeAt(0)]=63},function(t,i){i.read=function(t,i,n,r,e){var s,o,u=8*e-r-1,h=(1<<u)-1,a=h>>1,f=-7,c=n?e-1:0,l=n?-1:1,e=t[i+c];for(c+=l,s=e&(1<<-f)-1,e>>=-f,f+=u;0<f;s=256*s+t[i+c],c+=l,f-=8);for(o=s&(1<<-f)-1,s>>=-f,f+=r;0<f;o=256*o+t[i+c],c+=l,f-=8);if(0===s)s=1-a;else{if(s===h)return o?NaN:1/0*(e?-1:1);o+=Math.pow(2,r),s-=a}return(e?-1:1)*o*Math.pow(2,s-r)},i.write=function(t,i,n,r,e,s){var o,u,h=8*s-e-1,a=(1<<h)-1,f=a>>1,c=23===e?Math.pow(2,-24)-Math.pow(2,-77):0,l=r?0:s-1,v=r?1:-1,s=i<0||0===i&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(u=isNaN(i)?1:0,o=a):(o=Math.floor(Math.log(i)/Math.LN2),i*(r=Math.pow(2,-o))<1&&(o--,r*=2),2<=(i+=1<=o+f?c/r:c*Math.pow(2,1-f))*r&&(o++,r/=2),a<=o+f?(u=0,o=a):1<=o+f?(u=(i*r-1)*Math.pow(2,e),o+=f):(u=i*Math.pow(2,f-1)*Math.pow(2,e),o=0));8<=e;t[n+l]=255&u,l+=v,u/=256,e-=8);for(o=o<<e|u,h+=e;0<h;t[n+l]=255&o,l+=v,o/=256,h-=8);t[n+l-v]|=128*s}},function(t,i){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,i){t.exports=__WEBPACK_EXTERNAL_MODULE__47__},function(t,a,i){!function(e){function s(t,i){for(var n=0,r=t.length-1;0<=r;r--){var e=t[r];"."===e?t.splice(r,1):".."===e?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(i)for(;n--;)t.unshift("..");return t}function o(t,i){if(t.filter)return t.filter(i);for(var n=[],r=0;r<t.length;r++)i(t[r],r,t)&&n.push(t[r]);return n}a.resolve=function(){for(var t="",i=!1,n=arguments.length-1;-1<=n&&!i;n--){var r=0<=n?arguments[n]:e.cwd();if("string"!=typeof r)throw new TypeError("Arguments to path.resolve must be strings");r&&(t=r+"/"+t,i="/"===r.charAt(0))}return(i?"/":"")+(t=s(o(t.split("/"),function(t){return!!t}),!i).join("/"))||"."},a.normalize=function(t){var i=a.isAbsolute(t),n="/"===r(t,-1);return(t=(t=s(o(t.split("/"),function(t){return!!t}),!i).join("/"))||i?t:".")&&n&&(t+="/"),(i?"/":"")+t},a.isAbsolute=function(t){return"/"===t.charAt(0)},a.join=function(){var t=Array.prototype.slice.call(arguments,0);return a.normalize(o(t,function(t,i){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},a.relative=function(t,i){function n(t){for(var i=0;i<t.length&&""===t[i];i++);for(var n=t.length-1;0<=n&&""===t[n];n--);return n<i?[]:t.slice(i,n-i+1)}t=a.resolve(t).substr(1),i=a.resolve(i).substr(1);for(var r=n(t.split("/")),e=n(i.split("/")),s=Math.min(r.length,e.length),o=s,u=0;u<s;u++)if(r[u]!==e[u]){o=u;break}for(var h=[],u=o;u<r.length;u++)h.push("..");return(h=h.concat(e.slice(o))).join("/")},a.sep="/",a.delimiter=":",a.dirname=function(t){if("string"!=typeof t&&(t+=""),0===t.length)return".";for(var i=47===t.charCodeAt(0),n=-1,r=!0,e=t.length-1;1<=e;--e)if(47===t.charCodeAt(e)){if(!r){n=e;break}}else r=!1;return-1===n?i?"/":".":i&&1===n?"/":t.slice(0,n)},a.basename=function(t,i){t=function(t){"string"!=typeof t&&(t+="");for(var i=0,n=-1,r=!0,e=t.length-1;0<=e;--e)if(47===t.charCodeAt(e)){if(!r){i=e+1;break}}else-1===n&&(r=!1,n=e+1);return-1===n?"":t.slice(i,n)}(t);return t=i&&t.substr(-1*i.length)===i?t.substr(0,t.length-i.length):t},a.extname=function(t){"string"!=typeof t&&(t+="");for(var i=-1,n=0,r=-1,e=!0,s=0,o=t.length-1;0<=o;--o){var u=t.charCodeAt(o);if(47===u){if(e)continue;n=o+1;break}-1===r&&(e=!1,r=o+1),46===u?-1===i?i=o:1!==s&&(s=1):-1!==i&&(s=-1)}return-1===i||-1===r||0===s||1===s&&i===r-1&&i===n+1?"":t.slice(i,r)};var r="b"==="ab".substr(-1)?function(t,i,n){return t.substr(i,n)}:function(t,i,n){return i<0&&(i=t.length+i),t.substr(i,n)}}.call(this,i(49))},function(t,i){var n,r,t=t.exports={};function e(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}try{n="function"==typeof setTimeout?setTimeout:e}catch(t){n=e}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}function o(i){if(n===setTimeout)return setTimeout(i,0);if((n===e||!n)&&setTimeout)return(n=setTimeout)(i,0);try{return n(i,0)}catch(t){try{return n.call(null,i,0)}catch(t){return n.call(this,i,0)}}}var u,h=[],a=!1,f=-1;function c(){a&&u&&(a=!1,u.length?h=u.concat(h):f=-1,h.length&&l())}function l(){if(!a){for(var t=o(c),i=(a=!0,h.length);i;){for(u=h,h=[];++f<i;)u&&u[f].run();f=-1,i=h.length}u=null,a=!1,!function(i){if(r===clearTimeout)return clearTimeout(i);if((r===s||!r)&&clearTimeout)return(r=clearTimeout)(i);try{r(i)}catch(t){try{return r.call(null,i)}catch(t){return r.call(this,i)}}}(t)}}function v(t,i){this.fun=t,this.array=i}function y(){}t.nextTick=function(t){var i=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)i[n-1]=arguments[n];h.push(new v(t,i)),1!==h.length||a||o(l)},v.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=y,t.addListener=y,t.once=y,t.off=y,t.removeListener=y,t.removeAllListeners=y,t.emit=y,t.prependListener=y,t.prependOnceListener=y,t.listeners=function(t){return[]},t.binding=function(t){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(t){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},function(k,P,t){"use strict";t.r(P);var C="v3.0.9",U=171,B={NONE:0,EXTRUDE_MARKER:2,IMAGE_MARKER:8,LOCATION_MARKER:16,POLYGON_MARKER:32,TEXT_MARKER:64,LINE_MARKER:128,HEAT_MAP_MARKER:512,EXTENT:1024,EXTERNAL_MODEL:2048,MODEL:4096,FACILITY:8192,LABEL:16384,DYNAMIC_MODEL_MARKER:32768,DOM_MARKER:65536,EXTENT_LAYER:1<<20,EXTERNAL_MODEL_LAYER:1<<21,MODEL_LAYER:1<<22,FACILITY_LAYER:1<<23,LABEL_LAYER:1<<24,MARKER_GROUP:1<<25},g={MODULE_SHORTEST:1,MODULE_BEST:2},m={PRIORITY_DEFAULT:1,PRIORITY_LIFTFIRST:2,PRIORITY_ESCALATORFIRST:3,PRIORITY_STAIRFIRST:4,PRIORITY_LIFTONLY:5,PRIORITY_ESCALATORONLY:6,PRIORITY_STAIRONLY:7,PRIORITY_ACCESSIBLEONLY:8,PRIORITY_LIFTFIRST1:9,PRIORITY_ESCALATORFIRST1:10,PRIORITY_STAIRFIRST1:11},R={ROUTE_SUCCESS:1,ROUTE_FAILED_NO_FMDBDATA:2,ROUTE_FAILED_TOO_CLOSE:3,ROUTE_FAILED_NO_DATA_START:4,ROUTE_FAILED_NO_DATA_DEST:5,ROUTE_FAILED_NO_STAIR:6,ROUTE_FAILED_NOTSUPPORT:7,ROUTE_FAILED_CANNOT_CALCULATE:8,ROUTE_FAILED_CANNOT_ARRIVE:9,ROUTE_FAILED_WAYPOINT_CALCULATE_ERROR:10,ROUTE_FAILED_NO_START_ARRIVAL:11,ROUTE_FAILED_NO_DEST_ARRIVAL:12,ROUTE_FAILED_OUTLINE:13,ROUTE_FAILED_NO_DOOR_START:14,ROUTE_FAILED_NO_DOOR_DEST:15},s={ZH:"zh",EN:"en"};function Z(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function G(t,i,n){return i&&Z(t.prototype,i),n&&Z(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var i=G(function t(i,n){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.Y=i,this.X=n}),o=(Object.assign(i.prototype,{H:function(t){return!1},Q:function(t,i){}}),i);function W(t){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function V(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Y(t,i){return(Y=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function z(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=X(n),i=(t=r?(t=X(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),this);if(t&&("object"===W(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==i)return i;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function X(t){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var i=function(){var t=s,i=o;if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),i&&Y(t,i);var n,r,e=z(s);function s(t,i){if(this instanceof s)return e.call(this,t,i);throw new TypeError("Cannot call a class as a function")}return t=s,n&&V(t.prototype,n),r&&V(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(),q=(Object.assign(i.prototype,{H:function(t){return this.X==t.fid}}),i);function H(t){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Q(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $(t,i){return($=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function J(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=K(n),i=(t=r?(t=K(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),this);if(t&&("object"===H(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==i)return i;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function K(t){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var i=function(){var t=s,i=o;if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),i&&$(t,i);var n,r,e=J(s);function s(t,i){if(this instanceof s)return"object"==H((t=e.call(this,t,i)).X)?(t.$=t.X.text,t.J=t.X.fuzzy):t.$=t.X,t;throw new TypeError("Cannot call a class as a function")}return t=s,n&&Q(t.prototype,n),r&&Q(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(),tt=(Object.assign(i.prototype,{H:function(t){if(t.name){if(this.J&&-1!=t.name.indexOf(this.$))return!0;if(this.$==t.name)return!0}return!1}}),i);function it(t){return(it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nt(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rt(t,i){return(rt=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function et(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=st(n),i=(t=r?(t=st(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),this);if(t&&("object"===it(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==i)return i;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function st(t){return(st=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var i=function(){var t=s,i=o;if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),i&&rt(t,i);var n,r,e=et(s);function s(t,i){if(this instanceof s)return"object"==it((t=e.call(this,t,i)).X)?(t.$=t.X.text,t.J=t.X.fuzzy):t.$=t.X,t;throw new TypeError("Cannot call a class as a function")}return t=s,n&&nt(t.prototype,n),r&&nt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(),ot=(Object.assign(i.prototype,{H:function(t){if(t.ename){if(this.J&&-1!=t.ename.indexOf(this.$))return!0;if(this.$==t.ename)return!0}return!1}}),i);function ut(t){return(ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ht(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function at(t,i){return(at=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function ft(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=ct(n),i=(t=r?(t=ct(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),this);if(t&&("object"===ut(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==i)return i;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function ct(t){return(ct=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var i=function(){var t=s,i=o;if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),i&&at(t,i);var n,r,e=ft(s);function s(t,i){if(this instanceof s)return(t=e.call(this,t)).X=Array.isArray(i)?i:[i],t;throw new TypeError("Cannot call a class as a function")}return t=s,n&&ht(t.prototype,n),r&&ht(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(),lt=(Object.assign(i.prototype,{H:function(t){return-1!=this.X.indexOf(t.type)}}),i);function vt(t){return(vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yt(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dt(t,i){return(dt=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function bt(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=pt(n),i=(t=r?(t=pt(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),this);if(t&&("object"===vt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==i)return i;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function pt(t){return(pt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var i=function(){var t=s,i=o;if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),i&&dt(t,i);var n,r,e=bt(s);function s(t,i){if(this instanceof s)return"object"==vt((t=e.call(this,t,i)).X)?(t.$=t.X.text,t.J=void 0===t.X.fuzzy||t.X.fuzzy):(t.$=t.X,t.J=!0),t;throw new TypeError("Cannot call a class as a function")}return t=s,n&&yt(t.prototype,n),r&&yt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(),wt=(Object.assign(i.prototype,{H:function(t){if(this.J){if(t.name&&-1!=t.name.indexOf(this.$)||t.ename&&-1!=t.ename.indexOf(this.$))return!0}else if(t.name&&t.name==this.$||t.ename&&t.ename==this.$)return!0;return!1}}),i),i={NONE:0,POINT:1,LINE:2,POLYGON:4,MULTIPOINT:8,MULTILINE:16,MULTIPOLYGON:32,GROUP:64,EXTENT:1024,EXTERNALMODEL:2048,MODEL:4096,FACILITY:8192,LABEL:16384,EXTENTGROUP:1<<20,EXTERNALMODELGROUP:1<<21,MODELGROUP:1<<22,FACILITYGROUP:1<<23,LABELGROUP:1<<24},_=(Object.freeze(i),i),mt=function(t,i,n){n=n||2;var r,e,s,o,u,h=i&&i.length,a=h?i[0]*n:t.length,f=_t(t,0,a,n,!0),c=[];if(!f||f.next===f.prev)return c;if(h&&(f=function(t,i,n,r){var e,s,o,u,h=[];for(e=0,s=i.length;e<s;e++)u=i[e]*r,o=e<s-1?i[e+1]*r:t.length,(u=_t(t,u,o,r,!1))===u.next&&(u.steiner=!0),h.push(function(t){var i=t,n=t;for(;(i.x<n.x||i.x===n.x&&i.y<n.y)&&(n=i),i=i.next,i!==t;);return n}(u));for(h.sort(gt),e=0;e<h.length;e++)!function(t,i){(i=function(t,i){var n,r=i,e=t.x,s=t.y,o=-1/0;do{if(s<=r.y&&s>=r.next.y&&r.next.y!==r.y){var u=r.x+(s-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(u<=e&&o<u){if((o=u)===e){if(s===r.y)return r;if(s===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}}while(r=r.next,r!==i);if(!n)return null;if(e===o)return n;var h,a=n,f=n.x,c=n.y,l=1/0;r=n;for(;e>=r.x&&r.x>=f&&e!==r.x&&jt(s<c?e:o,s,f,c,s<c?o:e,s,r.x,r.y)&&(h=Math.abs(s-r.y)/(e-r.x),Rt(r,t)&&(h<l||h===l&&(r.x>n.x||r.x===n.x&&function(t,i){return T(t.prev,t,i.prev)<0&&T(i.next,t,t.next)<0}(n,r)))&&(n=r,l=h)),r=r.next,r!==a;);return n}(t,i))&&(t=At(i,t),E(i,i.next),E(t,t.next))}(h[e],n),n=E(n,n.next);return n}(t,i,f,n)),t.length>80*n){for(var l=r=t[0],v=e=t[1],y=n;y<a;y+=n)(s=t[y])<l&&(l=s),(o=t[y+1])<v&&(v=o),r<s&&(r=s),e<o&&(e=o);u=0!==(u=Math.max(r-l,e-v))?1/u:0}return xt(f,c,n,l,v,u),c};function _t(t,i,n,r,e){var s,o;if(e===0<function(t,i,n,r){for(var e=0,s=i,o=n-r;s<n;s+=r)e+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return e}(t,i,n,r))for(s=i;s<n;s+=r)o=St(s,t[s],t[s+1],o);else for(s=n-r;i<=s;s-=r)o=St(s,t[s],t[s+1],o);return o&&Et(o,o.next)&&(Nt(o),o=o.next),o}function E(t,i){if(!t)return t;i=i||t;var n,r=t;do{if(n=!1,r.steiner||!Et(r,r.next)&&0!==T(r.prev,r,r.next))r=r.next;else{if(Nt(r),(r=i=r.prev)===r.next)break;n=!0}}while(n||r!==i);return i}function xt(t,i,n,r,e,s,o){if(t){if(!o&&s){for(var u=t,h=r,a=e,f=s,c=u;null===c.z&&(c.z=Ot(c.x,c.y,h,a,f)),c.prevZ=c.prev,c.nextZ=c.next,(c=c.next)!==u;);c.prevZ.nextZ=null,c.prevZ=null;var l,v,y,d,b,p,w,m,_=c,x=1;do{for(v=_,b=_=null,p=0;v;){for(p++,y=v,l=w=0;l<x&&(w++,y=y.nextZ);l++);for(m=x;0<w||0<m&&y;)0!==w&&(0===m||!y||v.z<=y.z)?(v=(d=v).nextZ,w--):(y=(d=y).nextZ,m--),b?b.nextZ=d:_=d,d.prevZ=b,b=d;v=y}}while(b.nextZ=null,x*=2,1<p)}for(var g,O,j=t;t.prev!==t.next;)if(g=t.prev,O=t.next,s?function(t,i,n,r){var e=t.prev,s=t,o=t.next;if(0<=T(e,s,o))return;var u=(e.x<s.x?e.x<o.x?e:o:s.x<o.x?s:o).x,h=(e.y<s.y?e.y<o.y?e:o:s.y<o.y?s:o).y,a=(e.x>s.x?e.x>o.x?e:o:s.x>o.x?s:o).x,f=(e.y>s.y?e.y>o.y?e:o:s.y>o.y?s:o).y,c=Ot(u,h,i,n,r),l=Ot(a,f,i,n,r),v=t.prevZ,y=t.nextZ;for(;v&&v.z>=c&&y&&y.z<=l;){if(v!==t.prev&&v!==t.next&&jt(e.x,e.y,s.x,s.y,o.x,o.y,v.x,v.y)&&0<=T(v.prev,v,v.next))return;if(v=v.prevZ,y!==t.prev&&y!==t.next&&jt(e.x,e.y,s.x,s.y,o.x,o.y,y.x,y.y)&&0<=T(y.prev,y,y.next))return;y=y.nextZ}for(;v&&v.z>=c;){if(v!==t.prev&&v!==t.next&&jt(e.x,e.y,s.x,s.y,o.x,o.y,v.x,v.y)&&0<=T(v.prev,v,v.next))return;v=v.prevZ}for(;y&&y.z<=l;){if(y!==t.prev&&y!==t.next&&jt(e.x,e.y,s.x,s.y,o.x,o.y,y.x,y.y)&&0<=T(y.prev,y,y.next))return;y=y.nextZ}return 1}(t,r,e,s):function(t){var i=t.prev,n=t,r=t.next;if(0<=T(i,n,r))return;var e=t.next.next;for(;e!==t.prev;){if(jt(i.x,i.y,n.x,n.y,r.x,r.y,e.x,e.y)&&0<=T(e.prev,e,e.next))return;e=e.next}return 1}(t))i.push(g.i/n),i.push(t.i/n),i.push(O.i/n),Nt(t),t=O.next,j=O.next;else if((t=O)===j){o?1===o?xt(t=function(t,i,n){var r=t;do{var e=r.prev,s=r.next.next}while(!Et(e,s)&&Tt(e,r,r.next,s)&&Rt(e,s)&&Rt(s,e)&&(i.push(e.i/n),i.push(r.i/n),i.push(s.i/n),Nt(r),Nt(r.next),r=t=s),r=r.next,r!==t);return E(r)}(E(t),i,n),i,n,r,e,s,2):2===o&&function(t,i,n,r,e,s){var o=t;do{for(var u,h=o.next.next;h!==o.prev;){if(o.i!==h.i&&function(t,i){return t.next.i!==i.i&&t.prev.i!==i.i&&!function(t,i){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==i.i&&n.next.i!==i.i&&Tt(n,n.next,t,i))return 1}while(n=n.next,n!==t);return}(t,i)&&(Rt(t,i)&&Rt(i,t)&&function(t,i){var n=t,r=!1,e=(t.x+i.x)/2,s=(t.y+i.y)/2;for(;n.y>s!=n.next.y>s&&n.next.y!==n.y&&e<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next,n!==t;);return r}(t,i)&&(T(t.prev,t,i.prev)||T(t,i.prev,i))||Et(t,i)&&0<T(t.prev,t,t.next)&&0<T(i.prev,i,i.next))}(o,h))return u=At(o,h),o=E(o,o.next),u=E(u,u.next),xt(o,i,n,r,e,s),xt(u,i,n,r,e,s);h=h.next}}while(o=o.next,o!==t)}(t,i,n,r,e,s):xt(E(t),i,n,r,e,s,1);break}}}function gt(t,i){return t.x-i.x}function Ot(t,i,n,r,e){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*e)|t<<8))|t<<4))|t<<2))|t<<1))|(i=1431655765&((i=858993459&((i=252645135&((i=16711935&((i=32767*(i-r)*e)|i<<8))|i<<4))|i<<2))|i<<1))<<1}function jt(t,i,n,r,e,s,o,u){return 0<=(e-o)*(i-u)-(t-o)*(s-u)&&0<=(t-o)*(r-u)-(n-o)*(i-u)&&0<=(n-o)*(s-u)-(e-o)*(r-u)}function T(t,i,n){return(i.y-t.y)*(n.x-i.x)-(i.x-t.x)*(n.y-i.y)}function Et(t,i){return t.x===i.x&&t.y===i.y}function Tt(t,i,n,r){var e=kt(T(t,i,n)),s=kt(T(t,i,r)),o=kt(T(n,r,t)),u=kt(T(n,r,i));return e!==s&&o!==u||(0===e&&Mt(t,n,i)||(0===s&&Mt(t,r,i)||(0===o&&Mt(n,t,r)||!(0!==u||!Mt(n,i,r)))))}function Mt(t,i,n){return i.x<=Math.max(t.x,n.x)&&i.x>=Math.min(t.x,n.x)&&i.y<=Math.max(t.y,n.y)&&i.y>=Math.min(t.y,n.y)}function kt(t){return 0<t?1:t<0?-1:0}function Rt(t,i){return T(t.prev,t,t.next)<0?0<=T(t,i,t.next)&&0<=T(t,t.prev,i):T(t,i,t.prev)<0||T(t,t.next,i)<0}function At(t,i){var n=new It(t.i,t.x,t.y),r=new It(i.i,i.x,i.y),e=t.next,s=i.prev;return(t.next=i).prev=t,(n.next=e).prev=n,(r.next=n).prev=r,(s.next=r).prev=s,r}function St(t,i,n,r){t=new It(t,i,n);return r?(t.next=r.next,(t.prev=r).next.prev=t,r.next=t):(t.prev=t).next=t,t}function Nt(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function It(t,i,n){this.i=t,this.x=i,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Lt(t){return function(t){if(Array.isArray(t))return Dt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,i){if(t){if("string"==typeof t)return Dt(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Dt(t,i):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dt(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,r=new Array(i);n<i;n++)r[n]=t[n];return r}var Ft={area:function(t){for(var i=t.length,n=0,r=i-1,e=0;e<i;r=e++)n+=t[r].x*t[e].y-t[e].x*t[r].y;return.5*n},isClockWise:function(t){return Ft.area(t)<0},triangulateShape:function(t,i){var n=[],r=[],e=[],s=(Pt(t),Ct(n,t),t.length);i.forEach(Pt);for(var o=0;o<i.length;o++)r.push(s),s+=i[o].length,Ct(n,i[o]);for(var u=mt(n,r),h=0;h<u.length;h+=3)e.push(u.slice(h,h+3));return e},triangulate:function(t){(e=[]).push.apply(e,Lt(t[0]));for(var i=[],n=1;n<t.length;n++){var r=[];r.push.apply(r,Lt(t[n])),i.push(r)}if(!Ft.isClockWise(e))for(var e=e.reverse(),s=0,o=i.length;s<o;s++){var u=i[s];Ft.isClockWise(u)&&(i[s]=u.reverse())}return Ft.triangulateShape(e,i)}};function Pt(t){var i,n=t.length;2<n&&(n=t[n-1],i=t[0],n.x===i.x&&n.y===i.y)&&t.pop()}function Ct(t,i){for(var n=0;n<i.length;n++)t.push(i[n].x),t.push(i[n].y)}function Ut(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Bt(t,i,n){return i&&Ut(t.prototype,i),n&&Ut(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var Zt=1e-5,Gt=Math.PI/180,Wt=180/Math.PI,i=Bt(function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function")});Object.assign(i.prototype,{K:function(){return Zt},tt:function(){return Gt},it:function(){return Wt},nt:function(t){return t<Zt&&-Zt<t},rt:function(t){return Zt<t},et:function(t){return t<-Zt},st:function(t,i,n){i=(t.x-n.x)*(i.y-n.y)-(i.x-n.x)*(t.y-n.y);return Math.abs(i)<Zt?0:i},distanceOfTwoPoints:function(t,i){return t&&i?Math.sqrt((t.x-i.x)*(t.x-i.x)+(t.y-i.y)*(t.y-i.y)):Number.NaN},distance:function(t,i){return Math.sqrt(Math.pow(i.x-t.x,2)+Math.pow(i.y-t.y,2))},isPolygonContainPoint:function(t,i){for(var n=0,r=0;r<t.length;r++){var e=t[r].x,s=t[r].y,o=0,u=0,u=r<t.length-1?(o=t[r+1].x,t[r+1].y):(o=t[0].x,t[0].y);if(e===i.x&&s===i.y||o===i.x&&u===i.y)return!0;if(u!==s){var h=e+(i.y-s)*(o-e)/(u-s);if(h===i.x)return!0;e!==o?h<=Math.max(e,o)&&h>=Math.min(e,o)&&h>i.x&&h!==e&&(h===o&&0<(s-i.y)*(u-i.y)?n+=2:n++):h<=Math.max(e,o)&&h>=Math.min(e,o)&&h>i.x&&(h===o&&0<(s-i.y)*(u-i.y)?n+=2:n++)}}return 0<n%2},ot:function(t,i,n,r){return!(Math.max(t.x,i.x)<Math.min(n.x,r.x))&&(!(Math.max(t.y,i.y)<Math.min(n.y,r.y))&&(!(Math.max(n.x,r.x)<Math.min(t.x,i.x))&&!(Math.max(n.y,r.y)<Math.min(t.y,i.y))))},ut:function(t,i,n,r){return!(Math.max(t.x,i.x)<Math.min(n.x,r.x))&&(!(Math.max(t.y,i.y)<Math.min(n.y,r.y))&&(!(Math.max(n.x,r.x)<Math.min(t.x,i.x))&&(!(Math.max(n.y,r.y)<Math.min(t.y,i.y))&&((0!==this.st(n,i,t)||0!==this.st(i,r,t))&&(!(this.st(n,i,t)*this.st(i,r,t)<0)&&!(this.st(t,r,n)*this.st(r,i,n)<0))))))},ht:function(t,i,n){return!(t.x<i.x)&&(!(t.y<i.y)&&(!(t.x>n.x)&&!(t.y>n.y)))},at:function(t,i,n){var r=Math.min(i.x,n.x),e=Math.max(i.x,n.x),s=Math.min(i.y,n.y),i=Math.max(i.y,n.y);return!(t.x<r||t.x>e||t.y<s||t.y>i)},ft:function(t,i,n){var r=Math.min(n.x,i.x),e=Math.max(n.x,i.x),s=Math.min(n.y,i.y),n=Math.max(n.y,i.y);return!(t.x<r||t.x>e||t.y<s||t.y>n)},ct:function(t,i,n){for(var r,e,s=!1,o=0;o<n;o++)r=i[o],e=i[(o+1)%n],(r.y<t.y&&e.y>=t.y||e.y<t.y&&r.y>=t.y)&&(r.x<=t.x||e.x<=t.x)&&r.x+(t.y-r.y)/(e.y-r.y)*(e.x-r.x)<t.x&&(s=!s);return s},lt:function(t,i,n){return(t.x-i.x)*(n.y-i.y)==(n.x-i.x)*(t.y-i.y)&&Math.min(i.x,n.x)<=t.x&&t.x<=Math.max(i.x,n.x)&&Math.min(i.y,n.y)<=t.y&&t.y<=Math.max(i.y,n.y)},vt:function(t,i){return Math.sqrt((t.x-i.x)*(t.x-i.x)+(t.y-i.y)*(t.y-i.y))},yt:function(t,i){return(t.x-i.x)*(t.x-i.x)+(t.y-i.y)*(t.y-i.y)},dt:function(t,i,n){var r=i.x,i=i.y,e=n.x,n=n.y,s=t.x,t=t.y,o=e-r,u=n-i,h=o*o+u*u,a=s-r,f=t-i,c=a*a+f*f;if(this.nt(h))return this.nt(c)?0:c;var h=Math.sqrt(h),o=o/h,u=u/h,a=o*a+u*f;return f=this.rt(a)?this.et(a-h)?(f=s-(r+a*o))*f+(h=t-(i+a*u))*h:(r=s-e)*r+(o=t-n)*o:c,this.nt(f)?0:f},bt:function(t,i,n,r){var e=i.x,s=i.y,o=n.x,u=n.y,h=t.x,t=t.y,a=o-e,f=u-s,c=Math.sqrt(a*a+f*f),l=h-e,v=t-s,y=Math.sqrt(l*l+v*v);if(this.nt(c))return r.x=i.x,r.y=i.y,this.nt(d=y)?0:d;var a=a/c,f=f/c,l=a*l+f*v,d=this.rt(l)?this.et(l-c)?(c=h-(v=e+l*a),a=t-(e=s+l*f),s=Math.sqrt(c*c+a*a),r.x=v,r.y=e,s):(l=h-o,f=t-u,c=Math.sqrt(l*l+f*f),r.x=n.x,r.y=n.y,c):(r.x=i.x,r.y=i.y,y);return this.nt(d)?0:d},pt:function(t,i){for(var n=0,r=0,e=0,s=0;s<i;s++){var o=t[s],u=t[(s+1)%i],h=(o.x*u.y-o.y*u.x)/2;n+=h,r+=h*(o.x+u.x)/3,e+=h*(o.y+u.y)/3}return{x:r/=n,y:e/=n}},wt:function(t){for(var i=Ft.triangulate([t]),n=0,r=0,e=0,s=0;s<i.length;s++){var o=t[i[s][0]],u=t[i[s][1]],h=t[i[s][2]],a=u.x-o.x,f=u.y-o.y,c=h.x-o.x,a=(a*(h.y-o.y)-c*f)/2;n+=a,r+=(o.x+u.x+h.x)/3*a,e+=(o.y+u.y+h.y)/3*a}return{x:r/n,y:e/n}},mt:function(t,i){if(i<3)return 0;for(var n=0,r=0;r<i;++r){var e=t[r],s=t[(r+1)%i];n+=e.x*s.y-e.y*s.x}return Math.abs(n/2)},_t:function(t,i,n,r,e){var s,o;return this.ut(t,i,n,r)?(s=(r.x-n.x)*(t.y-i.y)-(i.x-t.x)*(n.y-r.y),o=(t.y-n.y)*(i.x-t.x)*(r.x-n.x)+n.x*(r.y-n.y)*(i.x-t.x)-t.x*(i.y-t.y)*(r.x-n.x),e.x=o/s,s=(t.x-i.x)*(r.y-n.y)-(i.y-t.y)*(n.x-r.x),o=i.y*(t.x-i.x)*(r.y-n.y)+(r.x-i.x)*(r.y-n.y)*(t.y-i.y)-r.y*(n.x-r.x)*(i.y-t.y),e.y=o/s,1):0},xt:function(t,i,n,r,e){var s=Math.min(n.x,r.x),o=Math.max(n.x,r.x),u=Math.min(n.y,r.y),h=Math.max(n.y,r.y),a=t.x,f=t.y,c=n.x,l=n.y,v=r.x,y=r.y;if(90==i){if(t.x<s||t.x>o)return!1;var d=(y-l)/(v-c)*(a-c)+l;return e.y=d,e.x=a,d<f?!1:!!this.ft(e,n,r)}if(270==i){if(t.x<s||t.x>o)return!1;var d=(y-l)/(v-c)*(a-c)+l;return e.y=d,e.x=a,f<d?!1:!!this.ft(e,n,r)}if(270!=i&&90!=i&&o-s<.001){var t=s,d=Math.tan(i/180*Math.PI)*(t-a)+f;if(e.y=d,e.x=t,this.ft(e,n,r))return o=d-f,0<(s=t-a)/Math.sqrt(s*s+o*o)*Math.cos(i/180*Math.PI)}if(h-u<=1e-6)return d=u,t=1/Math.tan(i/180*Math.PI)*(d-f)+a,e.x=t,e.y=d,!!this.ft(e,n,r)&&(s=d-f,0<(o=t-a)/Math.sqrt(o*o+s*s)*Math.cos(i/180*Math.PI));h=Math.tan(i/180*Math.PI),u=(y-l)/(v-c),d=(l-f-(u*c-h*a))/(h-u),t=f+h*(d-a);return e.x=d,e.y=t,!!this.ft(e,n,r)&&(o=t-f,0<(s=d-a)/Math.sqrt(s*s+o*o)*Math.cos(i/180*Math.PI))},gt:function(t,i,n,r){var e=t.x,t=t.y,s=i.x,o=i.y,u=n.x,h=n.y;if(e==s&&t==o||e==u&&t==h)return r.x=e,r.y=t,!0;var a=Math.min(i.x,n.x),f=Math.max(i.x,n.x),c=Math.min(i.y,n.y),l=Math.max(i.y,n.y);if(Math.abs(s-u)<1e-5)return r.x=s,c<=(r.y=t)&&t<=l;if(Math.abs(o-h)<1e-5)return r.x=e,r.y=o,a<=e&&e<=f;c=-1/((h-o)/(u-s)),l=(h-o)/(u-s),a=(o-t-(l*s-c*e))/(c-l),f=t+c*(a-e);return r.x=a,r.y=f,!!this.ft(r,i,n)},Ot:function(t,i){return{x:t.y*i.z-t.z*i.y,y:t.z*i.x-t.x*i.z,z:t.x*i.y-t.y*i.x}},jt:function(t,i){return t.x*i.x+t.y*i.y+t.z*i.z},Et:function(t){return Math.sqrt(t.x*t.x+t.y*t.y+t.z*t.z)},Tt:function(t,i){return t.x*i.x+t.y*i.y},Mt:function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},kt:function(t,i){if(0==t.x&&0==t.y||0==i.x&&0==i.y)return 0;var n={x:t.x,y:t.y,z:0},r={x:i.x,y:i.y,z:0},n=this.Ot(n,r),r=this.Tt(t,i),r=Math.acos(r/(this.Mt(t)*this.Mt(i)));return 0<n.z?r/Math.PI*180:360-r/Math.PI*180},Rt:function(t,i,n,r){for(var e=0;e<n.length;e++){var s=n[e],o=n[(e+1)%n.length];if(1==this._t(t,i,s,o,r))return!0}return!1},At:function(t,i,n,r,e){var s=Math.min(t.x,n.x,r.x),o=Math.max(t.x,n.x,r.x),u=Math.min(t.y,n.y,r.y),h=Math.max(t.y,n.y,r.y),o=Math.sqrt((o-s)*(o-s)+(h-u)*(h-u)),s=i/180*Math.PI,h=o*Math.cos(s)+t.x,u=o*Math.sin(s)+t.y;return 1==this._t(t,{x:h,y:u},n,r,e)}});var S=new i;function Vt(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=function(){function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.St={x:Number.MAX_VALUE,y:Number.MAX_VALUE},this.Nt={x:-Number.MAX_VALUE,y:-Number.MAX_VALUE}}var i,n,r;return i=t,(n=[{key:"min",get:function(){return this.St}},{key:"max",get:function(){return this.Nt}},{key:"center",get:function(){var t={x:Number.NaN,y:Number.NaN};return this.valid()&&(t.x=(this.min.x+this.max.x)/2,t.y=(this.min.y+this.max.y)/2),t}},{key:"size",get:function(){var t={x:Number.NaN,y:Number.NaN};return this.valid()&&(t.x=this.max.x-this.min.x,t.y=this.max.y-this.min.y),t}},{key:"copy",value:function(t){return this.Nt.x=t.max.x,this.Nt.y=t.max.y,this.St.x=t.min.x,this.St.y=t.min.y,this}},{key:"clone",value:function(){return(new t).copy(this)}},{key:"reset",value:function(){this.St={x:Number.MAX_VALUE,y:Number.MAX_VALUE},this.Nt={x:-Number.MAX_VALUE,y:-Number.MAX_VALUE}}},{key:"toObject",value:function(){return{min:this.min,max:this.max,center:this.center,size:this.size}}},{key:"expand",value:function(t){this.It(t)}},{key:"expandByCoords",value:function(t){this.Lt(t)}},{key:"valid",value:function(){return this.Dt()}},{key:"isCross",value:function(t){var i=!0;return t.max.x<this.min.x&&(i=!1),t.min.x>this.max.x&&(i=!1),t.max.y<this.min.y&&(i=!1),i=t.min.y>this.max.y?!1:i}}])&&Vt(i.prototype,n),r&&Vt(i,r),Object.defineProperty(i,"prototype",{writable:!1}),t}(),u=(Object.assign(i.prototype,{Dt:function(){return!(this.min.x>this.max.x||this.min.y>this.max.y)},It:function(t){t&&t.valid()&&(t.min.x<this.min.x&&(this.min.x=t.min.x),t.min.y<this.min.y&&(this.min.y=t.min.y),t.max.x>this.max.x&&(this.max.x=t.max.x),t.max.y>this.max.y&&(this.max.y=t.max.y))},Lt:function(t){var i=this;t&&0!=t.length&&t.forEach(function(t){t.x<i.min.x&&(i.min.x=t.x),t.y<i.min.y&&(i.min.y=t.y),t.x>i.max.x&&(i.max.x=t.x),t.y>i.max.y&&(i.max.y=t.y)})}}),i);function Yt(t){return(Yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zt(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xt(t,i){return(Xt=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function qt(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=Ht(n),i=(t=r?(t=Ht(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),this);if(t&&("object"===Yt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==i)return i;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function Ht(t){return(Ht=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var i=function(){var t=s,i=o;if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),i&&Xt(t,i);var n,r,e=qt(s);function s(t,i){if(this instanceof s)return(t=e.call(this,t,i)).Ft=t.X.center,t.Pt=t.X.radius,t.Ct=t.X.radius*t.X.radius,t.Ut=new u,t.Ut.Lt([{x:t.Ft.x-t.Pt,y:t.Ft.y-t.Pt},{x:t.Ft.x+t.Pt,y:t.Ft.y+t.Pt}]),t;throw new TypeError("Cannot call a class as a function")}return t=s,n&&zt(t.prototype,n),r&&zt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(),Qt=(Object.assign(i.prototype,{H:function(t){return t.getType()!=_.MODEL?this.Bt(t):this.Zt(t)},Zt:function(t){var i=t.getBound();if(!S.ot(this.Ut.St,this.Ut.Nt,i.min,i.max))return!1;for(var n=t.getCoordinates(),r=0,e=n.length;r<e;r++)for(var s=1,o=n[r].length;s<o;s++){var u=n[r][s];if(S.yt(u,this.Ft)<this.Ct)return!0;var h=n[r][s-1];if(1==s&&S.yt(h,this.Ft)<this.Ct)return!0;if(S.dt(this.Ft,h,u)<this.Ct)return!0}return!1},Bt:function(t){t=t.getCoordinates()[0];return!!S.ht(t,this.Ut.St,this.Ut.Nt)&&S.yt(t,this.Ft)<this.Ct},Q:function(t,i){var n=t.getCoordinates();if(t.getType()!=_.MODEL)i.vt=Math.sqrt(S.yt(n[0],this.Ft));else{for(var r=Number.MAX_VALUE,e=0,s=n.length;e<s;e++)for(var o=1,u=n[e].length;o<u;o++){var h=n[e][o-1],a=n[e][o],h=S.dt(this.Ft,h,a);h<r&&(r=h)}i.vt=Math.sqrt(r)}}}),i);function $t(t){return($t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Jt(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Kt(t,i){return(Kt=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function ti(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=ii(n),i=(t=r?(t=ii(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),this);if(t&&("object"===$t(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==i)return i;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function ii(t){return(ii=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var i=function(){var t=s,i=o;if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),i&&Kt(t,i);var n,r,e=ti(s);function s(t,i){if(this instanceof s)return(t=e.call(this,t,i)).Gt=t.X,t.Wt=t.Gt.length-1,t.Ft=S.wt(t.Gt),t.Ut=new u,t.Ut.Lt(t.Gt),t;throw new TypeError("Cannot call a class as a function")}return t=s,n&&Jt(t.prototype,n),r&&Jt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(),ni=(Object.assign(i.prototype,{H:function(t){return t.getType()!=_.MODEL?this.Bt(t):this.Zt(t)},Zt:function(t){var i=t.getBound();if(!S.ot(this.Ut.St,this.Ut.Nt,i.min,i.max))return!1;for(var n=t.getCoordinates(),r=0,e=n.length;r<e;r++)for(var s=0,o=n[r].length-1;s<o;s++)if(S.ct(n[r][s],this.Gt,this.Gt.length))return!0;for(var u=0;u<this.Wt;u++){for(var h=!1,a=0,f=n.length;a<f;a++)S.ct(this.Gt[u],n[a],n[a].length-1)&&(h=0==a);if(h)return!0}for(var c=0;c<this.Wt;c++)for(var l=this.Gt[c],v=this.Gt[c+1],y=0,d=n.length;y<d;y++)for(var b=0,p=n[y].length-1;b<p;b++){var w=n[y][b],m=n[y][b+1];if(S.ut(l,v,w,m))return!0}for(var _=this.Gt[0],x=this.Gt[this.Gt.length-1],g=0,O=n.length;g<O;g++)for(var j=0,E=n[g].length-1;j<E;j++){var T=n[g][j],M=n[g][j+1];if(S.ut(_,x,T,M))return!0}return!1},Bt:function(t){t=t.getCoordinates()[0];return!!S.ht(t,this.Ut.St,this.Ut.Nt)&&S.ct(t,this.Gt,this.Gt.length-1)},Q:function(t,i){var n=t.getCoordinates();if(t.getType()!==_.MODEL)i.vt=Math.sqrt(S.yt(n[0],this.Ft));else{for(var r=Number.MAX_VALUE,e=0,s=n.length;e<s;e++)for(var o=1,u=n[e].length;o<u;o++){var h=n[e][o-1],a=n[e][o],h=S.dt(this.Ft,h,a);h<r&&(r=h)}i.vt=Math.sqrt(r)}}}),i);function ri(t){return(ri="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ei(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function si(t,i){return(si=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function oi(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=ui(n),i=(t=r?(t=ui(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),this);if(t&&("object"===ri(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==i)return i;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function ui(t){return(ui=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var i=function(){var t=s,i=o;if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),i&&si(t,i);var n,r,e=oi(s);function s(t,i){if(this instanceof s)return e.call(this,t,i);throw new TypeError("Cannot call a class as a function")}return t=s,n&&ei(t.prototype,n),r&&ei(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(),hi=(Object.assign(i.prototype,{H:function(t){return!1}}),i);function ai(t){return(ai="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fi(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ci(t,i){return(ci=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function li(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=vi(n),i=(t=r?(t=vi(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),this);if(t&&("object"===ai(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==i)return i;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function vi(t){return(vi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var i=function(){var t=s,i=o;if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),i&&ci(t,i);var n,r,e=li(s);function s(t,i){if(this instanceof s)return(t=e.call(this,t,i)).Vt=t.X.point,t;throw new TypeError("Cannot call a class as a function")}return t=s,n&&fi(t.prototype,n),r&&fi(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(),yi=(Object.assign(i.prototype,{H:function(t){return t.getType()==_.MODEL&&this.Zt(t)},Zt:function(t){var i=t.getBound();if(!S.ht(this.Vt,i.min,i.max))return!1;for(var n=t.getCoordinates(),r=0,e=0,s=n.length;e<s&&(S.ct(this.Vt,n[e],n[e].length-1)&&r++,!(1<r));e++);return 1==r}}),i);function di(t){return(di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bi(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var pi=new(function(){function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function")}var i,n,r;return i=t,(n=[{key:"create",value:function(t){if(!t||"object"!=di(t))return null;var i,n=[];for(i in t)switch(i){case"FID":n.push(new q(i,t[i]));break;case"name":n.push(new tt(i,t[i]));break;case"ename":n.push(new ot(i,t[i]));break;case"keyword":n.push(new wt(i,t[i]));break;case"typeID":n.push(new lt(i,t[i]));break;case"circle":n.push(new Qt(i,t[i]));break;case"polygon":n.push(new ni(i,t[i]));break;case"buffer":n.push(new hi(i,t[i]));break;case"contain":n.push(new yi(i,t[i]))}return n}}])&&bi(i.prototype,n),r&&bi(i,r),Object.defineProperty(i,"prototype",{writable:!1}),t}());function wi(t){return function(t){if(Array.isArray(t))return mi(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,i){if(t){if("string"==typeof t)return mi(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mi(t,i):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mi(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,r=new Array(i);n<i;n++)r[n]=t[n];return r}function _i(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=function(){function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.Yt=null,this.zt=B.MODEL,this.Xt=[],this.qt=[]}var i,n,r;return i=t,(n=[{key:"levels",get:function(){return this.Yt},set:function(t){this.Yt=t}},{key:"type",get:function(){return this.zt},set:function(t){this.zt=t}},{key:"addCondition",value:function(t){var i,n=pi.create(t);(i=this.qt).push.apply(i,wi(n)),this.Xt.push(t)}}])&&_i(i.prototype,n),r&&_i(i,r),Object.defineProperty(i,"prototype",{writable:!1}),t}(),xi=t(1),c={NAME_KEY_ERROR:0,MAP_ID_URL_ERROR:2,THEME_ID_URL_ERROR:4,LICENSE_ERROR:8,PATH_ERROR:404};function gi(t){return(gi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Oi(i,t){var n,r=Object.keys(i);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(i),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable})),r.push.apply(r,n)),r}function ji(r){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?Oi(Object(e),!0).forEach(function(t){var i,n;i=r,n=e[t=t],t in i?Object.defineProperty(i,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[t]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):Oi(Object(e)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))})}return r}function Ei(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ti(t,i,n){return i&&Ei(t.prototype,i),n&&Ei(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var n=Ti(function t(i){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.Ht=ji({data:null,method:"GET",responseType:"json"},i)}),h=(Object.assign(n.prototype,{Qt:function(t,i,n){var r=this.Ht,e=r.data,s=r.method,o=r.url,u=r.responseType,h=r.header,a=null;if((a=new("undefined"!=typeof XMLHttpRequest?XMLHttpRequest:xi.a.global().fengmap.XMLHttpRequest)).responseType=u,a.open(s,o),"object"==gi(h))for(var f in h)a.setRequestHeader(f,h[f]);a.addEventListener("load",function(){200===a.status||0===a.status||201===a.status?t&&t(a.response):i&&(404===a.status?i(c.PATH_ERROR):2069===a.response.error_code?i(c.NAME_KEY_ERROR):2063===a.response.error_code?i(c.MAP_ID_URL_ERROR):400===a.response.error_code?i(c.THEME_ID_URL_ERROR):i(a.response))}),a.addEventListener("timeout",function(t){n&&n(t)}),a.addEventListener("error",function(t){i&&i(t)}),a.send(JSON.stringify(e))}}),n),n=t(27),Mi=t.n(n);function ki(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ri(t,i,n){return i&&ki(t.prototype,i),n&&ki(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var Ai=Ri(function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");for(var e=["UkFTVEVSQVRB","bmF2aU5vZGVz","bG5hbWU=","R0VPTElORV9OQQ==","R0VPTElORV9CTw==","b2Zmc2V0WA==","ZGF0ZVZlcg==","Rmxvb3JHZW8=","c2NhbGU=","T1ZFUkxBWURBVA==","ZGVmQ2VuWg==","ZmxhZw==","b3B0aW9ucw==","cG9seWdvbkxheQ==","SW5mbw==","Z2Vv","ZG9vcnR5cGU=","bGlmdEZsYWc=","YXllcg==","ZmllbGRz","cmFuaw==","dWludDY0","d2lkdGg=","dmVs","aXNTZWxlY3RhYg==","bGlmdEVudHJ5","TmF2aU1vZGVs","R0VPUE9JTlRfUw==","bm9kZUlk","bWlk","SW5kZXhJbmZv","ZGVmR2lk","TmF2aVNlZ21lbg==","ZmxvYXQ=","RXh0ZW50Qml6SQ==","bWluWA==","R0VPUE9JTlRfRQ==","bmV4dEZsb29ycw==","bW9kZWxMYXllcg==","QVZJTk9ERQ==","c3RyaW5n","YWNjZXNzaWJsZQ==","R0VPUE9JTlRfTQ==","ZmlsZURhdGU=","Zmxvb3JJZA==","X0VYVEVOVA==","Ym9vbA==","ZmlsZVZlcg==","bGlmdExheWVy","amF2YV9wYWNrYQ==","TW9kZWxCaXpJbg==","TmF2aU5vZGU=","bmF2aU1vZGVscw==","R0VPTElORQ==","bmF2aVR5cGU=","LnByb3RvYnVm","ZG91Ymxl","a2V5","ZWxCaXpJbmZv","cmVhZE9ubHk=","R0VPUE9MWUdPTg==","aXNWaXNpYmxl","cGFja2Vk","ZW50cmFuY2VUeQ==","ZW5hbWU=","ZXh0ZW50TGF5ZQ==","T0RFTA==","TmF2aVpvbmU=","bmFtZQ==","TGFiZWxCaXpJbg==","R0VPUE9JTlRfUA==","bW9kZWxpZA==","Rmxvb3JDb25maQ==","aW50MzI=","c25vZGU=","cmVxdWlyZWQ=","cG9seWdvbkxhYg==","YXJlYQ==","bm9kZXR5cGVz","cHRz","bWF4bGV2ZWw=","YnR5cGU=","aWR4cw==","c3RhaXJMYXllcg==","YWxpYXM=","bmF2aVNlZ21lbg==","TGF5ZXJHcm91cA==","aGFzaENvZGU=","bmZv","RXh0ZXJuYWxNbw==","bmVzdGVk","ZXh0ZXJuYWxNbw==","ZW5vZGU=","amF2YV9vdXRlcg==","cnVsZQ==","TWFw","cm90YXRlQW5nbA==","bGlk","bmF2aVpvbmVz","bGFiZWxMYXllcg==","bGVu","QnVmZmVy","bGF5ZXJz","VEFJUg==","ZGF0YQ==","ZGVmYXVsdA==","TGF5ZXI=","c2VnbWVudElk","aGVpZ2h0","ZW50cnk=","b2Zmc2V0WQ==","Zmlk","a2V5cw==","VHlwZQ==","dHlwZQ==","VklTRUdNRU5U","UG9seWdvbkJpeg==","U0NBTEFUT1I=","bWF4WA==","ZGVsQml6SW5mbw==","ZWlk","Z2lk","b29y","bGlmdEZsb29y","bWlubGV2ZWw=","cmVwZWF0ZWQ=","ZGVmQ2VuWA==","bGVuZ3Ro","X0xBQkVM","Zmxvb3I=","cGFzcw==","UG9seWdvbkxhYg==","cG9pTGF5ZXI=","Rmxvb3JCaXo=","ZGVsTGF5ZXI=","R0VPUE9JTlRfTg==","Z25hbWU=","bGlmdFR5cGU=","R2VuZXJhbEdlbw==","ZGVzYw==","ZWxMYXllcg==","bWF4WQ==","cC5wbGF0Zm9ybQ==","cmVqZWN0cw=="],i=e,n=250;--n;)i.push(i.shift());function s(t,i){var n=e[t=+t];if(void 0===s.TvxZJP){try{var r=Function('return (function() {}.constructor("return this")( ));')()}catch(t){r=window}r.atob||(r.atob=function(t){for(var i,n,r=String(t).replace(/=+$/,""),e="",s=0,o=0;n=r.charAt(o++);~n&&(i=s%4?64*i+n:n,s++%4)&&(e+=String.fromCharCode(255&i>>(-2*s&6))))n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);return e}),s.twXBiB=function(t){for(var i=atob(t),n=[],r=0,e=i.length;r<e;r++)n+="%"+("00"+i.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)},s.TavDox={},s.TvxZJP=!0}return void 0===(r=s.TavDox[t])?(n=s.twXBiB(n),s.TavDox[t]=n):n=r,n}var r={},o=(r[s("0x58")+"ge"]="com.fengma"+s("0x25")+s("0x5e"),r[s("0x84")+"_classname"]=s("0x6f")+"gProtoBuf",{}),u=(o[s("0x85")]="required",o[s("0x9")]=s("0x4f"),o.id=1,{}),h=(u[s("0x85")]=s("0x72"),u.type=s("0x70"),u.id=2,{}),a=(h[s("0x85")]=s("0x72"),h.type="uint64",h.id=3,{}),f=(a[s("0x85")]="required",a[s("0x9")]=s("0x4f"),a.id=4,{}),c=(f[s("0x85")]="required",f[s("0x9")]="string",f.id=5,{}),l=(c[s("0x9")]=s("0x4f"),c.id=6,{}),v=(l[s("0x9")]="string",l.id=7,{}),y=(v[s("0x9")]="string",v.id=8,{}),d=(y[s("0x0")]=!1,{}),y=(d[s("0x9")]=s("0x55"),d.id=9,d[s("0x33")]=y,{}),b=(y[s("0x85")]=s("0x14"),y[s("0x9")]=s("0x8c"),y.id=10,{}),p=(b[s("0x85")]="repeated",b[s("0x9")]=s("0x4f"),b.id=11,{}),o=(p.mid=o,p[s("0x56")]=u,p[s("0x2d")]=h,p.mname=a,p[s("0x7e")]=f,p[s("0x60")]=c,p[s("0x52")]=l,p[s("0x22")]=v,p[s("0x62")]=d,p.buffers=y,p[s("0x7")]=b,{}),u=(o.rule=s("0x72"),o[s("0x9")]="int32",o.id=1,{}),h=(u[s("0x85")]=s("0x72"),u[s("0x9")]=s("0x70"),u.id=2,{}),a=(h[s("0x85")]=s("0x72"),h.type=s("0x70"),h.id=3,{}),f=(a[s("0x85")]=s("0x72"),a[s("0x9")]=s("0x3c"),a.id=4,{}),c=(f[s("0x85")]=s("0x72"),f.type="bytes",f.id=5,{}),l=(c[s("0x10")]=o,c[s("0x56")]=u,c[s("0x78")]=h,c[s("0x8b")]=a,c[s("0x8f")]=f,{}),v=(l[s("0x3a")]=c,{}),d=(v.Buffer=l,{}),y=(d[s("0x3a")]=p,d[s("0x81")]=v,{}),b=(y[s("0x85")]=s("0x72"),y[s("0x9")]="string",y.id=19,{}),o=(b.rule="required",b[s("0x9")]=s("0x70"),b.id=20,{}),u=(o[s("0x85")]=s("0x72"),o[s("0x9")]="uint64",o.id=21,{}),h=(u[s("0x85")]=s("0x72"),u[s("0x9")]=s("0x4f"),u.id=22,{}),a=(h[s("0x85")]="required",h[s("0x9")]=s("0x4f"),h.id=23,{}),f=(a[s("0x9")]=s("0x4f"),a.id=24,{}),c=(f[s("0x9")]="string",f.id=25,{}),l=(c[s("0x0")]=!1,{}),p=(l[s("0x9")]="bool",l.id=26,l.options=c,{}),v=(p[s("0x9")]=s("0x48"),p.id=1,{}),c=(v[s("0x9")]=s("0x48"),v.id=2,{}),w=(c[s("0x9")]=s("0x48"),c.id=3,{}),m=(w[s("0x9")]="float",w.id=4,{}),_=(m[s("0x9")]=s("0x48"),m.id=5,{}),x=(_[s("0x9")]=s("0x48"),_.id=6,{}),g=(x[s("0x9")]="float",x.id=7,{}),O=(g.type="string",g.id=8,{}),j=(O[s("0x9")]=s("0x48"),O.id=9,{}),E=(j[s("0x9")]=s("0x48"),j.id=10,{}),T=(E[s("0x9")]="float",E.id=11,{}),M=(T[s("0x9")]=s("0x48"),T.id=12,{}),k=(M[s("0x9")]="float",M.id=13,{}),R=(k[s("0x9")]="float",k.id=14,{}),A=(R[s("0x9")]="float",R.id=15,{}),S=(A.type="float",A.id=16,{}),N=(S[s("0x9")]=s("0x4f"),S.id=17,{}),I=(N.rule=s("0x14"),N.type=s("0x7d"),N.id=18,{}),y=(I[s("0x44")]=y,I[s("0x56")]=b,I[s("0x2d")]=o,I.mname=u,I[s("0x7e")]=h,I[s("0x60")]=a,I.desc=f,I[s("0x62")]=l,I.x=p,I.y=v,I.z=c,I[s("0x4a")]=w,I.minY=m,I[s("0xd")]=_,I[s("0x24")]=x,I[s("0x46")]=g,I[s("0x15")]=O,I.defCenY=j,I[s("0x31")]=E,I[s("0x3")]=T,I[s("0x87")+"eX"]=M,I[s("0x87")+"eY"]=k,I[s("0x87")+"eZ"]=R,I[s("0x2f")]=A,I.scaleLevel=S,I.layerGroups=N,{}),b=(y[s("0x9")]="int32",y.id=1,{}),o=(b[s("0x9")]=s("0x4f"),b.id=2,{}),u=(o[s("0x9")]=s("0x4f"),o.id=3,{}),h=(u[s("0x9")]=s("0x8"),u.id=4,{}),a=(h[s("0x9")]="float",h.id=5,{}),f=(a[s("0x9")]=s("0x48"),a.id=6,{}),l=(f[s("0x9")]="float",f.id=7,{}),p=(l[s("0x9")]="float",l.id=8,{}),v=(p[s("0x9")]=s("0x48"),p.id=9,{}),c=(v.type=s("0x48"),v.id=10,{}),w=(c[s("0x9")]=s("0x48"),c.id=11,{}),m=(w[s("0x9")]="float",w.id=12,{}),_=(m[s("0x9")]=s("0x55"),m.id=13,{}),x=(_[s("0x9")]="bool",_.id=14,{}),g=(x[s("0x9")]=s("0x55"),x.id=15,{}),O=(g[s("0x9")]=s("0x4f"),g.id=16,{}),j=(O[s("0x88")]=y,O[s("0x29")]=b,O.alias=o,O.ltype=u,O[s("0x2c")]=h,O[s("0x5")]=a,O[s("0x3")]=f,O.rotateAngleX=l,O.rotateAngleY=p,O[s("0x87")+"eZ"]=v,O.minScaleLevel=c,O["maxScaleLe"+s("0x3e")]=w,O[s("0x64")]=m,O[s("0x3f")+"le"]=_,O.isEditable=x,O[s("0x22")]=g,{}),E=(j.GEOPOINT=1,j[s("0x4b")+s("0xc")]=2,j.GEOPOINT_LIFT=3,j["GEOPOINT_S"+s("0x8e")]=4,j[s("0x6d")+"ANORAMA"]=5,j.GEOPOINT_POI=6,j[s("0x42")+"TORELABEL"]=7,j[s("0x1e")+s("0x4e")]=8,j[s("0x51")+s("0x69")]=9,j[s("0x5c")]=20,j[s("0x2a")+s("0xa")]=21,j[s("0x2b")+"RDER"]=22,j[s("0x63")]=30,j["GEOPOLYGON"+s("0x54")]=31,j[s("0x63")+"_STORE"]=32,j[s("0x63")+s("0x17")]=33,j[s("0x27")]=40,j[s("0x30")+"A"]=50,{}),T=(E.values=j,{}),M=(T[s("0x8")]=E,{}),k=(M.fields=O,M.nested=T,{}),R=(k.type=s("0x70"),k.id=1,{}),A=(R.type="string",R.id=2,{}),S=(A.type=s("0x4f"),A.id=3,{}),N=(S[s("0x9")]="float",S.id=4,{}),y=(N[s("0x9")]=s("0x4f"),N.id=5,{}),b=(y[s("0x85")]=s("0x14"),y[s("0x9")]=s("0x1"),y.id=6,{}),o=(b.type=s("0x4f"),b.id=7,{}),u=(o[s("0x9")]="int32",o.id=8,{}),h=(u[s("0x10")]=k,u[s("0x1f")]=R,u[s("0x7b")]=A,u[s("0x3")]=S,u[s("0x22")]=N,u[s("0x8d")]=y,u[s("0x53")]=b,u[s("0x5d")]=o,{}),a=(h[s("0x3a")]=u,{}),f=(a[s("0x1")]=M,a[s("0x7d")]=h,{}),l=(f[s("0x3a")]=I,f[s("0x81")]=a,{}),p=(l[s("0x85")]=s("0x72"),l.type=s("0x4f"),l.id=1,{}),v=(p[s("0x85")]=s("0x72"),p.type=s("0x70"),p.id=2,{}),c=(v[s("0x9")]=s("0x48"),v.id=3,{}),w=(c[s("0x85")]=s("0x14"),c[s("0x9")]=s("0x21")+s("0x35"),c.id=4,{}),m=(w.rule=s("0x14"),w.type=s("0x21")+s("0x35"),w.id=5,{}),_=(m[s("0x85")]=s("0x14"),m[s("0x9")]=s("0x21")+s("0x35"),m.id=6,{}),x=(_[s("0x85")]=s("0x14"),_[s("0x9")]=s("0x21")+s("0x35"),_.id=7,{}),g=(x[s("0x85")]=s("0x14"),x[s("0x9")]=s("0x21")+s("0x35"),x.id=8,{}),j=(g.rule=s("0x14"),g[s("0x9")]=s("0x21")+s("0x35"),g.id=9,{}),E=(j.rule=s("0x14"),j[s("0x9")]=s("0x21")+"Info",j.id=10,{}),O=(E.rule=s("0x14"),E.type=s("0x21")+s("0x35"),E.id=11,{}),T=(O[s("0x85")]=s("0x14"),O[s("0x9")]=s("0x21")+s("0x35"),O.id=12,{}),k=(T.rule="repeated",T[s("0x9")]=s("0x21")+s("0x35"),T.id=13,{}),R=(k[s("0x44")]=l,k.gid=p,k.height=v,k[s("0x68")+"r"]=c,k[s("0x4d")]=w,k.labelLayer=m,k[s("0x1b")]=_,k.polygonLayer=x,k[s("0x73")+s("0x23")]=g,k[s("0x57")]=j,k[s("0x7a")]=E,k["escalatorL"+s("0x39")]=O,k[s("0x82")+s("0x1d")]=T,{}),A=(R[s("0x85")]=s("0x72"),R[s("0x9")]=s("0x70"),R.id=1,{}),S=(A[s("0x9")]=s("0x4f"),A.id=2,{}),N=(S[s("0x9")]="float",S.id=3,{}),y=(N[s("0x9")]="float",N.id=4,{}),b=(y[s("0x85")]=s("0x14"),y.type=s("0x45"),y.id=5,{}),o=(b[s("0x65")]=!1,{}),u=(o[s("0x85")]=s("0x14"),o[s("0x9")]=s("0x5f"),o.id=6,o[s("0x33")]=b,{}),M=(u[s("0xf")]=R,u.geo=A,u[s("0x3")]=S,u[s("0x74")]=N,u[s("0x79")]=y,u[s("0x76")]=o,{}),h=(M[s("0x65")]=!1,{}),I=(h[s("0x85")]=s("0x14"),h[s("0x9")]=s("0x70"),h.id=1,h.options=M,{}),a=(I.idxs=h,{}),l=(a.fields=I,{}),p=(l[s("0x45")]=a,{}),v=(p[s("0x3a")]=u,p[s("0x81")]=l,{}),c=(v[s("0x21")+s("0x35")]=p,{}),w=(c[s("0x3a")]=k,c[s("0x81")]=v,{}),m=(w.rule=s("0x72"),w.type=s("0x4f"),w.id=1,{}),_=(m.rule=s("0x72"),m[s("0x9")]=s("0x70"),m.id=2,{}),x=(_.rule=s("0x14"),_[s("0x9")]=s("0x49")+s("0x7f"),_.id=3,{}),g=(x.rule=s("0x14"),x.type=s("0x59")+"fo",x.id=4,{}),j=(g.rule=s("0x14"),g.type="LabelBizInfo",g.id=5,{}),E=(j[s("0x85")]=s("0x14"),j[s("0x9")]="POIBizInfo",j.id=6,{}),O=(E[s("0x85")]=s("0x14"),E[s("0x9")]=s("0xb")+s("0x35"),E.id=7,{}),T=(O.rule=s("0x14"),O.type="LiftBizInfo",O.id=8,{}),b=(T.rule=s("0x14"),T[s("0x9")]="StairBizInfo",T.id=9,{}),R=(b[s("0x85")]=s("0x14"),b[s("0x9")]=s("0x1a")+s("0x61"),b.id=10,{}),A=(R[s("0x85")]="repeated",R[s("0x9")]="ExternalMo"+s("0xe"),R.id=11,{}),S=(A[s("0x44")]=w,A.gid=m,A.extentLayer=_,A.modelLayer=x,A[s("0x8a")]=g,A.poiLayer=j,A[s("0x34")+"er"]=E,A[s("0x57")]=O,A[s("0x7a")]=T,A["polygonLab"+s("0x23")]=b,A[s("0x82")+"delLayer"]=R,{}),N=(S[s("0x85")]=s("0x72"),S[s("0x9")]=s("0x70"),S.id=1,{}),y=(N[s("0x9")]=s("0x4f"),N.id=2,{}),o=(y[s("0x9")]=s("0x70"),y.id=3,{}),M=(o.type=s("0x4f"),o.id=4,{}),h=(M[s("0x9")]=s("0x4f"),M.id=5,{}),I=(h.type=s("0x70"),h.id=6,{}),a=(I.type=s("0x70"),I.id=7,{}),u=(a.eid=S,a[s("0x6")]=N,a.type=y,a[s("0x6b")]=o,a[s("0x67")]=M,a.minlevel=h,a[s("0x77")]=I,{}),l=(u[s("0x3a")]=a,{}),p=(l.rule=s("0x72"),l[s("0x9")]="int32",l.id=1,{}),k=(p.type=s("0x4f"),p.id=2,{}),v=(k[s("0x9")]=s("0x70"),k.id=3,{}),w=(v[s("0x9")]=s("0x4f"),v.id=4,{}),m=(w.type=s("0x4f"),w.id=5,{}),_=(m[s("0x9")]=s("0x70"),m.id=6,{}),x=(_[s("0x9")]="int32",_.id=7,{}),g=(x.type=s("0x70"),x.id=8,{}),j=(g[s("0xf")]=l,g[s("0x6")]=p,g[s("0x9")]=k,g[s("0x6b")]=v,g[s("0x67")]=w,g.minlevel=m,g[s("0x77")]=_,g[s("0x19")]=x,{}),E=(j[s("0x3a")]=g,{}),O=(E[s("0x85")]=s("0x72"),E[s("0x9")]=s("0x70"),E.id=1,{}),T=(O[s("0x9")]="string",O.id=2,{}),b=(T.type=s("0x70"),T.id=3,{}),R=(b[s("0x9")]=s("0x4f"),b.id=4,{}),S=(R.type="string",R.id=5,{}),N=(S[s("0x9")]=s("0x70"),S.id=6,{}),y=(N.type="int32",N.id=7,{}),o=(y.eid=E,y[s("0x6")]=O,y[s("0x9")]=T,y[s("0x6b")]=b,y[s("0x67")]=R,y.minlevel=S,y[s("0x77")]=N,{}),M=(o[s("0x3a")]=y,{}),h=(M[s("0x85")]="required",M[s("0x9")]="int32",M.id=1,{}),I=(h[s("0x9")]=s("0x4f"),h.id=2,{}),a=(I[s("0x9")]="int32",I.id=3,{}),l=(a.type="string",a.id=4,{}),p=(l[s("0x9")]=s("0x4f"),l.id=5,{}),k=(p[s("0x9")]="int32",p.id=6,{}),v=(k.type=s("0x70"),k.id=7,{}),w=(v[s("0xf")]=M,v[s("0x6")]=h,v[s("0x9")]=I,v[s("0x6b")]=a,v[s("0x67")]=l,v[s("0x13")]=p,v.maxlevel=k,{}),m=(w.fields=v,{}),_=(m[s("0x85")]=s("0x72"),m.type=s("0x70"),m.id=1,{}),x=(_[s("0x9")]=s("0x4f"),_.id=2,{}),g=(x[s("0x9")]=s("0x70"),x.id=3,{}),E=(g[s("0x9")]=s("0x4f"),g.id=4,{}),O=(E[s("0x9")]=s("0x4f"),E.id=5,{}),T=(O.type=s("0x70"),O.id=6,{}),b=(T[s("0x9")]=s("0x70"),T.id=7,{}),R=(b[s("0xf")]=m,b[s("0x6")]=_,b[s("0x9")]=x,b[s("0x6b")]=g,b[s("0x67")]=E,b[s("0x13")]=O,b[s("0x77")]=T,{}),S=(R[s("0x3a")]=b,{}),N=(S[s("0x85")]=s("0x72"),S[s("0x9")]=s("0x70"),S.id=1,{}),y=(N[s("0x9")]=s("0x4f"),N.id=2,{}),M=(y.type=s("0x70"),y.id=3,{}),h=(M[s("0x9")]="int32",M.id=4,{}),I=(h[s("0x9")]=s("0x4f"),h.id=5,{}),a=(I[s("0x9")]=s("0x70"),I.id=6,{}),l=(a[s("0x9")]=s("0x70"),a.id=7,{}),p=(l.eid=S,l[s("0x6")]=N,l[s("0x9")]=y,l[s("0x32")]=M,l[s("0x18")]=h,l[s("0x13")]=I,l[s("0x77")]=a,{}),k=(p.fields=l,{}),v=(k[s("0x85")]=s("0x72"),k[s("0x9")]=s("0x70"),k.id=1,{}),m=(v.type=s("0x4f"),v.id=2,{}),_=(m.type="int32",m.id=3,{}),x=(_[s("0x9")]=s("0x70"),_.id=4,{}),g=(x.type="int32",x.id=5,{}),E=(g[s("0x9")]=s("0x70"),g.id=6,{}),O=(E.eid=k,E[s("0x6")]=v,E.type=m,E[s("0x32")]=_,E[s("0x13")]=x,E[s("0x77")]=g,{}),T=(O[s("0x3a")]=E,{}),b=(T.rule=s("0x72"),T[s("0x9")]="int32",T.id=1,{}),S=(b[s("0x9")]=s("0x4f"),b.id=2,{}),N=(S[s("0x9")]=s("0x70"),S.id=3,{}),y=(N[s("0x9")]="float",N.id=4,{}),M=(y.type=s("0x4f"),y.id=5,{}),h=(M[s("0x9")]=s("0x4f"),M.id=6,{}),I=(h[s("0x9")]=s("0x48"),h.id=7,{}),a=(I.eid=T,I[s("0x6")]=b,I[s("0x9")]=S,I[s("0x3d")]=N,I[s("0x6b")]=y,I[s("0x67")]=M,I.angle=h,{}),l=(a[s("0x3a")]=I,{}),k=(l[s("0x85")]=s("0x72"),l[s("0x9")]=s("0x70"),l.id=1,{}),v=(k[s("0x9")]=s("0x4f"),k.id=2,{}),m=(v.type=s("0x70"),v.id=3,{}),_=(m.type="string",m.id=4,{}),x=(_.type=s("0x4f"),_.id=5,{}),g=(x[s("0x9")]=s("0x70"),x.id=6,{}),E=(g[s("0x9")]=s("0x70"),g.id=7,{}),T=(E.eid=l,E[s("0x6")]=k,E[s("0x9")]=v,E[s("0x6b")]=m,E[s("0x67")]=_,E[s("0x13")]=x,E[s("0x77")]=g,{}),b=(T[s("0x3a")]=E,{}),S=(b[s("0x49")+s("0x7f")]=u,b.ModelBizInfo=j,b[s("0x6c")+"fo"]=o,b[s("0xb")+s("0x35")]=w,b.POIBizInfo=R,b.LiftBizInfo=p,b.StairBizInfo=O,b[s("0x1a")+"elBizInfo"]=a,b[s("0x80")+s("0xe")]=T,{}),N=(S.fields=A,S[s("0x81")]=b,{}),y=(N[s("0x85")]=s("0x72"),N[s("0x9")]=s("0x4f"),N.id=1,{}),M=(y[s("0x85")]=s("0x72"),y[s("0x9")]=s("0x70"),y.id=2,{}),h=(M[s("0x85")]=s("0x14"),M[s("0x9")]="NaviNode",M.id=3,{}),I=(h.rule="repeated",h.type=s("0x47")+"t",h.id=4,{}),l=(I[s("0x85")]="repeated",I.type=s("0x6a"),I.id=5,{}),k=(l[s("0x85")]=s("0x14"),l[s("0x9")]="NaviModel",l.id=6,{}),v=(k[s("0x65")]=!1,{}),m=(v[s("0x85")]=s("0x14"),v[s("0x9")]=s("0x70"),v.id=7,v[s("0x33")]=k,{}),_=(m.mid=N,m[s("0x10")]=y,m[s("0x28")]=M,m[s("0x7c")+"ts"]=h,m[s("0x89")]=I,m[s("0x5b")]=l,m[s("0x4c")]=v,{}),x=(_.type=s("0x70"),_.id=1,{}),g=(x[s("0x9")]=s("0x70"),x.id=2,{}),E=(g[s("0x9")]=s("0x70"),g.id=3,{}),u=(E[s("0x9")]=s("0x70"),E.id=4,{}),j=(u[s("0x9")]=s("0x70"),u.id=5,{}),o=(j[s("0x9")]=s("0x4f"),j.id=6,{}),w=(o[s("0x9")]=s("0x4f"),o.id=7,{}),R=(w[s("0x9")]=s("0x4f"),w.id=8,{}),p=(R[s("0x9")]="int32",R.id=9,{}),O=(p[s("0x9")]=s("0x4f"),p.id=10,{}),a=(O[s("0x9")]=s("0x70"),O.id=11,{}),T=(a[s("0x65")]=!1,{}),A=(T[s("0x85")]=s("0x14"),T[s("0x9")]=s("0x70"),T.id=12,T[s("0x33")]=a,{}),b=(A[s("0x65")]=!1,{}),k=(b[s("0x85")]="repeated",b[s("0x9")]=s("0x5f"),b.id=13,b[s("0x33")]=A,{}),N=(k[s("0x0")]=0,{}),y=(N.type=s("0x70"),N.id=14,N[s("0x33")]=k,{}),M=(y[s("0x43")]=_,y.nodeType=x,y[s("0x20")]=g,y[s("0x38")]=E,y[s("0x40")]=u,y[s("0x12")]=j,y.linkSeg=o,y[s("0x36")]=w,y[s("0x66")+"pe"]=R,y["entranceFl"+s("0x11")]=p,y[s("0x37")]=O,y[s("0x79")]=T,y.pts=b,y[s("0x50")]=N,{}),h=(M[s("0x3a")]=y,{}),I=(h[s("0x9")]=s("0x70"),h.id=1,{}),l=(I[s("0x9")]="int32",I.id=2,{}),v=(l[s("0x9")]=s("0x70"),l.id=3,{}),a=(v.type="double",v.id=4,{}),A=(a[s("0x9")]=s("0x70"),a.id=5,{}),k=(A[s("0x9")]="string",A.id=6,{}),_=(k[s("0x9")]=s("0x70"),k.id=7,{}),x=(_[s("0x9")]=s("0x4f"),_.id=8,{}),g=(x[s("0x9")]=s("0x4f"),x.id=9,{}),E=(g.type="int32",g.id=10,{}),u=(E[s("0x65")]=!1,{}),j=(u[s("0x85")]="repeated",u.type="int32",u.id=11,u[s("0x33")]=E,{}),o=(j[s("0x65")]=!1,{}),w=(o[s("0x85")]=s("0x14"),o.type=s("0x5f"),o.id=12,o[s("0x33")]=j,{}),R=(w[s("0x2")]=h,w[s("0x71")]=I,w[s("0x83")]=l,w[s("0x16")]=v,w[s("0x3b")]=a,w[s("0x6b")]=A,w[s("0x4")]=k,w[s("0x22")]=_,w.geo=x,w.through=g,w.idxs=u,w[s("0x76")]=o,{}),p=(R[s("0x3a")]=w,{}),O=(p[s("0x85")]="required",p.type=s("0x70"),p.id=1,{}),T=(O[s("0x0")]=0,{}),b=(T[s("0x85")]="required",T.type=s("0x70"),T.id=2,T[s("0x33")]=O,{}),N=(b[s("0x9")]=s("0x4f"),b.id=3,{}),y=(N[s("0x85")]=s("0x14"),N[s("0x9")]="string",N.id=4,{}),E=(y[s("0x65")]=!1,{}),j=(E[s("0x85")]=s("0x14"),E[s("0x9")]=s("0x70"),E.id=5,E[s("0x33")]=y,{}),h=(j[s("0x65")]=!1,{}),I=(h[s("0x85")]=s("0x14"),h.type=s("0x5f"),h.id=6,h.options=j,{}),l=(I.id=p,I[s("0x9")]=T,I.geo=b,I[s("0x26")]=N,I[s("0x79")]=E,I[s("0x76")]=h,{}),v=(l[s("0x3a")]=I,{}),a=(v[s("0x85")]="required",v[s("0x9")]="int32",v.id=1,{}),A=(a.packed=!1,{}),k=(A.rule=s("0x14"),A.type="int32",A.id=2,A[s("0x33")]=a,{}),_=(k[s("0x65")]=!1,{}),x=(_[s("0x85")]=s("0x14"),_[s("0x9")]=s("0x70"),_.id=3,_[s("0x33")]=k,{}),g=(x[s("0x65")]=!1,{}),u=(g.rule=s("0x14"),g.type=s("0x70"),g.id=4,g[s("0x33")]=x,{}),o=(u[s("0x6e")]=v,u.doorids=A,u[s("0x75")]=_,u.entrytypes=g,{}),w=(o.fields=u,{}),O=(w[s("0x5a")]=M,w[s("0x47")+"t"]=R,w[s("0x6a")]=l,w[s("0x41")]=o,{}),y=(O.fields=m,O[s("0x81")]=w,{}),j=(y[s("0x86")]=d,y.Scene=f,y[s("0x2e")]=c,y[s("0x1c")]=S,y.FloorNavi=O,{}),p=(j[s("0x33")]=r,j[s("0x81")]=y,{}),T=(p.protobuf=j,{});T.nested=p,this.id=T});function Si(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ni(t,i,n){return i&&Si(t.prototype,i),n&&Si(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var n=Ni(function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.$t=null}),Ii=(Object.assign(n.prototype,{Jt:function(){this.$t||(this.$t=Mi.a.Root.fromJSON("undefined"!=typeof KjWzhWlSj&&KjWzhWlSj.ProtoDef?KjWzhWlSj.ProtoDef:(new Ai).id))},Kt:function(t){return this.Jt(),this.$t.lookup("Map").decode(t)},ti:function(t){for(var i=0;i<t.buffers.length;i++){var n=t.buffers[i];if(1==n.btype)return this.ii(n.data)}return null},ni:function(t,i){for(var n=0;n<t.buffers.length;n++){var r=t.buffers[n];if(2==r.btype&&r.gid==i)return this.ri(r.data)}return null},ei:function(t,i){for(var n=0;n<t.buffers.length;n++){var r=t.buffers[n];if(3==r.btype&&r.gid==i)return this.si(r.data)}return null},oi:function(t,i){for(var n=0;n<t.buffers.length;n++){var r=t.buffers[n];if(4==r.btype&&r.gid==i)return this.ui(r.data)}return null},ai:function(t,i){for(var n=0;n<t.buffers.length;n++){var r=t.buffers[n];if(5===r.btype&&r.gid===i)return this.ui(r.data)}return null},fi:function(t,i){for(var n=0;n<t.buffers.length;n++){var r=t.buffers[n];if(6===r.btype&&r.gid===i)return this.ui(r.data)}return null},ii:function(t){this.Jt();var i=this.$t.lookup("Scene").decode(t);return i.levels=[],i.layerGroups.forEach(function(t){i.levels.push(t.gid)}),i},ri:function(t){return this.Jt(),this.$t.lookup("FloorGeo").decode(t)},si:function(t){return this.Jt(),this.$t.lookup("FloorBiz").decode(t)},ui:function(t){return this.Jt(),this.$t.lookup("FloorNavi").decode(t)}}),n);function Li(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Di(t,i,n){return i&&Li(t.prototype,i),n&&Li(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var Fi,Pi,y,d,Ci,n=Di(function t(){var i;if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");void 0!==xi.a.global().KjWzhWlSj&&xi.a.global().KjWzhWlSj.ProtoReaderStatic?(i=xi.a.global().KjWzhWlSj.ProtoReaderStatic,this.ci=new i):this.ci=new Ii}),Ui=(Object.assign(n.prototype,{Kt:function(t){return this.ci.Kt(t)},ti:function(t){return this.ci.ti(t)},ni:function(t,i){return this.ci.ni(t,i)},ei:function(t,i){return this.ci.ei(t,i)},oi:function(t,i){return this.ci.oi(t,i)},ai:function(t,i){return this.ci.ai(t,i)},fi:function(t,i){return this.ci.fi(t,i)},ii:function(t){return this.ci.ii(t)},ri:function(t){return this.ci.ri(t)},si:function(t){return this.ci.si(t)},ui:function(t){return this.ci.ui(t)}}),n),n="https://console.fengmap.com/api-s/",Bi={domain:n,online:n+"sdk/check",check:n+"sdk/auth/web",download:n+"sdk/auth/obtainMapRoute",downloadTile:n+"sdk/authLayered/obtainMapRoute",collect:n+"sdk/collect",themeUrl:n+"webtheme/",externalModelUrl:n+"webmodel/"};function b(t,i){for(var n,r=0,e=0,e=0;e<8;e++)1&i&&(r^=t),n=128&t,t<<=1,n&&(t^=27),i>>=1;return r}function Zi(t,i,n){for(var r=0;r<4;r++)t[0+r]^=i[16*n+4*r],t[4+r]^=i[16*n+4*r+1],t[8+r]^=i[16*n+4*r+2],t[12+r]^=i[16*n+4*r+3]}function Gi(t){for(var i,n,r,e=1;e<4;e++)for(n=0;n<e;){for(r=t[4*e+4-1],i=3;0<i;i--)t[4*e+i]=t[4*e+i-1];t[4*e+0]=r,n++}}function Wi(t){for(var i,n,r,e=0;e<4;e++)for(i=0;i<4;i++)n=(240&t[4*e+i])>>4,r=15&t[4*e+i],t[4*e+i]=Pi[16*n+r]}function Vi(t){for(var i=0;i<4;i++)t[i]=Fi[16*((240&t[i])>>4)+(15&t[i])]}function Yi(t){return parseInt(t,16)}Fi=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],Pi=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],Ci=[2,d=y=0,0,0];var zi={decryption:function(t,i){for(var n=Array(16),r=0;r<16;r++)n[r]=16*Yi(i.substr(2*r,1))+Yi(i.substr(2*r+1,1));var e=Array(16);for(r=0;r<16;r++)e[r]=16*Yi(t.substr(2*r,1))+Yi(t.substr(2*r+1,1));var s=Array(16);switch(r=[],n.length){default:case 16:y=4,d=10;break;case 24:y=6,d=12;break;case 32:y=8,d=14}for(var o=r=Array(16*(d+1)),u=Array(4),h=4*(d+1),a=0;a<y;a++)o[4*a+0]=n[4*a+0],o[4*a+1]=n[4*a+1],o[4*a+2]=n[4*a+2],o[4*a+3]=n[4*a+3];for(a=y;a<h;a++){if(u[0]=o[4*(a-1)+0],u[1]=o[4*(a-1)+1],u[2]=o[4*(a-1)+2],u[3]=o[4*(a-1)+3],0==a%y){for(var f=void 0,c=void 0,f=(n=u)[0],c=0;c<3;c++)n[c]=n[c+1];if(n[3]=f,Vi(u),1==(n=a/y))Ci[0]=1;else if(1<n)for(Ci[0]=2,n--;0<n-1;)Ci[0]=b(Ci[0],2),n--;(c=n=u)[0]=n[0]^(f=Ci)[0],c[1]=n[1]^f[1],c[2]=n[2]^f[2],c[3]=n[3]^f[3]}else 6<y&&4==a%y&&Vi(u);o[4*a+0]=o[4*(a-y)+0]^u[0],o[4*a+1]=o[4*(a-y)+1]^u[1],o[4*a+2]=o[4*(a-y)+2]^u[2],o[4*a+3]=o[4*(a-y)+3]^u[3]}for(o=Array(16),u=0;u<4;u++)for(a=0;a<4;a++)o[4*u+a]=e[u+4*a];for(Zi(o,r,d),e=d-1;1<=e;e--)for(Gi(o),Wi(o),Zi(o,r,e),u=o,a=[14,9,13,11],h=c=void 0,n=Array(4),f=Array(4),h=0;h<4;h++){for(c=0;c<4;c++)n[c]=u[4*c+h];var c=a,l=n,v=f;for(v[0]=b(c[0],l[0])^b(c[3],l[1])^b(c[2],l[2])^b(c[1],l[3]),v[1]=b(c[1],l[0])^b(c[0],l[1])^b(c[3],l[2])^b(c[2],l[3]),v[2]=b(c[2],l[0])^b(c[1],l[1])^b(c[0],l[2])^b(c[3],l[3]),v[3]=b(c[3],l[0])^b(c[2],l[1])^b(c[1],l[2])^b(c[0],l[3]),c=0;c<4;c++)u[4*c+h]=f[c]}for(Gi(o),Wi(o),Zi(o,r,0),u=0;u<4;u++)for(a=0;a<4;a++)s[u+4*a]=o[4*u+a];for(e="",r=0;r<16;++r)e+=o=(o=s[r].toString(16)).length<2?"0"+o:o;return e}};function l(t,i){var n=(65535&t)+(65535&i);return(t>>16)+(i>>16)+(n>>16)<<16|65535&n}function Xi(t,i,n,r,e,s){return l((i=l(l(i,t),l(r,s)))<<e|i>>>32-e,n)}function v(t,i,n,r,e,s,o){return Xi(i&n|~i&r,t,i,e,s,o)}function p(t,i,n,r,e,s,o){return Xi(i&r|n&~r,t,i,e,s,o)}function w(t,i,n,r,e,s,o){return Xi(i^n^r,t,i,e,s,o)}function x(t,i,n,r,e,s,o){return Xi(n^(i|~r),t,i,e,s,o)}function qi(t,i){t[i>>5]|=128<<i%32,t[14+(i+64>>>9<<4)]=i;for(var n,r,e,s,o=1732584193,u=-271733879,h=-1732584194,a=271733878,f=0;f<t.length;f+=16)o=v(n=o,r=u,e=h,s=a,t[f],7,-680876936),a=v(a,o,u,h,t[f+1],12,-389564586),h=v(h,a,o,u,t[f+2],17,606105819),u=v(u,h,a,o,t[f+3],22,-1044525330),o=v(o,u,h,a,t[f+4],7,-176418897),a=v(a,o,u,h,t[f+5],12,1200080426),h=v(h,a,o,u,t[f+6],17,-1473231341),u=v(u,h,a,o,t[f+7],22,-45705983),o=v(o,u,h,a,t[f+8],7,1770035416),a=v(a,o,u,h,t[f+9],12,-1958414417),h=v(h,a,o,u,t[f+10],17,-42063),u=v(u,h,a,o,t[f+11],22,-1990404162),o=v(o,u,h,a,t[f+12],7,1804603682),a=v(a,o,u,h,t[f+13],12,-40341101),h=v(h,a,o,u,t[f+14],17,-1502002290),o=p(o,u=v(u,h,a,o,t[f+15],22,1236535329),h,a,t[f+1],5,-165796510),a=p(a,o,u,h,t[f+6],9,-1069501632),h=p(h,a,o,u,t[f+11],14,643717713),u=p(u,h,a,o,t[f],20,-373897302),o=p(o,u,h,a,t[f+5],5,-701558691),a=p(a,o,u,h,t[f+10],9,38016083),h=p(h,a,o,u,t[f+15],14,-660478335),u=p(u,h,a,o,t[f+4],20,-405537848),o=p(o,u,h,a,t[f+9],5,568446438),a=p(a,o,u,h,t[f+14],9,-1019803690),h=p(h,a,o,u,t[f+3],14,-187363961),u=p(u,h,a,o,t[f+8],20,1163531501),o=p(o,u,h,a,t[f+13],5,-1444681467),a=p(a,o,u,h,t[f+2],9,-51403784),h=p(h,a,o,u,t[f+7],14,1735328473),o=w(o,u=p(u,h,a,o,t[f+12],20,-1926607734),h,a,t[f+5],4,-378558),a=w(a,o,u,h,t[f+8],11,-2022574463),h=w(h,a,o,u,t[f+11],16,1839030562),u=w(u,h,a,o,t[f+14],23,-35309556),o=w(o,u,h,a,t[f+1],4,-1530992060),a=w(a,o,u,h,t[f+4],11,1272893353),h=w(h,a,o,u,t[f+7],16,-155497632),u=w(u,h,a,o,t[f+10],23,-1094730640),o=w(o,u,h,a,t[f+13],4,681279174),a=w(a,o,u,h,t[f],11,-358537222),h=w(h,a,o,u,t[f+3],16,-722521979),u=w(u,h,a,o,t[f+6],23,76029189),o=w(o,u,h,a,t[f+9],4,-640364487),a=w(a,o,u,h,t[f+12],11,-421815835),h=w(h,a,o,u,t[f+15],16,530742520),o=x(o,u=w(u,h,a,o,t[f+2],23,-995338651),h,a,t[f],6,-198630844),a=x(a,o,u,h,t[f+7],10,1126891415),h=x(h,a,o,u,t[f+14],15,-1416354905),u=x(u,h,a,o,t[f+5],21,-57434055),o=x(o,u,h,a,t[f+12],6,1700485571),a=x(a,o,u,h,t[f+3],10,-1894986606),h=x(h,a,o,u,t[f+10],15,-1051523),u=x(u,h,a,o,t[f+1],21,-2054922799),o=x(o,u,h,a,t[f+8],6,1873313359),a=x(a,o,u,h,t[f+15],10,-30611744),h=x(h,a,o,u,t[f+6],15,-1560198380),u=x(u,h,a,o,t[f+13],21,1309151649),o=x(o,u,h,a,t[f+4],6,-145523070),a=x(a,o,u,h,t[f+11],10,-1120210379),h=x(h,a,o,u,t[f+2],15,718787259),u=x(u,h,a,o,t[f+9],21,-343485551),o=l(o,n),u=l(u,r),h=l(h,e),a=l(a,s);return[o,u,h,a]}function Hi(t){for(var i="",n=32*t.length,r=0;r<n;r+=8)i+=String.fromCharCode(t[r>>5]>>>r%32&255);return i}function Qi(t){var i=[];for(i[(t.length>>2)-1]=void 0,r=0;r<i.length;r+=1)i[r]=0;for(var n=8*t.length,r=0;r<n;r+=8)i[r>>5]|=(255&t.charCodeAt(r/8))<<r%32;return i}function $i(t){for(var i,n="0123456789abcdef",r="",e=0;e<t.length;e+=1)i=t.charCodeAt(e),r+=n.charAt(i>>>4&15)+n.charAt(15&i);return r}function Ji(t){return unescape(encodeURIComponent(t))}function Ki(t){return Hi(qi(Qi(t=Ji(t)),8*t.length))}function tn(t,i){var n,t=Ji(t),i=Ji(i),r=Qi(t),e=[],s=[];for(e[15]=s[15]=void 0,16<r.length&&(r=qi(r,8*t.length)),n=0;n<16;n+=1)e[n]=909522486^r[n],s[n]=1549556828^r[n];return t=qi(e.concat(Qi(i)),512+8*i.length),Hi(qi(s.concat(t),640))}function nn(t,i,n){return i?n?tn(i,t):$i(tn(i,t)):n?Ki(t):$i(Ki(t))}var rn={encryption:function(t){return nn(t)}};function en(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sn(t,i,n){return i&&en(t.prototype,i),n&&en(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var on="0.0.0.0",n=sn(function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function")});Object.assign(n.prototype,{li:function(t,i,n,r,e){"undefined"==typeof KjWzhWlSj||!KjWzhWlSj.license||!KjWzhWlSj.license?r&&r():"string"!=typeof i||0==i.length?e&&e():(i=zi.decryption(i,"026685bf295f587b5dffc1f18d5dc27c"),n=rn.encryption(n),i=zi.decryption(i,n),-1!==t.indexOf(i)?r&&r():e&&e())},vi:function(t,i,n,r){var e;-1!==i.indexOf("")||-1!==i.indexOf("aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa")?n&&n():(e=rn.encryption("fengmap.localhost:"+t.appName),e=zi.decryption(t.key,e),-1!==i.indexOf(e)?this.li(i,t.license,t.buildingID,function(){n&&n()},function(){r&&r(c.LICENSE_ERROR)}):r&&r(c.NAME_KEY_ERROR))},yi:function(t,i,n){var r=this;void 0!==t.mapURL?i&&i():(this.di(t),this.bi(function(){new h({method:"POST",url:Bi.check,header:{"X-Requested-With":"XMLHttpRequest","Content-type":"application/json;charset=utf-8"},data:r.pi(t)}).Qt(function(){i&&i()},function(t){n&&n(t)},function(){i&&i()})},function(){i&&i()}))},bi:function(t,i){new h({method:"GET",url:Bi.online}).Qt(function(){t&&t()},function(){i&&i()},function(){i&&i()})},pi:function(t,i){var n=xi.a.global().location.host,r=n.indexOf(":"),r=(-1!==r&&(n=n.slice(0,r)),{mapId:t.buildingID,appName:t.appName});return i?r.keyValue=t.key:r.appKey=t.key,i?r.webUrl=n||on:r.webURL=n||on,r},di:function(t){if("undefined"!=typeof navigator&&"undefined"!=typeof document){var i={};-1!==navigator.userAgent.indexOf("Opera")?i.userAgent="Opera":-1!==navigator.userAgent.indexOf("Firefox")?i.userAgent="FF":-1!==navigator.userAgent.indexOf("Chrome")?i.userAgent="Chrome":-1!==navigator.userAgent.indexOf("Safari")&&0===navigator.userAgent.indexOf("Chrome")?i.userAgent="Safari":-1!==navigator.userAgent.indexOf("compatible")&&-1!==navigator.userAgent.indexOf("MSIE")?i.userAgent="IE":-1!==navigator.userAgent.indexOf("Trident")&&(i.userAgent="Edge"),i.product="JS",i.sdkVersion=C+"."+U,i.appName=t.appName,i.appkey=t.key;for(var t=document.createElement("canvas").getContext("experimental-webgl"),n=t.getExtension("WEBGL_debug_renderer_info"),r=(i.gpu=n?t.getParameter(n.UNMASKED_RENDERER_WEBGL):null,i.os=navigator.platform,!0),e=navigator.userAgent,s=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"],o=0;o<s.length;o++)if(0<e.indexOf(s[o])){r=!1;break}i.device=r?"pc":"mobile",new h({method:"POST",url:Bi.collect,header:{"X-Requested-With":"XMLHttpRequest","Content-type":"application/json;charset=utf-8"},data:i}).Qt()}}});var un=new n;function hn(t){return function(t){if(Array.isArray(t))return an(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,i){if(t){if("string"==typeof t)return an(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?an(t,i):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function an(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,r=new Array(i);n<i;n++)r[n]=t[n];return r}function fn(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cn(t,i,n){return i&&fn(t.prototype,i),n&&fn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var n=cn(function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.ci=new Ui}),ln=(Object.assign(n.prototype,{wi:function(){},mi:function(t,i,n,r){var e;if(t.mapURL)return e=t.isPreview||t.mapURLAbsolute?t.mapURL+t.buildingID+i+".fmap":t.mapURL+t.buildingID+"/"+t.buildingID+i+".fmap",void(n&&n(e));new h({method:"POST",url:""===i?Bi.download:Bi.downloadTile+"/"+t.buildingID+i+".fmap",header:{"X-Requested-With":"XMLHttpRequest","Content-type":"application/json;charset=utf-8"},data:Object.assign({newFlag:"2",keyType:3,isSeparate:!1},un.pi(t,!0))}).Qt(function(t){n&&n(t.replace('"',"").replace('"',""))},function(t){r&&r(t)},function(t){r&&r(t)})},_i:function(n,r,e){var s=this;un.yi(n,function(){s.mi(n,"",function(t){new h({method:"GET",responseType:"arraybuffer",url:t}).Qt(function(t){var t=new Uint8Array(t),i=s.ci.Kt(t),t=[];i.keys&&0!==i.keys.length?t.push.apply(t,hn(i.keys)):t.push(i.key),n.isPreview?r&&r(i):un.vi(n,t,function(){r&&r(i)},function(t){e&&e(t)})},function(t){e&&e(t===c.PATH_ERROR?c.MAP_ID_URL_ERROR:t)},function(t){e&&e(t)})},function(t){e&&e(t)})},function(t){e&&e(t)})},xi:function(n,r,e){var s=this;un.yi(n,function(){s.mi(n,".scene",function(t){new h({method:"GET",responseType:"arraybuffer",url:t}).Qt(function(t){var t=new Uint8Array(t),i=s.ci.ii(t),t=[];i.keys&&0!==i.keys.length?t.push.apply(t,hn(i.keys)):t.push(i.key),n.isPreview?r&&r(i):un.vi(n,t,function(){r&&r(i)},function(t){e&&e(t)})},function(t){e&&e(t)},function(t){e&&e(t)})},function(t){e&&e(t)})},function(t){e&&e(t)})},gi:function(t,i,n,r){var e=this;this.mi(t,".floor."+i+".geo",function(t){new h({method:"GET",responseType:"arraybuffer",url:t}).Qt(function(t){t=new Uint8Array(t),t=e.ci.ri(t);n&&n(t)},function(t){r&&r(t)},function(t){r&&r(t)})},function(t){r&&r(t)})},Oi:function(t,i,n,r){var e=this;this.mi(t,".floor."+i+".biz",function(t){new h({method:"GET",responseType:"arraybuffer",url:t}).Qt(function(t){t=new Uint8Array(t),t=e.ci.si(t);n&&n(t)},function(t){r&&r(t)},function(t){r&&r(t)})},function(t){r&&r(t)})},ji:function(t,i,n,r){var e=this;this.mi(t,".floor."+i+".navi",function(t){new h({method:"GET",responseType:"arraybuffer",url:t}).Qt(function(t){t=new Uint8Array(t),t=e.ci.ui(t);n&&n(t)},function(t){r&&r(t)})},function(t){r&&r(t)},function(t){r&&r(t)})},Ei:function(t,i,n,r){var e=this;this.mi(t,".floor."+i+".drive.navi",function(t){new h({method:"GET",responseType:"arraybuffer",url:t}).Qt(function(t){t=new Uint8Array(t),t=e.ci.ui(t);n&&n(t)},function(t){r&&r(t)})},function(t){r&&r(t)},function(t){r&&r(t)})},Ti:function(t,i,n,r){var e=this;this.mi(t,".floor."+i+".accessible.navi",function(t){new h({method:"GET",responseType:"arraybuffer",url:t}).Qt(function(t){t=new Uint8Array(t),t=e.ci.ui(t);n&&n(t)},function(t){r&&r(t)})},function(t){r&&r(t)},function(t){r&&r(t)})}}),n);function vn(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yn(t,i,n){return i&&vn(t.prototype,i),n&&vn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}n=yn(function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function")});Object.assign(n.prototype,{Mi:function(t,i){for(var n=[],r=0,e=0;e<t.length;e++){var s=t[e].idxs;if("number"==typeof(s=s||t[e]))for(;r<s;)n.push({x:i[r],y:i[r+1]}),r+=2;else for(var o=0;o<s.length;o++)for(var u=s[o];r<u;)n.push({x:i[r],y:i[r+1]}),r+=2}return n},ki:function(t,i){for(var n=[],r=0,e=0;e<t.length;e++){var s=t[e].idxs;if("number"==typeof(s=s||t[e])){for(var o=[];r<s;)o.push({x:i[r],y:i[r+1]}),r+=2;n.push(o)}else for(var u=0;u<s.length;u++){for(var h=s[u],a=[];r<h;)a.push({x:i[r],y:i[r+1]}),r+=2;n.push(a)}}return n},Ri:function(t,i){for(var n=[],r=[],e=0,s=0;s<t.length;s++){var o=t[s].idxs;if("number"==typeof(o=o||t[s]))for(;e<o;)n.push({x:i[e],y:i[e+1]}),e+=2;else for(var u=0;u<o.length;u++)if(0===u)for(var h=o[u];e<h;)n.push({x:i[e],y:i[e+1]}),e+=2;else{for(var a=[],f=o[u];e<f;)a.push({x:i[e],y:i[e+1]}),e+=2;r.push(a)}}var c=[];return c.push(n),c.push.apply(c,r),c},Ai:function(t){for(var i=[],n=t.length,r=0;r<n;r++){for(var e=t[r],s={x:this.Si(e.x),y:this.Si(e.y)},o=i.length,u=!1,h=0;h<o;h++){var a=i[h];if(a.x==s.x&&a.y==s.y){u=!0;break}}u||i.push(s)}return i},Si:function(t){return+t.toFixed(2)}});var dn=new n;function bn(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pn(t,i,n){return i&&bn(t.prototype,i),n&&bn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var O={G1:"MULTIPOLYGON(((",G2:"POINT(",G3:"MULTILINESTRING(("},n=(O.GLEN1="MULTIPOLYGON(((".length,O.GLEN2="POINT(".length,O.GLEN3="MULTILINESTRING((".length,pn(function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function")}));Object.assign(n.prototype,{Mi:function(t){var i=[];if(0!=t.indexOf(O.G2))return[];t=t.substring(O.GLEN2,t.length-1).split(" ");return i.push({x:parseFloat(t[0]),y:parseFloat(t[1])}),i},ki:function(t){if(0!=t.indexOf(O.G3))return[];for(var i=t.substring(O.GLEN3,t.length-2).split(","),n=[],r=0;r<i.length;r++){var e=i[r].split(" ");n.push({x:parseFloat(e[0]),y:parseFloat(e[1])})}return[n]},Ri:function(t){var i=[],n=[];if(0!=t.indexOf(O.G1))return[];for(var r=t.substring(O.GLEN1,t.length-3).split(/\),\(/),e=0;e<r.length;e++){var s=r[e].split(/,/);if(0==e)for(var o=0;o<s.length;o++){var u=s[o].split(" ");i.push({x:parseFloat(u[0]),y:parseFloat(u[1])})}else{for(var h=[],a=0;a<s.length;a++){var f=s[a].split(" ");h.push({x:parseFloat(f[0]),y:parseFloat(f[1])})}n.push(h)}}t=[];return t.push(i),t.push.apply(t,n),t},Ai:function(t){for(var i=[],n=t.length,r=0;r<n;r++){for(var e=t[r],s={x:this.Si(e.x),y:this.Si(e.y)},o=i.length,u=!1,h=0;h<o;h++){var a=i[h];if(a.x==s.x&&a.y==s.y){u=!0;break}}u||i.push(s)}return i},Si:function(t){return+t.toFixed(2)}});var wn=new n,n={STOP:0,PASS:1,PUSH:2},mn=(Object.freeze(n),n);function _n(t,i){var n,r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,i){if(t){if("string"==typeof t)return xn(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xn(t,i):void 0}}(t))||i&&t&&"number"==typeof t.length)return r&&(t=r),n=0,{s:i=function(){},n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e,s=!0,o=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return s=t.done,t},e:function(t){o=!0,e=t},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw e}}}}function xn(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,r=new Array(i);n<i;n++)r[n]=t[n];return r}function gn(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var n=function(){function i(t){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.zt=_.GROUP,this.Ni=new Map,this.Ii=-1,this.Li=null,this.Ut=null,Object.assign(this,t)}var t,n,r;return t=i,(n=[{key:"getType",value:function(){return this.zt}},{key:"getCoordinates",value:function(){return this.Li}},{key:"getBound",value:function(){return this.Ut||this.Di(),this.Ut}},{key:"getChildren",value:function(){return this.Ni}}])&&gn(t.prototype,n),r&&gn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(),On=(Object.assign(n.prototype,{wi:function(){var t,i=_n(this.Ni.values());try{for(i.s();!(t=i.n()).done;){var n=t.value;n.wi&&n.wi()}}catch(t){i.e(t)}finally{i.f()}this.Ni.clear()},Fi:function(i){var t=i.Pi(this);t==mn.PASS?this.Ni.forEach(function(t){t.Fi(i)}):t==mn.PUSH&&i.Ci.push(this)},Di:function(){var i=this;this.Ut=new u,0!=this.Ni.size&&this.Ni.forEach(function(t){i.Ut.It(t.getBound())})}}),n);function jn(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var n=function(){function i(t){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.Ii=t.eid,this.zt=_.POINT,this.Li=null,this.Ut=null,Object.assign(this,t)}var t,n,r;return t=i,(n=[{key:"getType",value:function(){return this.zt}},{key:"getCoordinates",value:function(){return this.Li}},{key:"getBound",value:function(){return this.Ut||this.Di(),this.Ut}}])&&jn(t.prototype,n),r&&jn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(),En=(Object.assign(n.prototype,{Di:function(){this.Ut=new u,this.Li&&this.Ut.Lt(this.Li)},Fi:function(t){t.Pi(this)==mn.PUSH&&t.Ci.push(this)}}),n);function Tn(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var n=function(){function i(t){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.Ii=t.eid,this.zt=_.POLYGON,this.Ft=null,this.Li=null,this.Ut=null,Object.assign(this,t)}var t,n,r;return t=i,(n=[{key:"getType",value:function(){return this.zt}},{key:"getCenter",value:function(){return this.Ft}},{key:"getCoordinates",value:function(){return this.Li}},{key:"getBound",value:function(){return this.Ut||this.Di(),this.Ut}}])&&Tn(t.prototype,n),r&&Tn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(),Mn=(Object.assign(n.prototype,{Di:function(){var i=this;this.Ut=new u,this.Li&&this.Li.forEach(function(t){i.Ut.Lt(t)})},Fi:function(t){t.Pi(this)==mn.PUSH&&t.Ci.push(this)}}),n),kn=["layerGroups"],Rn=["layers"];function An(t,i){if(null==t)return{};var n,r=function(t,i){if(null==t)return{};var n,r,e={},s=Object.keys(t);for(r=0;r<s.length;r++)n=s[r],0<=i.indexOf(n)||(e[n]=t[n]);return e}(t,i);if(Object.getOwnPropertySymbols)for(var e=Object.getOwnPropertySymbols(t),s=0;s<e.length;s++)n=e[s],0<=i.indexOf(n)||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n]);return r}function Sn(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Nn(t,i,n){return i&&Sn(t.prototype,i),n&&Sn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var n=Nn(function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.Ui=[1,2,3,4],this.Bi=[6,7,9],this.Zi=[31,32],this.Gi=new Map,this.Gi.set(31,_.EXTENTGROUP),this.Gi.set(32,_.MODELGROUP),this.Gi.set(6,_.FACILITYGROUP),this.Gi.set(7,_.LABELGROUP),this.Gi.set(9,_.EXTERNALMODELGROUP),this.Wi=new Map,this.Wi.set(31,["extentLayer",null]),this.Wi.set(32,["modelLayer","labelLayer"]),this.Wi.set(6,["poiLayer",null]),this.Wi.set(7,["labelLayer",null]),this.Wi.set(9,["externalModelLayer",null]),this.ci=new Ui}),In=(Object.assign(n.prototype,{Vi:function(t){if(!t)return null;var i=t.scene;return this.Yi(i,t)},Yi:function(n,r){var e=this,t=n.layerGroups,i=An(n,kn),s=new On(i);return t.forEach(function(t){var i=e.zi(t,r,n.fileVer);s.Ni.set(t.gid,i)}),s},zi:function(t,i,n){var r=this,e=t.layers,s=An(t,Rn),o=new On(s),u=i&&i.floors?i.floors.get(t.gid).geo[0]:null,h=i&&i.floors?i.floors.get(t.gid).biz[0]:null;return e.forEach(function(t){6==t.ltype&&-1!=t.lname.indexOf("storelabel")&&(t.ltype=7);var i=r.Xi(t,u,h,n);null!=i&&o.Ni.set(r.Gi.get(t.ltype),i)}),this.qi(o),o},qi:function(t){var i=Array.from(t.Ni);i.sort(function(t,i){return t[0]-i[0]}),t.Ni=new Map(i)},Xi:function(t,i,n,r){if(-1!=this.Ui.indexOf(t.ltype))return null;if(!this.Wi.get(t.ltype))return null;var e=new On(t);return this.Hi(e,i,n,r),e&&(e.zt=this.Gi.get(t.ltype)),e},Hi:function(t,i,n,r){if(t){var e=this.Wi.get(t.ltype);if(e){var s=i?i[e[0]]:[],o=n?n[e[0]]:[];switch(t.ltype){case 6:this.Qi(t,s,o,r,_.FACILITY);break;case 7:this.Qi(t,s,o,r,_.LABEL);break;case 9:this.Qi(t,s,o,r,_.EXTERNALMODEL);break;case 31:this.$i(t,s,o,r,_.EXTENT,null);break;case 32:this.$i(t,s,o,r,_.MODEL,i?i[e[1]]:null)}}}},Qi:function(t,i,n,r,e){for(var s=0;s<i.length;s++){var o=this.Ji(i[s],n[s],r);o.zt=e,t.Ni.set(i[s].eid,o)}},Ji:function(t,i,n){i=Object.assign({},i,{area:t.area,eid:t.eid,height:t.height}),i=new En(i);return t.coordinates?i.Li=t.coordinates:(i.Li=1==n?wn.Mi(t.geo):dn.Mi(t.idxs,t.pts),t.coordinates=i.Li),i},$i:function(t,i,n,r,e,s){for(var o=0;o<i.length;o++){var u=this.Ki(i[o],n[o],r,s?s[o]:null);u.zt=e,t.Ni.set(i[o].eid,u)}},Ki:function(t,i,n,r){i=Object.assign({},i,{area:t.area,eid:t.eid,height:t.height}),i=new Mn(i);return i.Li=1===n?wn.Ri(t.geo):dn.Ri(t.idxs,t.pts),r&&(r.coordinates||(r.coordinates=1==n?wn.Mi(r.geo):dn.Mi(r.idxs,r.pts)),i.Ft=r.coordinates[0]),i}}),n),Ln={NONE_RODE_NETWORK:1,WALK_RODE_NETWORK:2,DRIVE_RODE_NETWORK:4,ACCESSIBLE_RODE_NETWORK:8};function Dn(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}for(var n=function(){function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.tn=new Map,this.in=new Map,this.Ht=new Map,this.nn=new Map,this.rn=new Map,this.sn=new Map,this.un=[2,3],this.hn=!1,this.ci=new Ui,this.an=new In,this.cn=new ln}var i,n,r;return i=t,(n=[{key:"load",value:function(t,i){this.ln(t,i)}},{key:"loadWhole",value:function(t,i){this.vn(t,i)}},{key:"getDecode",value:function(t){t=void 0!==t.buildingID?t.buildingID:t.mapID;return this.yn({buildingID:t})}},{key:"getData",value:function(t){t=void 0!==t.buildingID?t.buildingID:t.mapID;return this.tn.get(t)}},{key:"setCache",value:function(t){this.tn=t[0],this.in=t[1]}},{key:"getCache",value:function(){return[this.tn,this.in]}}])&&Dn(i.prototype,n),r&&Dn(i,r),Object.defineProperty(i,"prototype",{writable:!1}),t}(),Fn=(Object.assign(n.prototype,{wi:function(){this.tn.clear(),this.tn=null,this.in.clear(),this.in=null,this.Ht.clear(),this.Ht=null,this.nn.clear(),this.nn=null,this.rn.clear(),this.rn=null,this.sn.clear(),this.sn=null},dn:function(t){this.nn.set(t.buildingID,null),this.rn.set(t.buildingID,null),this.sn.set(t.buildingID+t.uuid,0)},ln:function(u,h){var a=this;this.dn(u),this.xi(u,function(t,i){h&&h(t,i);for(var n=a.bn(u),r=void 0!==u.level?u.level:parseInt(n.defGid),e=(a.pn(u,r,h),u.visibleLevels||n.levels),s=0;s<e.length;s++)e[s]!==r&&a.pn(u,e[s],h);if(u.preLoad)for(var o=0;o<n.levels.length;o++)n.levels[o]!==r&&-1===e.indexOf(n.levels[o])&&a.pn(u,n.levels[o],h)},function(t,i){h&&h(t,i)})},xi:function(i,n,r){var e=this,t=this.bn(i);t?(n&&n("scene",t),i.justDecode||(t=this.tn.get(i.buildingID),n&&n("building",t))):this.cn.xi(i,function(t){e.in.set(i.buildingID,{scene:t}),n&&n("scene",t),i.justDecode||(t=e.an.Yi(t),e.tn.set(i.buildingID,t),n&&n("building",t))},function(t){r&&r("error",t===c.PATH_ERROR?c.MAP_ID_URL_ERROR:t)})},pn:function(t,i,n,r){var e=this.nn.get(t.buildingID);e||this.nn.set(t.buildingID,e=[]),r?e.unshift(i):e.push(i),this.hn&&1!==e.length||this.wn(t,n)},wn:function(r,e){var s=this,o=this.bn(r);if(o){var u=this.nn.get(r.buildingID),t=this.rn.get(r.buildingID);if(u&&0!==u.length){t||this.rn.set(r.buildingID,t=[]);var h=u[0];if(-1!==t.indexOf(h))return u.splice(u.indexOf(h),1),void this.wn(r,e);t.push(h),this.mn(r,h,function(t,i){var n=s.sn.get(r.buildingID+r.uuid);"layerGroup"===t&&(e&&e(t,i),s.sn.set(r.buildingID+r.uuid,++n),n===o.layerGroups.length&&e&&e("decode",s.yn(r)),u.splice(u.indexOf(h),1),s.wn(r,e)),"layer"===t&&e&&e(t,i),"floor"===t&&(e&&e(t,i),n===o.layerGroups.length&&e&&e("complete",s._n(r)))},function(t,i){e&&e(t,i)})}}},mn:function(e,s,o,i){function n(i){var n,r,t;a===++f&&(n=c.get("geo"),r=c.get("biz"),l&&l.merge(s,n,r,u.fileVer),o&&o("layerGroup",c),e.justDecode||((t=i.xn(e,s)).Ni.forEach(function(t){i.an.Hi(t,n,r,u.fileVer),o&&o("layer",t)}),o&&o("floor",t)))}var r=this,u=this.bn(e),t=this.gn(u,s),h=t.gname,t=t.naviType||0,a=this.un[0],f=0,c=new Map,l=e.merge;e.loadNavi&&((0!=(t&Ln.WALK_RODE_NETWORK)||u.fileVer<3)&&(a++,this.ji(e,s,h,function(t,i){c.set(t,i),o&&o(t,i),n(r)},function(t){i&&i(t)})),0!=(t&Ln.DRIVE_RODE_NETWORK)&&(a++,this.Ei(e,s,h,function(t,i){c.set(t,i),o&&o(t,i),n(r)},function(t){i&&i(t)})),0!=(t&Ln.ACCESSIBLE_RODE_NETWORK)&&(a++,this.Ti(e,s,h,function(t,i){c.set(t,i),o&&o(t,i),n(r)},function(t){i&&i(t)}))),this.gi(e,s,h,function(t,i){c.set(t,i),o&&o(t,i),n(r)},function(t){i&&i(t)}),this.Oi(e,s,h,function(t,i){c.set(t,i),o&&o(t,i),n(r)},function(t){i&&i(t)})},gi:function(i,n,t,r,e){var s=this,o=this.On(i,n,"geo");o?r&&r("geo",o):this.cn.gi(i,t,function(t){s.jn(i,n,"geo",t),r&&r("geo",t)},function(t){e&&e("error",t)})},Oi:function(i,n,t,r,e){var s=this,o=this.On(i,n,"biz");o?r&&r("biz",o):this.cn.Oi(i,t,function(t){s.jn(i,n,"biz",t),r&&r("biz",t)},function(t){e&&e("error",t)})},ji:function(i,n,t,r,e){var s=this,o=this.On(i,n,"navi");o?r&&r("navi",o):this.cn.ji(i,t,function(t){s.jn(i,n,"navi",t),r&&r("navi",t)},function(t){e&&e("error",t)})},Ei:function(i,n,t,r,e){var s=this,o=this.On(i,n,"drive_navi");o?r&&r("drive_navi",o):this.cn.Ei(i,t,function(t){s.jn(i,n,"drive_navi",t),r&&r("drive_navi",t)},function(t){e&&e("error",t)})},Ti:function(i,n,t,r,e){var s=this,o=this.On(i,n,"accessible_navi");o?r&&r("drive_navi",o):this.cn.Ti(i,t,function(t){s.jn(i,n,"accessible_navi",t),r&&r("accessible_navi",t)},function(t){e&&e("error",t)})},vn:function(t,n){this._i(t,function(t,i){n&&n(t,i)},function(t,i){n&&n(t,i)})},_i:function(i,n,r){var e=this,s=this.yn(i);s?n&&n("decode",s):this.cn._i(i,function(t){e.En(i,t),s=e.yn(i),n&&n("decode",s),i.justDecode||(t=e.an.Vi(s),e.tn.set(i.buildingID,t),n&&n("complete",t))},function(t){r&&r("error",t)})},_n:function(t){if(this.tn)return t=this.tn.get(t.buildingID),t||null},xn:function(t,i){t=this.tn.get(t.buildingID);return t?t.Ni.get(i):null},En:function(t,i){var n={scene:null,floors:new Map},r=this.ci.ti(i);n.scene=r;for(var e=0;e<r.layerGroups.length;e++){var s=r.layerGroups[e],o=this.ci.ni(i,s.gid),u=this.ci.ei(i,s.gid),h=this.ci.oi(i,s.gid),a=this.ci.ai(i,s.gid),f=this.ci.fi(i,s.gid),c=(t.merge&&t.merge.merge(s.gid,o,u,r.fileVer),new Map);c.set("geo",o),c.set("biz",u),c.set("navi",h),c.set("drive_navi",a),c.set("accessible_navi",f),n.floors.set(s.gid,c)}this.in.set(t.buildingID,n)},yn:function(t){var i=this.in.get(t.buildingID);if(!i)return null;for(var n=i.scene,r=new Map,i={scene:n,floors:r},e=0;e<n.layerGroups.length;e++){var s=n.layerGroups[e],o=s.gid,u={gid:o,gname:s.gname,level:o,geo:[],biz:[],navi:[],naviDrive:[],naviAccessible:[]},h=(u.geo.push(this.On(t,o,"geo")),u.biz.push(this.On(t,o,"biz")),this.On(t,o,"navi")),h=(h&&u.navi.push(h),this.On(t,o,"drive_navi")),h=(h&&u.naviDrive.push(h),this.On(t,o,"accessible_navi"));h&&u.naviAccessible.push(h),r.set(s.gid,u)}return i},bn:function(t){t=this.in.get(t.buildingID);return t?t.scene:null},jn:function(t,i,n,r){var e,t=this.in.get(t.buildingID);t&&((e=t.floors)||(e=new Map,t.floors=e),(t=e.get(i))||(t=new Map,e.set(i,t)),t.set(n,r))},On:function(t,i,n){t=this.in.get(t.buildingID);if(!t)return null;t=t.floors;if(!t)return null;t=t.get(i);return t?t.get(n):null},gn:function(t,i){if(null==t)return null;for(var n=t.layerGroups,r=0;r<n.length;r++)if(n[r].gid==i)return n[r];return null}}),n),e=[],Pn=0;Pn<256;Pn++)e[Pn]=(Pn<16?"0":"")+Pn.toString(16);var Cn={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var t=4294967295*Math.random()|0,i=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(e[255&t]+e[t>>8&255]+e[t>>16&255]+e[t>>24&255]+"-"+e[255&i]+e[i>>8&255]+"-"+e[i>>16&15|64]+e[i>>24&255]+"-"+e[63&n|128]+e[n>>8&255]+"-"+e[n>>16&255]+e[n>>24&255]+e[255&r]+e[r>>8&255]+e[r>>16&255]+e[r>>24&255]).toUpperCase()},clamp:function(t,i,n){return Math.max(i,Math.min(n,t))},euclideanModulo:function(t,i){return(t%i+i)%i},mapLinear:function(t,i,n,r,e){return r+(t-i)*(e-r)/(n-i)},lerp:function(t,i,n){return(1-n)*t+n*i},smoothstep:function(t,i,n){return t<=i?0:n<=t?1:(t=(t-i)/(n-i))*t*(3-2*t)},smootherstep:function(t,i,n){return t<=i?0:n<=t?1:(t=(t-i)/(n-i))*t*t*(t*(6*t-15)+10)},randInt:function(t,i){return t+Math.floor(Math.random()*(i-t+1))},randFloat:function(t,i){return t+Math.random()*(i-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(t){return t*Cn.DEG2RAD},radToDeg:function(t){return t*Cn.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))},setQuaternionFromProperEuler:function(t,i,n,r,e){var s=Math.cos,o=Math.sin,u=s(n/2),n=o(n/2),h=s((i+r)/2),a=o((i+r)/2),f=s((i-r)/2),c=o((i-r)/2),s=s((r-i)/2),o=o((r-i)/2);"XYX"===e?t.set(u*a,n*f,n*c,u*h):"YZY"===e?t.set(n*c,u*a,n*f,u*h):"ZXZ"===e?t.set(n*f,n*c,u*a,u*h):"XZX"===e?t.set(u*a,n*o,n*s,u*h):"YXY"===e?t.set(n*s,u*a,n*o,u*h):"ZYZ"===e?t.set(n*o,n*s,u*a,u*h):console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order.")}},Un={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},r={h:0,s:0,l:0},Bn={h:0,s:0,l:0};function Zn(t,i,n){return void 0===i&&void 0===n?this.set(t):this.setRGB(t,i,n)}function Gn(t,i,n){return n<0&&(n+=1),1<n&&--n,n<1/6?t+6*(i-t)*n:n<.5?i:n<2/3?t+6*(i-t)*(2/3-n):t}function Wn(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}function Vn(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}function Yn(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.assign(Zn.prototype,{isColor:!0,r:1,g:1,b:1,set:function(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this},setScalar:function(t){return this.r=t,this.g=t,this.b=t,this},setHex:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this},setRGB:function(t,i,n){return this.r=t,this.g=i,this.b=n,this},setHSL:function(t,i,n){return t=Cn.euclideanModulo(t,1),i=Cn.clamp(i,0,1),n=Cn.clamp(n,0,1),0===i?this.r=this.g=this.b=n:(this.r=Gn(i=2*n-(n=n<=.5?n*(1+i):n+i-n*i),n,t+1/3),this.g=Gn(i,n,t),this.b=Gn(i,n,t-1/3)),this},setStyle:function(i){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+i+" will be ignored.")}if(h=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(i)){var n,r,e,s,o=h[1],u=h[2];switch(o){case"rgb":case"rgba":if(n=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(u))return this.r=Math.min(255,parseInt(n[1],10))/255,this.g=Math.min(255,parseInt(n[2],10))/255,this.b=Math.min(255,parseInt(n[3],10))/255,t(n[5]),this;if(n=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(u))return this.r=Math.min(100,parseInt(n[1],10))/100,this.g=Math.min(100,parseInt(n[2],10))/100,this.b=Math.min(100,parseInt(n[3],10))/100,t(n[5]),this;break;case"hsl":case"hsla":if(n=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(u))return r=parseFloat(n[1])/360,e=parseInt(n[2],10)/100,s=parseInt(n[3],10)/100,t(n[5]),this.setHSL(r,e,s)}}else if(h=/^\#([A-Fa-f0-9]+)$/.exec(i)){var o=h[1],h=o.length;if(3===h)return this.r=parseInt(o.charAt(0)+o.charAt(0),16)/255,this.g=parseInt(o.charAt(1)+o.charAt(1),16)/255,this.b=parseInt(o.charAt(2)+o.charAt(2),16)/255,this;if(6===h)return this.r=parseInt(o.charAt(0)+o.charAt(1),16)/255,this.g=parseInt(o.charAt(2)+o.charAt(3),16)/255,this.b=parseInt(o.charAt(4)+o.charAt(5),16)/255,this}return i&&0<i.length?this.setColorName(i):this},setColorName:function(t){var i=Un[t];return void 0!==i?this.setHex(i):console.warn("THREE.Color: Unknown color "+t),this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},copyGammaToLinear:function(t,i){return void 0===i&&(i=2),this.r=Math.pow(t.r,i),this.g=Math.pow(t.g,i),this.b=Math.pow(t.b,i),this},copyLinearToGamma:function(t,i){i=0<(i=void 0===i?2:i)?1/i:1;return this.r=Math.pow(t.r,i),this.g=Math.pow(t.g,i),this.b=Math.pow(t.b,i),this},convertGammaToLinear:function(t){return this.copyGammaToLinear(this,t),this},convertLinearToGamma:function(t){return this.copyLinearToGamma(this,t),this},copySRGBToLinear:function(t){return this.r=Wn(t.r),this.g=Wn(t.g),this.b=Wn(t.b),this},copyLinearToSRGB:function(t){return this.r=Vn(t.r),this.g=Vn(t.g),this.b=Vn(t.b),this},convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(t){void 0===t&&(console.warn("THREE.Color: .getHSL() target is now required"),t={h:0,s:0,l:0});var i,n=this.r,r=this.g,e=this.b,s=Math.max(n,r,e),o=Math.min(n,r,e),u=(o+s)/2;if(o===s)a=i=0;else{var h=s-o,a=u<=.5?h/(s+o):h/(2-s-o);switch(s){case n:i=(r-e)/h+(r<e?6:0);break;case r:i=(e-n)/h+2;break;case e:i=(n-r)/h+4}i/=6}return t.h=i,t.s=a,t.l=u,t},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(t,i,n){return this.getHSL(r),r.h+=t,r.s+=i,r.l+=n,this.setHSL(r.h,r.s,r.l),this},add:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this},addColors:function(t,i){return this.r=t.r+i.r,this.g=t.g+i.g,this.b=t.b+i.b,this},addScalar:function(t){return this.r+=t,this.g+=t,this.b+=t,this},sub:function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this},multiply:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this},multiplyScalar:function(t){return this.r*=t,this.g*=t,this.b*=t,this},lerp:function(t,i){return this.r+=(t.r-this.r)*i,this.g+=(t.g-this.g)*i,this.b+=(t.b-this.b)*i,this},lerpHSL:function(t,i){this.getHSL(r),t.getHSL(Bn);var t=Cn.lerp(r.h,Bn.h,i),n=Cn.lerp(r.s,Bn.s,i),i=Cn.lerp(r.l,Bn.l,i);return this.setHSL(t,n,i),this},equals:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b},fromArray:function(t,i){return this.r=t[i=void 0===i?0:i],this.g=t[i+1],this.b=t[i+2],this},toArray:function(t,i){return(t=void 0===t?[]:t)[i=void 0===i?0:i]=this.r,t[i+1]=this.g,t[i+2]=this.b,t}}),Zn.NAMES=Un;var zn=function(){function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function")}var i,n,r;return i=t,r=[{key:"round",value:function(t){return 0<t.toFixed(2)?Math.ceil(t.toFixed(2)):Math.floor(t.toFixed(2))}},{key:"generateUUID",value:function(){for(var t=[],i=0;i<256;i++)t[i]=(i<16?"0":"")+i.toString(16);var n=4294967295*Math.random()|0,r=4294967295*Math.random()|0,e=4294967295*Math.random()|0,s=4294967295*Math.random()|0,n=t[255&n]+t[n>>8&255]+t[n>>16&255]+t[n>>24&255]+"-"+t[255&r]+t[r>>8&255]+"-"+t[r>>16&15|64]+t[r>>24&255]+"-"+t[63&e|128]+t[e>>8&255]+"-"+t[e>>16&255]+t[e>>24&255]+t[255&s]+t[s>>8&255]+t[s>>16&255]+t[s>>24&255];return t.length=0,n.toUpperCase()}},{key:"findNearNthPowerOfTwo",value:function(t){t-=1;return(t=(t=(t=(t=(t|=t>>1)|t>>2)|t>>4)|t>>8)|t>>16)<0?1:1+t}},{key:"toRgba",value:function(t){return void 0===t?t:"number"!=typeof t?3<=(i=t.split(",")).length?"rgba("+parseInt(i[0])+","+parseInt(i[1])+","+parseInt(i[2])+",1)":t:"rgba("+parseInt(255*new Zn(t).r)+","+parseInt(255*new Zn(t).g)+","+parseInt(255*new Zn(t).b)+",1)";var i}},{key:"toColor",value:function(t){if("number"==typeof t)return t;var i=t.split(",");return 3<=i.length?parseInt(i[0])<<16|parseInt(i[1])<<8|parseInt(i[2]):(console.error("color format error",t),0)}}],(n=null)&&Yn(i.prototype,n),r&&Yn(i,r),Object.defineProperty(i,"prototype",{writable:!1}),t}();function Xn(t,i){var n,r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,i){if(t){if("string"==typeof t)return qn(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qn(t,i):void 0}}(t))||i&&t&&"number"==typeof t.length)return r&&(t=r),n=0,{s:i=function(){},n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e,s=!0,o=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return s=t.done,t},e:function(t){o=!0,e=t},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw e}}}}function qn(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,r=new Array(i);n<i;n++)r[n]=t[n];return r}function Hn(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n=function(){function r(t,i,n){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this.Ht=Object.assign({tile:!0,isPreview:!1},t),this.Tn=!!t.map,this.Mn=t.map?t.map.getDataManager():new Fn,this.kn=i,this.Rn=n,this.An()}var t,i,n;return t=r,(i=[{key:"dispose",value:function(){this.Ht=null,this.Tn||this.Mn.wi(),this.Mn=null,this.kn=null,this.Rn=null}},{key:"query",value:function(t,i,n){var r,e=this.Mn.getData(this.Ht),s=(e||n&&n(),this.Sn(t)),o=this.Nn(t),u=(o===_.NONE&&n&&n(),t.qt),h=u.length,a=[],f=Xn(e.getChildren());try{for(f.s();!(r=f.n()).done;){var c=r.value,l=c[0];if(-1!==s.indexOf(l)){var v,y=Xn(c[1].getChildren());try{for(y.s();!(v=y.n()).done;){var d=v.value[1];if(0!=(d.getType()&o)){var b,p=Xn(d.getChildren());try{for(p.s();!(b=p.n()).done;){var w=b.value[1],m={vt:void 0};this.In(u,h,w,m)&&a.push(this.Ln(l,w,m))}}catch(t){p.e(t)}finally{p.f()}}}}catch(t){y.e(t)}finally{y.f()}}}}catch(t){f.e(t)}finally{f.f()}this.Dn(a),i&&i(a)}}])&&Hn(t.prototype,i),n&&Hn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),r}(),Object.assign(n.prototype,{An:function(){var t,n=this,i=(this.Tn&&(t=this.Ht.map.getMapOptions(),this.Ht.mapID=t.mapID,this.Ht.appName=t.appName,this.Ht.key=t.key,this.Ht.license=t.license,this.Ht.mapURL=t.mapURL,this.Ht.mapURLAbsolute=t.mapURLAbsolute,this.Ht.isPreview="undefined"!=typeof KjWzhWlSj&&!!KjWzhWlSj.ProtoDef),{buildingID:this.Ht.mapID,appName:this.Ht.appName,key:this.Ht.key,license:this.Ht.license,mapURL:this.Ht.mapURL,mapURLAbsolute:this.Ht.mapURLAbsolute,merge:this.Ht.merge,preLoad:!0,isPreview:"undefined"!=typeof KjWzhWlSj&&!!KjWzhWlSj.ProtoDef,uuid:zn.generateUUID()});setTimeout(function(){n.Ht.tile?n.Mn.load(i,function(t,i){n.Fn(t,i)}):n.Mn.loadWhole(i,function(t,i){n.Fn(t,i)})},0)},Fn:function(t,i){"error"==t&&this.Rn&&this.Rn(i),"complete"==t&&this.kn&&this.kn()},Nn:function(t){var i=_.NONE;return 0!=(t.zt&_.MODEL)&&(i|=_.MODELGROUP),0!=(t.zt&_.LABEL)&&(i|=_.LABELGROUP),0!=(t.zt&_.FACILITY)&&(i|=_.FACILITYGROUP),0!=(t.zt&_.EXTERNALMODEL)&&(i|=_.EXTERNALMODELGROUP),i},Sn:function(t){if(Array.isArray(t.Yt))return t.Yt;t=this.Mn.getData(this.Ht);if(!t)return[];var i,n=[],r=Xn(t.getChildren());try{for(r.s();!(i=r.n()).done;){var e=i.value;n.push(e[1].gid)}}catch(t){r.e(t)}finally{r.f()}return n},In:function(t,i,n,r){if(0==i)return!0;for(var e=0;e<i;e++){if(!t[e].H(n))return!1;t[e].Q(n,r)}return!0},Ln:function(t,i,n){return{level:t,type:i.getType(),FID:i.fid,name:i.name,ename:i.ename,eid:i.eid,typeID:i.type,center:void 0!==i.getCenter?Object.assign({z:i.height},i.getCenter()):Object.assign({z:i.height},i.getCoordinates()[0]),distance:n.vt}},Dn:function(t){t.sort(function(t,i){return t.level==i.level&&t.type==i.type&&t.distance&&i.distance?t.distance-i.distance:0})}});function Qn(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}for(var a=function(){function e(t,i,n,r){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.Pn=t,this.Cn=i,this.Un=n||[],this.Bn=r||[]}var t,i,n;return t=e,(i=[{key:"level",get:function(){return this.Pn}},{key:"length",get:function(){return this.Cn}},{key:"pointList",get:function(){for(var t=[],i=0,n=this.Un.length;i<n;i++)t.push({x:this.Un[i].x,y:this.Un[i].y,level:this.Pn});return t}}])&&Qn(t.prototype,i),n&&Qn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),$n=(Object.assign(a.prototype,{wi:function(){this.Un=[],this.Bn=[]}}),a),f=[],Jn=0;Jn<256;Jn++)f[Jn]=(Jn<16?"0":"")+Jn.toString(16);var Kn=1234567,tr={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var t=4294967295*Math.random()|0,i=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(f[255&t]+f[t>>8&255]+f[t>>16&255]+f[t>>24&255]+"-"+f[255&i]+f[i>>8&255]+"-"+f[i>>16&15|64]+f[i>>24&255]+"-"+f[63&n|128]+f[n>>8&255]+"-"+f[n>>16&255]+f[n>>24&255]+f[255&r]+f[r>>8&255]+f[r>>16&255]+f[r>>24&255]).toUpperCase()},clamp:function(t,i,n){return Math.max(i,Math.min(n,t))},euclideanModulo:function(t,i){return(t%i+i)%i},mapLinear:function(t,i,n,r,e){return r+(t-i)*(e-r)/(n-i)},lerp:function(t,i,n){return(1-n)*t+n*i},smoothstep:function(t,i,n){return t<=i?0:n<=t?1:(t=(t-i)/(n-i))*t*(3-2*t)},smootherstep:function(t,i,n){return t<=i?0:n<=t?1:(t=(t-i)/(n-i))*t*t*(t*(6*t-15)+10)},randInt:function(t,i){return t+Math.floor(Math.random()*(i-t+1))},randFloat:function(t,i){return t+Math.random()*(i-t)},randFloatSpread:function(t){return t*(.5-Math.random())},seededRandom:function(t){return((Kn=16807*(Kn=void 0!==t?t%2147483647:Kn)%2147483647)-1)/2147483646},degToRad:function(t){return t*tr.DEG2RAD},radToDeg:function(t){return t*tr.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))},setQuaternionFromProperEuler:function(t,i,n,r,e){var s=Math.cos,o=Math.sin,u=s(n/2),h=o(n/2),a=s((i+r)/2),f=o((i+r)/2),c=s((i-r)/2),l=o((i-r)/2),v=s((r-i)/2),y=o((r-i)/2);switch(e){case"XYX":t.set(u*f,h*c,h*l,u*a);break;case"YZY":t.set(h*l,u*f,h*c,u*a);break;case"ZXZ":t.set(h*c,h*l,u*f,u*a);break;case"XZX":t.set(u*f,h*y,h*v,u*a);break;case"YXY":t.set(h*v,u*f,h*y,u*a);break;case"ZYZ":t.set(h*y,h*v,u*f,u*a);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+e)}}};function ir(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}a=function(){function o(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,e=this,s=o;if(!(e instanceof s))throw new TypeError("Cannot call a class as a function");Object.defineProperty(this,"isQuaternion",{value:!0}),this.Zn=t,this.Gn=i,this.Wn=n,this.Vn=r}var t,i,n;return t=o,n=[{key:"slerp",value:function(t,i,n,r){return n.copy(t).slerp(i,r)}},{key:"slerpFlat",value:function(t,i,n,r,e,s,o){var u,h,a,f=n[r+0],c=n[r+1],l=n[r+2],n=n[r+3],r=e[s+0],v=e[s+1],y=e[s+2],e=e[s+3];n===e&&f===r&&c===v&&l===y||(s=1-o,u=0<=(h=f*r+c*v+l*y+n*e)?1:-1,(a=1-h*h)>Number.EPSILON&&(a=Math.sqrt(a),h=Math.atan2(a,h*u),s=Math.sin(s*h)/a,o=Math.sin(o*h)/a),f=f*s+r*(h=o*u),c=c*s+v*h,l=l*s+y*h,n=n*s+e*h,s===1-o&&(f*=a=1/Math.sqrt(f*f+c*c+l*l+n*n),c*=a,l*=a,n*=a)),t[i]=f,t[i+1]=c,t[i+2]=l,t[i+3]=n}},{key:"multiplyQuaternionsFlat",value:function(t,i,n,r,e,s){var o=n[r],u=n[r+1],h=n[r+2],n=n[r+3],r=e[s],a=e[s+1],f=e[s+2],e=e[s+3];return t[i]=o*e+n*r+u*f-h*a,t[i+1]=u*e+n*a+h*r-o*f,t[i+2]=h*e+n*f+o*a-u*r,t[i+3]=n*e-o*r-u*a-h*f,t}}],(i=[{key:"x",get:function(){return this.Zn},set:function(t){this.Zn=t,this.Yn()}},{key:"y",get:function(){return this.Gn},set:function(t){this.Gn=t,this.Yn()}},{key:"z",get:function(){return this.Wn},set:function(t){this.Wn=t,this.Yn()}},{key:"w",get:function(){return this.Vn},set:function(t){this.Vn=t,this.Yn()}},{key:"set",value:function(t,i,n,r){return this.Zn=t,this.Gn=i,this.Wn=n,this.Vn=r,this.Yn(),this}},{key:"clone",value:function(){return new this.constructor(this.Zn,this.Gn,this.Wn,this.Vn)}},{key:"copy",value:function(t){return this.Zn=t.x,this.Gn=t.y,this.Wn=t.z,this.Vn=t.w,this.Yn(),this}},{key:"setFromEuler",value:function(t,i){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=t.Zn,r=t.Gn,e=t.Wn,s=t.zn,t=Math.cos,o=Math.sin,u=t(n/2),h=t(r/2),a=t(e/2),f=o(n/2),c=o(r/2),l=o(e/2);switch(s){case"XYZ":this.Zn=f*h*a+u*c*l,this.Gn=u*c*a-f*h*l,this.Wn=u*h*l+f*c*a,this.Vn=u*h*a-f*c*l;break;case"YXZ":this.Zn=f*h*a+u*c*l,this.Gn=u*c*a-f*h*l,this.Wn=u*h*l-f*c*a,this.Vn=u*h*a+f*c*l;break;case"ZXY":this.Zn=f*h*a-u*c*l,this.Gn=u*c*a+f*h*l,this.Wn=u*h*l+f*c*a,this.Vn=u*h*a-f*c*l;break;case"ZYX":this.Zn=f*h*a-u*c*l,this.Gn=u*c*a+f*h*l,this.Wn=u*h*l-f*c*a,this.Vn=u*h*a+f*c*l;break;case"YZX":this.Zn=f*h*a+u*c*l,this.Gn=u*c*a+f*h*l,this.Wn=u*h*l-f*c*a,this.Vn=u*h*a-f*c*l;break;case"XZY":this.Zn=f*h*a-u*c*l,this.Gn=u*c*a-f*h*l,this.Wn=u*h*l+f*c*a,this.Vn=u*h*a+f*c*l;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return!1!==i&&this.Yn(),this}},{key:"setFromAxisAngle",value:function(t,i){var i=i/2,n=Math.sin(i);return this.Zn=t.x*n,this.Gn=t.y*n,this.Wn=t.z*n,this.Vn=Math.cos(i),this.Yn(),this}},{key:"setFromRotationMatrix",value:function(t){var t=t.elements,i=t[0],n=t[4],r=t[8],e=t[1],s=t[5],o=t[9],u=t[2],h=t[6],t=t[10],a=i+s+t;return 0<a?(a=.5/Math.sqrt(a+1),this.Vn=.25/a,this.Zn=(h-o)*a,this.Gn=(r-u)*a,this.Wn=(e-n)*a):s<i&&t<i?(a=2*Math.sqrt(1+i-s-t),this.Vn=(h-o)/a,this.Zn=.25*a,this.Gn=(n+e)/a,this.Wn=(r+u)/a):t<s?(a=2*Math.sqrt(1+s-i-t),this.Vn=(r-u)/a,this.Zn=(n+e)/a,this.Gn=.25*a,this.Wn=(o+h)/a):(a=2*Math.sqrt(1+t-i-s),this.Vn=(e-n)/a,this.Zn=(r+u)/a,this.Gn=(o+h)/a,this.Wn=.25*a),this.Yn(),this}},{key:"setFromUnitVectors",value:function(t,i){var n=t.dot(i)+1;return n<1e-6?(n=0,Math.abs(t.x)>Math.abs(t.z)?(this.Zn=-t.y,this.Gn=t.x,this.Wn=0):(this.Zn=0,this.Gn=-t.z,this.Wn=t.y)):(this.Zn=t.y*i.z-t.z*i.y,this.Gn=t.z*i.x-t.x*i.z,this.Wn=t.x*i.y-t.y*i.x),this.Vn=n,this.normalize()}},{key:"angleTo",value:function(t){return 2*Math.acos(Math.abs(tr.clamp(this.dot(t),-1,1)))}},{key:"rotateTowards",value:function(t,i){var n=this.angleTo(t);if(0===n)return this;i=Math.min(1,i/n);return this.slerp(t,i),this}},{key:"identity",value:function(){return this.set(0,0,0,1)}},{key:"invert",value:function(){return this.conjugate()}},{key:"conjugate",value:function(){return this.Zn*=-1,this.Gn*=-1,this.Wn*=-1,this.Yn(),this}},{key:"dot",value:function(t){return this.Zn*t.Zn+this.Gn*t.Gn+this.Wn*t.Wn+this.Vn*t.Vn}},{key:"lengthSq",value:function(){return this.Zn*this.Zn+this.Gn*this.Gn+this.Wn*this.Wn+this.Vn*this.Vn}},{key:"length",value:function(){return Math.sqrt(this.Zn*this.Zn+this.Gn*this.Gn+this.Wn*this.Wn+this.Vn*this.Vn)}},{key:"normalize",value:function(){var t=this.length();return 0===t?(this.Zn=0,this.Gn=0,this.Wn=0,this.Vn=1):(this.Zn=this.Zn*(t=1/t),this.Gn=this.Gn*t,this.Wn=this.Wn*t,this.Vn=this.Vn*t),this.Yn(),this}},{key:"multiply",value:function(t,i){return void 0!==i?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,i)):this.multiplyQuaternions(this,t)}},{key:"premultiply",value:function(t){return this.multiplyQuaternions(t,this)}},{key:"multiplyQuaternions",value:function(t,i){var n=t.Zn,r=t.Gn,e=t.Wn,t=t.Vn,s=i.Zn,o=i.Gn,u=i.Wn,i=i.Vn;return this.Zn=n*i+t*s+r*u-e*o,this.Gn=r*i+t*o+e*s-n*u,this.Wn=e*i+t*u+n*o-r*s,this.Vn=t*i-n*s-r*o-e*u,this.Yn(),this}},{key:"slerp",value:function(t,i){if(0===i)return this;if(1===i)return this.copy(t);var n=this.Zn,r=this.Gn,e=this.Wn,s=this.Vn,o=s*t.Vn+n*t.Zn+r*t.Gn+e*t.Wn;if(o<0?(this.Vn=-t.Vn,this.Zn=-t.Zn,this.Gn=-t.Gn,this.Wn=-t.Wn,o=-o):this.copy(t),1<=o)return this.Vn=s,this.Zn=n,this.Gn=r,this.Wn=e,this;t=1-o*o;if(t<=Number.EPSILON)return this.Vn=(u=1-i)*s+i*this.Vn,this.Zn=u*n+i*this.Zn,this.Gn=u*r+i*this.Gn,this.Wn=u*e+i*this.Wn,this.normalize(),this.Yn(),this;var u=Math.sqrt(t),t=Math.atan2(u,o),o=Math.sin((1-i)*t)/u,i=Math.sin(i*t)/u;return this.Vn=s*o+this.Vn*i,this.Zn=n*o+this.Zn*i,this.Gn=r*o+this.Gn*i,this.Wn=e*o+this.Wn*i,this.Yn(),this}},{key:"equals",value:function(t){return t.Zn===this.Zn&&t.Gn===this.Gn&&t.Wn===this.Wn&&t.Vn===this.Vn}},{key:"fromArray",value:function(t){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this.Zn=t[i],this.Gn=t[i+1],this.Wn=t[i+2],this.Vn=t[i+3],this.Yn(),this}},{key:"toArray",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return t[i]=this.Zn,t[i+1]=this.Gn,t[i+2]=this.Wn,t[i+3]=this.Vn,t}},{key:"fromBufferAttribute",value:function(t,i){return this.Zn=t.getX(i),this.Gn=t.getY(i),this.Wn=t.getZ(i),this.Vn=t.getW(i),this}}])&&ir(t.prototype,i),n&&ir(t,n),Object.defineProperty(t,"prototype",{writable:!1}),o}();function nr(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.assign(a.prototype,{Xn:function(t){return this.Yn=t,this},Yn:function(){}});var rr=function(){function s(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=this,e=s;if(!(r instanceof e))throw new TypeError("Cannot call a class as a function");Object.defineProperty(this,"isVector3",{value:!0}),this.x=t,this.y=i,this.z=n}var t,i,n;return t=s,(i=[{key:"set",value:function(t,i,n){return void 0===n&&(n=this.z),this.x=t,this.y=i,this.z=n,this}},{key:"setScalar",value:function(t){return this.x=t,this.y=t,this.z=t,this}},{key:"setX",value:function(t){return this.x=t,this}},{key:"setY",value:function(t){return this.y=t,this}},{key:"setZ",value:function(t){return this.z=t,this}},{key:"setComponent",value:function(t,i){switch(t){case 0:this.x=i;break;case 1:this.y=i;break;case 2:this.z=i;break;default:throw new Error("index is out of range: "+t)}return this}},{key:"getComponent",value:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z)}},{key:"copy",value:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}},{key:"add",value:function(t,i){return void 0!==i?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,i)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)}},{key:"addScalar",value:function(t){return this.x+=t,this.y+=t,this.z+=t,this}},{key:"addVectors",value:function(t,i){return this.x=t.x+i.x,this.y=t.y+i.y,this.z=t.z+i.z,this}},{key:"addScaledVector",value:function(t,i){return this.x+=t.x*i,this.y+=t.y*i,this.z+=t.z*i,this}},{key:"sub",value:function(t,i){return void 0!==i?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,i)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)}},{key:"subScalar",value:function(t){return this.x-=t,this.y-=t,this.z-=t,this}},{key:"subVectors",value:function(t,i){return this.x=t.x-i.x,this.y=t.y-i.y,this.z=t.z-i.z,this}},{key:"multiply",value:function(t,i){return void 0!==i?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,i)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)}},{key:"multiplyScalar",value:function(t){return this.x*=t,this.y*=t,this.z*=t,this}},{key:"multiplyVectors",value:function(t,i){return this.x=t.x*i.x,this.y=t.y*i.y,this.z=t.z*i.z,this}},{key:"applyEuler",value:function(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(sr.setFromEuler(t))}},{key:"applyAxisAngle",value:function(t,i){return this.applyQuaternion(sr.setFromAxisAngle(t,i))}},{key:"applyMatrix3",value:function(t){var i=this.x,n=this.y,r=this.z,t=t.elements;return this.x=t[0]*i+t[3]*n+t[6]*r,this.y=t[1]*i+t[4]*n+t[7]*r,this.z=t[2]*i+t[5]*n+t[8]*r,this}},{key:"applyNormalMatrix",value:function(t){return this.applyMatrix3(t).normalize()}},{key:"applyMatrix4",value:function(t){var i=this.x,n=this.y,r=this.z,t=t.elements,e=1/(t[3]*i+t[7]*n+t[11]*r+t[15]);return this.x=(t[0]*i+t[4]*n+t[8]*r+t[12])*e,this.y=(t[1]*i+t[5]*n+t[9]*r+t[13])*e,this.z=(t[2]*i+t[6]*n+t[10]*r+t[14])*e,this}},{key:"applyQuaternion",value:function(t){var i=this.x,n=this.y,r=this.z,e=t.x,s=t.y,o=t.z,t=t.w,u=t*i+s*r-o*n,h=t*n+o*i-e*r,a=t*r+e*n-s*i,i=-e*i-s*n-o*r;return this.x=u*t+i*-e+h*-o-a*-s,this.y=h*t+i*-s+a*-e-u*-o,this.z=a*t+i*-o+u*-s-h*-e,this}},{key:"project",value:function(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}},{key:"unproject",value:function(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}},{key:"transformDirection",value:function(t){var i=this.x,n=this.y,r=this.z,t=t.elements;return this.x=t[0]*i+t[4]*n+t[8]*r,this.y=t[1]*i+t[5]*n+t[9]*r,this.z=t[2]*i+t[6]*n+t[10]*r,this.normalize()}},{key:"divide",value:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}},{key:"divideScalar",value:function(t){return this.multiplyScalar(1/t)}},{key:"min",value:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}},{key:"max",value:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}},{key:"clamp",value:function(t,i){return this.x=Math.max(t.x,Math.min(i.x,this.x)),this.y=Math.max(t.y,Math.min(i.y,this.y)),this.z=Math.max(t.z,Math.min(i.z,this.z)),this}},{key:"clampScalar",value:function(t,i){return this.x=Math.max(t,Math.min(i,this.x)),this.y=Math.max(t,Math.min(i,this.y)),this.z=Math.max(t,Math.min(i,this.z)),this}},{key:"clampLength",value:function(t,i){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(i,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y+this.z*t.z}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(t){return this.normalize().multiplyScalar(t)}},{key:"lerp",value:function(t,i){return this.x+=(t.x-this.x)*i,this.y+=(t.y-this.y)*i,this.z+=(t.z-this.z)*i,this}},{key:"lerpVectors",value:function(t,i,n){return this.x=t.x+(i.x-t.x)*n,this.y=t.y+(i.y-t.y)*n,this.z=t.z+(i.z-t.z)*n,this}},{key:"cross",value:function(t,i){return void 0!==i?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,i)):this.crossVectors(this,t)}},{key:"crossVectors",value:function(t,i){var n=t.x,r=t.y,t=t.z,e=i.x,s=i.y,i=i.z;return this.x=r*i-t*s,this.y=t*e-n*i,this.z=n*s-r*e,this}},{key:"projectOnVector",value:function(t){var i=t.lengthSq();if(0===i)return this.set(0,0,0);i=t.dot(this)/i;return this.copy(t).multiplyScalar(i)}},{key:"projectOnPlane",value:function(t){return er.copy(this).projectOnVector(t),this.sub(er)}},{key:"reflect",value:function(t){return this.sub(er.copy(t).multiplyScalar(2*this.dot(t)))}},{key:"angleTo",value:function(t){var i=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===i)return Math.PI/2;t=this.dot(t)/i;return Math.acos(tr.clamp(t,-1,1))}},{key:"distanceTo",value:function(t){return Math.sqrt(this.distanceToSquared(t))}},{key:"distanceToSquared",value:function(t){var i=this.x-t.x,n=this.y-t.y,t=this.z-t.z;return i*i+n*n+t*t}},{key:"manhattanDistanceTo",value:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}},{key:"setFromSpherical",value:function(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}},{key:"setFromSphericalCoords",value:function(t,i,n){var r=Math.sin(i)*t;return this.x=r*Math.sin(n),this.y=Math.cos(i)*t,this.z=r*Math.cos(n),this}},{key:"setFromCylindrical",value:function(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}},{key:"setFromCylindricalCoords",value:function(t,i,n){return this.x=t*Math.sin(i),this.y=n,this.z=t*Math.cos(i),this}},{key:"setFromMatrixPosition",value:function(t){t=t.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}},{key:"setFromMatrixScale",value:function(t){var i=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),t=this.setFromMatrixColumn(t,2).length();return this.x=i,this.y=n,this.z=t,this}},{key:"setFromMatrixColumn",value:function(t,i){return this.fromArray(t.elements,4*i)}},{key:"setFromMatrix3Column",value:function(t,i){return this.fromArray(t.elements,3*i)}},{key:"equals",value:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}},{key:"fromArray",value:function(t){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this.x=t[i],this.y=t[i+1],this.z=t[i+2],this}},{key:"toArray",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return t[i]=this.x,t[i+1]=this.y,t[i+2]=this.z,t}},{key:"fromBufferAttribute",value:function(t,i,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(i),this.y=t.getY(i),this.z=t.getZ(i),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}])&&nr(t.prototype,i),n&&nr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(),er=new rr,sr=new a,I={NaviNodeType_NULL:-1,NaviNodeType_COMMON:0,NaviNodeType_SIDE:1,NaviNodeType_FLOOR:2,NaviNodeType_EXTENT:3,NaviLiftType_NULL:0,NaviLiftType_Lift:1,NaviLiftType_Stair:2,NaviLiftType_Escalator:3,NaviLiftType_Accessible:4,NaviLiftType_Ramp:5,NaviLiftEntry_BOTH:0,NaviLiftEntry_UP:1,NaviLiftEntry_DOWN:2,NaviLiftEntry_FORBID:3,NaviEntranceType_NULL:0,NaviEntranceType_EXIT:1,NaviEntranceType_ENTRANCE:2,NaviEntranceType_ACCESS:3,NaviRoadRank_MAIN:1,NaviRoadRank_MINOR:2,NaviRoadRank_NARROW:3,NaviRoadEntry_BOTH:0,NaviRoadEntry_FORWARD:1,NaviRoadEntry_BACK:2,NaviRoadEntry_FORBID:3,NaviRoadPass_NULL:-1,NaviRoadPass_NOT_THROUGH:0,NaviRoadPass_THROUGH:1,NaviZoneType_NULL:-1,NaviZoneType_PASS_UNRESTRAINT:0,NaviZoneType_PASS_THROUGH:1,NaviZoneType_PASS_NOT_THROUGH:2,NaviZoneType_NO_ENTRY:3,NaviZoneType_CORRIDOR:4,NaviModelPassType_PASS_THROUGH:0,NaviModelPassType_PASS_NOT_THROUGH:1,NaviModelPassType_NOT_PASS:2,NaviModelPassType_DECORATE:3,NaviRoadHinderType_HINDER_GENERAL:0,NaviRoadHinderType_HINDER_HIGH:1,NaviObstructType_MODEL:0,NaviObstructType_EXTENT:1};function or(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ur(t,i,n){return i&&or(t.prototype,i),n&&or(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var a=ur(function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.Ii=0,this.Vt={},this.zt=0,this.qn=[],this.Hn=[],this.Qn=0,this.$n=[],this.Jn=!1,this.Kn=!1,this.tr=0,this.ir=!1,this.nr=[]}),L=(Object.assign(a.prototype,{set rr(t){-1!=t&&(this.zt|=t)},get rr(){return 3&this.zt},set er(t){this.zt|=t<<2},get er(){return this.zt>>2&7},set sr(t){this.zt|=t<<5},get sr(){return this.zt>>5&3},set or(t){this.zt|=t<<7},get or(){return this.zt>>7&3},set ur(t){this.zt|=t<<9},get ur(){return this.zt>>9&3},An:function(t){this.Ii=t,this.Vt={x:0,y:0},this.zt=0,this.Qn=0,this.Jn=!1,this.Kn=!1},hr:function(t){return this.Ii==t.Ii},ar:function(t){this.Ii=t.Ii,this.Vt=Object.assign({},t.Vt),this.zt=t.zt,this.qn=[];for(var i=0;i<t.qn.length;i++)this.qn[i]=t.qn[i];this.Hn=[];for(var n=0;n<t.Hn.length;n++)this.Hn[n]=t.Hn[n];this.Qn=t.Qn,this.$n=[];for(var r=0;r<t.$n.length;r++)this.$n[r]=t.$n[r];this.Jn=t.Jn,this.Kn=t.Kn},fr:function(){return this.qn.length},cr:function(){return this.Hn.length},lr:function(t){if(this.er==I.NaviLiftType_Stair)return!0;for(var i=this.qn.length-1;0<=i;i--)if(this.qn[i]==t)return!0;return!1}}),a);function hr(t){return(hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ar(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fr(t,i){return(fr=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function cr(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=lr(n),i=(t=r?(t=lr(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),this);if(t&&("object"===hr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==i)return i;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function lr(t){return(lr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var vr=function(){var t=s,i=L;if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),i&&fr(t,i);var n,r,e=cr(s);function s(){var t;if(this instanceof s)return(t=e.call(this)).vr=0,t.Pn=0,t.yr=null,t.tr=0,t.dr=null,t.er=null,t;throw new TypeError("Cannot call a class as a function")}return t=s,n&&ar(t.prototype,n),r&&ar(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}();function yr(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dr(t,i,n){return i&&yr(t.prototype,i),n&&yr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var a=dr(function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.Ii=0,this.br=-1,this.pr={},this.wr=-1,this.mr={},this.Cn=0,this.zt=0,this._r=[],this.xr=-1,this.gr=!1,this.Or=0}),D=(Object.assign(a.prototype,{set jr(t){this.zt|=t},get jr(){return 3&this.zt},set Er(t){this.zt|=t<<2},get Er(){return this.zt>>2&3},set ur(t){this.zt|=t<<4},get ur(){return this.zt>>4&3},set Tr(t){t?this.zt|=16:this.zt&=-17},get Tr(){return 16&this.zt?1:0},Mr:function(t){this.Ii=t.Ii,this.br=t.br,this.pr=Object.assign({},t.pr),this.wr=t.wr,this.mr=Object.assign({},t.mr),this.Cn=t.Cn,this.zt=t.zt,this._r=[],this.xr=t.xr;for(var i=0;i<t._r.Cn;i++)this._r[i]=t._r[i]},kr:function(){this.Cn=S.distanceOfTwoPoints(this.pr,this.mr)},Rr:function(){var t=this.pr.x-this.mr.x,i=this.pr.y-this.mr.y;this.Cn=Math.abs(t)+Math.abs(i)},Ar:function(){var t={};return t.x=(this.pr.x+this.mr.x)/2,t.y=(this.pr.y+this.mr.y)/2,t}}),a);function br(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var a=function(){function e(t,i,n,r){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.Ii=t,this.Pn=i||-1,this.zt=n,this.Sr=r,this.Nr=r&&r.length?r.length-1:0,this.Ir=0,this.Lr=null,this.Dr=null,this.Fr=[],this.Pr=[],this.Cr=null,this.Ut=new u,this.Ut.Lt(this.Sr)}var t,i,n;return t=e,(i=[{key:"_pass",get:function(){return 3&this.zt},set:function(t){this.zt|=t}},{key:"_area",get:function(){return null==this.Cr&&(this.Cr=S.mt(this.Sr,this.Nr)),this.Cr}}])&&br(t.prototype,i),n&&br(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),pr=(Object.assign(a.prototype,{Ur:function(t){return!!S.ht(t,this.Ut.St,this.Ut.Nt)&&S.ct(this.Sr,t,this.Nr)},_t:function(t,i){for(var n={},r=0;r<this.Nr;r++){var e=this.Sr[r],s=this.Sr[(r+1)%this.Nr];if(1==S._t(e,s,t,i,n))break}return n}}),a);function wr(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var a=function(){function o(t,i,n,r,e,s){if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");this.Ii=t,this.Br="",this.Sr=r,this.Nr=r&&r.length?r.length-1:0,this.Ft=e,this.Zr=s,this.zt=n,this.Pn=i,this.Gr=[],this.Wr=[],this.Vr=[],this.Lr=null,this.Dr=null,this.Fr=[],this.Yr=0,this.Ir=0,this.Cr=null,this.zr=!1,this.Ut=new u,this.Ut.Lt(this.Sr)}var t,i,n;return t=o,(i=[{key:"pass",get:function(){return 3&this.zt},set:function(t){this.zt|=t}},{key:"area",get:function(){return null==this.Cr&&(this.Cr=S.mt(this.Sr,this.Nr)),this.Cr}}])&&wr(t.prototype,i),n&&wr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),o}(),mr=(Object.assign(a.prototype,{Ur:function(t){return S.ct(t,this.Sr,this.Nr)}}),a);function _r(t,i){var n,r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,i){if(t){if("string"==typeof t)return xr(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xr(t,i):void 0}}(t))||i&&t&&"number"==typeof t.length)return r&&(t=r),n=0,{s:i=function(){},n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e,s=!0,o=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return s=t.done,t},e:function(t){o=!0,e=t},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw e}}}}function xr(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,r=new Array(i);n<i;n++)r[n]=t[n];return r}function gr(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Or=function(){function e(t,i,n,r){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.Pn=0,this.zt=r,this.Xr=t,this.qr=i,this.Hr=[],this.Qr=[],this.$r=[],this.Jr=[],this.Kr=new Map,this.te=[],this.ie=new Map,this.ne=new Map,this.re=n,this.ee=[],this.se=new Map,this.oe=new Map,this.ue=0,this.he=0,this.ae(),this.An()}var t,i,n;return t=e,(i=[{key:"queryContainExtentID",value:function(t){return this.fe(t)}}])&&gr(t.prototype,i),n&&gr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),jr=(Object.assign(Or.prototype,{wi:function(){this.Xr=null,this.qr=null,this.Hr=null,this.Qr=null,this.$r=null,(this.Jr=null)!=this.Kr&&(this.Kr.clear(),this.Kr=null),null!=this.ie&&(this.ie.clear(),this.ie=null),(this.te=null)!=this.ne&&(this.ne.clear(),this.ne=null),(this.ee=null)!=this.se&&(this.se.clear(),this.se=null),null!=this.oe&&(this.oe.clear(),this.oe=null)},ce:function(t){for(var i,n,r=Number.MAX_VALUE,e=0;e<this.qr.length;e++)0!=this.re&&(i=this.qr[e],1==t?r=i.Cn:2==t&&(r=i.Cn*i.jr),(n=i.Er)!=I.NaviRoadEntry_BOTH&&n!=I.NaviRoadEntry_FORWARD||(this.te[i.br][i.wr]=r),n!=I.NaviRoadEntry_BOTH&&n!=I.NaviRoadEntry_BACK||(this.te[i.wr][i.br]=r))},le:function(){return 0==this.Xr.length||0==this.qr.length},dn:function(){for(var t=0;t<this.Xr.length;t++)this.Xr[t].Jn=!1;if(1==this.re)for(var i=this.Xr.length+1,n=0;n<i;n++)for(var r=0;r<i;r++)void 0!==this.te[n]&&void 0!==this.te[n][r]&&(this.te[n][r]=Number.MAX_VALUE)},ve:function(){this.Jr=[];for(var t=0;t<this.Qr.length;t++){var i=this.Qr[t].toZone();this.Jr.push(i)}for(var n=0;n<this.Hr.length;n++){var r=this.Qr[n].toZone();this.Jr.push(r)}},ye:function(t){for(var i=0;i<this.Jr.length;i++){var n=this.Jr[i];if(n&&n.Ii==t)return n}return null},de:function(t){for(var i=0;i<this.Jr.length;i++){var n=this.Jr[i];if(n&&1==n.contain(t))return n}return null},be:function(){},pe:function(t,i){var n=null;if(this.Xr.length<=0||this.qr.length<=0)return n;for(var r=[],e=0,s=this.Xr.length;e<s;e++){var o=this.Xr[e],u=o.entranceType;u!=i&&u!=I.NaviEntranceType_ACCESS||((u=new{}).node=o,u.distance=S.vt(t,o.Vt),r.push(u))}return 0==r.length?n:(r=r.sort(this.we))[0].node.Vt},me:function(t){var i=[];if(this.Xr.length<=0||this.qr.length<=0)return i;for(var n=0,r=this.Xr.length;n<r;n++){var e=this.Xr[n],s=e.entranceType;s!=t&&s!=I.NaviEntranceType_ACCESS||i.push(e.Vt)}return i},_e:function(t,i){if(this.Xr.length<=0||this.qr.length<=0)return!1;if(t.Ii==i.Ii)return!0;this.xe();var n,r,e=[];for(e.push(t.Ii),o=0;o!=e.length;)for(var s=o,o=e.length,u=s;u<e.length;u++)for(var h=0;h<this.qr.length;h++)if(1!=this.ee[h]){if(r=(n=this.qr[h]).Er,n.br==e[u]&&(r==I.NaviRoadEntry_BOTH||r==I.NaviRoadEntry_FORWARD)){if(n.wr==i.Ii)return!0;e.push(n.wr),this.ee[h]=!0}if(n.wr==e[u]&&(r==I.NaviRoadEntry_BOTH||r==I.NaviRoadEntry_BACK)){if(n.br==i.Ii)return!0;e.push(n.br),this.ee[h]=!0}}return!1},ge:function(t,i,n,r){if(this.Xr.length<=0||this.qr.length<=0)return[];var e=this.fe(t);if(0==e)return!1;for(var s=[],o=0;o<this.Xr.length;o++){var u=this.Xr[o],h=this.fe(u.Vt);!u.contansFloor(i)||h!=e&&0!=e||((h={}).node=u,h.distance=S.vt(t,u.Vt),h.distance=parseFloat(h.distance).toFixed(4),s.push(h))}if(!s||0==s.length)return[];for(var s=s.sort(this.we),a=0;a<s.length;a++)n[a]=new L,n[a].setNode(s[a].node),r[a]=parseFloat(s[a].distance);return n},Oe:function(t,i){if(!this.Xr||this.Xr.length<=0||!this.qr||this.qr.length<=0)return!1;for(var n=0;n<this.Xr.length;n++){var r=this.Xr[n];if(r.rr==I.NaviNodeType_FLOOR)if(r.Qn==t)return i.setNode(r),!0}return!1},je:function(t,i){if(!this.Xr||this.Xr.length<=0||!this.qr||this.qr.length<=0)return!1;for(var n=0;n<this.Xr.length;n++){var r=this.Xr[n];r.er==t&&(i[n]=r)}return 0!=i.length},fe:function(t){if(0===this.Qr.length||!t)return 0;for(var i=0,n=this.Qr.length;i<n;i++){var r=this.Qr[i];if(r.Ur(t))return r.Ii}return 0},Ee:function(t,i){if(0==this.$r.length||!t||!i)return!1;for(var n=0;n<this.$r.length;n++)if(this.$r[n].isCross(t,i))return!0;return!1},Te:function(t,i,n,r,e){var s=Number.MAX_VALUE,o={};new L;if(this.Xr.length<=0||this.qr.length<=0)return!1;var u=this.fe(t);if(0==u)return!1;for(var h=0,a=this.qr.length;h<a;h++){var f,c=this.qr[h];c&&u==this.fe(c.pr)&&(f=S.bt(t,c.pr,c.mr,o),this.Ee(o,t)||f<s&&(s=f,i.Mr(c),r.x=o.x,r.y=o.y))}if(!i||i.Er==I.NaviRoadEntry_FORBID)return!1;for(var l=i.Er==I.NaviRoadEntry_BACK||i.Er!=I.NaviRoadEntry_FORWARD&&S.vt(i.pr,r)<=S.vt(i.mr,r)?i.br:i.wr,v=0;v<this.Xr.length;v++){var y=this.Xr[v];if(y.Ii==l){n.ar(y);break}}return!0},Me:function(t,i,n,r){var e=Number.MAX_VALUE,s={};new L;if(this.Xr.length<=0||this.qr.length<=0)return!1;var o=this.fe(t);if(0==o)return!1;for(var u=0;u<this.qr.length;u++){var h,a=this.qr[u];I.NaviRoadEntry_BOTH!=a.Er||o!=this.fe(a.pr)&&0!=o||(h=S.bt(t,a.pr,a.mr,s),this.Ee(s,t)||h<e&&(e=h,i.setRoad(a),r.x=s.x,r.y=s.y))}if(-1==i.Ii)return!1;for(var f=S.vt(i.pr,r)<=S.vt(i.mr,r)?i.br:i.wr,c=0;c<this.Xr.length;c++){var l=this.Xr[c];if(l.Ii==f){n.ar(l);break}}return-1!=n.Ii},ae:function(){this.ue=0;for(var t=this.he=0;t<this.qr.length;)null==this.qr[t]?this.qr.splice(t,1):(this.qr[t].Ii>this.he&&(this.he=this.qr[t].Ii),t++);for(var i=0;i<this.Xr.length;)null==this.Xr[i]?this.Xr.splice(i,1):(this.Xr[i].Ii>this.ue&&(this.ue=this.Xr[i].Ii),i++)},ke:function(t){t=this.se.get(t);return void 0===t?null:t},Re:function(t){t=this.oe.get(t);return void 0===t?null:t},Ae:function(t){for(var i=Number.MAX_VALUE,n=null,r=0;r<this.Qr.length;++r){var e=this.Qr[r];e.contain(t)&&e.area<i&&(i=cur_area,n=e)}for(var s=0;s<this.Hr.size();++s){var o=this.Hr[s];o.contain(t)&&o.area<i&&(i=cur_area,n=o)}return n||null},Se:function(t){for(var i=Number.MAX_VALUE,n=null,r=0;r<this.Hr.length;++r){var e=this.Hr[r];e.Ur(t)&&e.area<i&&(i=e.area,n=e)}return n||null},Ne:function(){return++this.ue},Ie:function(){return++this.he},Le:function(t){this.ue=t},De:function(t){this.he=t},Fe:function(){for(var t=0;t<this.Xr.length;t++){var i=this.Xr[t];i&&this.se.set(i.Ii,t)}},Pe:function(){for(var t=0;t<this.qr.length;t++){var i=this.qr[t];i&&this.oe.set(i.Ii,t)}},Ce:function(){var t,i=_r(this.se);try{for(i.s();!(t=i.n()).done;)t.value[1].nr=[]}catch(t){i.e(t)}finally{i.f()}},Ue:function(){for(var e=this,t=(this.ie.clear(),0);t<this.qr.length;t++)!function(t){var i=e.qr[t];if(null==i)return;var n,r,t=i.Er;I.NaviRoadEntry_BOTH!=t&&I.NaviRoadEntry_FORWARD!=t||(n=i.br,(r=e.ie.get(n))||e.ie.set(n,r=[]),null==r.find(function(t){return t.Be==i.wr})&&r.push({Be:i.wr,Cn:i.Cn})),I.NaviRoadEntry_BOTH!=t&&I.NaviRoadEntry_BACK!=t||(n=i.wr,(r=e.ie.get(n))||e.ie.set(n,r=[]),null==r.find(function(t){return t.Be==i.br})&&r.push({Be:i.br,Cn:i.Cn}))}(t)},Ze:function(t){for(var i=0;i<this.Xr.length;i++)if(this.Xr[i].Ii==t)return i;return-1},Ge:function(t){for(var i=9;i<this.qr.length;i++)if(this.qr[i].Ii==t)return i;return-1},We:function(t){for(var i=[],n=this.qr,r=0;r<n.length;r++){var e=n[r],s=e.pr,o=e.mr,u=[];t.Ve([s,o],u)?i.push({road:e,crss:u,index:r}):t.Ye(s)&&i.push({road:e,crss:[],index:r})}return i},ze:function(t){for(var i=null,n=Number.MAX_VALUE,r=0;r<this.Hr.length;r++){var e=this.Hr[r];S.ct(t,e.Sr,e.Nr)&&n>e.area&&(n=(i=e).area)}return i},Xe:function(t){for(var i=-1,n=0;n<this.Jr.length;n++){var r=this.Jr[n];if(S.ct(t,r.Sr,r.Nr)){i=r.Ii;break}}return i},qe:function(){var t=this.Hr.length,t=parseInt(Math.random()*t);return this.Hr[t]},An:function(){if(1==this.re)for(var t,i=0;i<this.qr.length;i++)t=this.qr[i],void 0===this.te[t.br]&&(this.te[t.br]=new Array),this.te[t.br][t.wr]=Number.MAX_VALUE,void 0===this.te[t.wr]&&(this.te[t.wr]=new Array),this.te[t.wr][t.br]=Number.MAX_VALUE;for(var n=0;n<this.qr.length;n++)this.ee[n]=!1},xe:function(){for(var t=0;t<this.ee.length;t++)this.ee[t]=!1},we:function(t,i){return parseFloat(t.distance)-parseFloat(i.distance)},He:function(){for(var t=[],i=0;i<this.Xr.length;i++){var n=this.Xr[i];n.er==I.NaviLiftType_Lift&&t.push(n)}return t},Qe:function(t){for(var i=0;i<this.Xr.length;i++)if(this.Xr[i].Qn==t)return this.Xr[i];return null},$e:function(){for(var t=[],i=0;i<this.Xr.length;i++){var n=this.Xr[i];n.er!=I.NaviLiftType_NULL&&t.push(n)}return t},Je:function(t){for(var i=null,n=0;n<this.Qr.length;n++)if(t==this.Qr[n].Ii){i=this.Qr[n];break}if(!i)return null;for(var r=[],e=0;e<this.Xr.length;e++){var s=this.Xr[e];S.ct(s.Vt,i.Sr,i.Nr)&&r.push(s)}for(var o=[],u=0;u<this.qr.length;u++){var h=this.qr[u];S.ct(h.pr,i.Sr,i.Nr)&&o.push(h)}for(var a=[],f=0;f<this.Hr.length;f++){var c=this.Hr[f];S.ct(c.Ft,i.Sr,i.Nr)&&a.push(c)}var l=new Or(r,o,!0,1);return l.Hr=a,l.Qr=[i],l}}),Or);function Er(t){return(Er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Tr(t){return function(t){if(Array.isArray(t))return Mr(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,i){if(t){if("string"==typeof t)return Mr(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mr(t,i):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mr(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,r=new Array(i);n<i;n++)r[n]=t[n];return r}function kr(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rr(t,i){return(Rr=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function Ar(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=Sr(n),i=(t=r?(t=Sr(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),this);if(t&&("object"===Er(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==i)return i;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function Sr(t){return(Sr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var a=function(){var t=s,i=L;if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),i&&Rr(t,i);var n,r,e=Ar(s);function s(){var t;if(this instanceof s)return(t=e.call(this)).Pn=0,t.xr=0,t.Ke=[],t.yr=null,t.ts=15,t.ns=8,t;throw new TypeError("Cannot call a class as a function")}return t=s,n&&kr(t.prototype,n),r&&kr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(),Nr=(Object.assign(a.prototype,{rs:function(t,i,n){if(!t)return[];var r=[];n=n||this.Ke;for(var e=0;e<n.length;e++){var s=n[e];t==s.er&&(i&&(s.tr=s.tr+i),r.push(s))}return r},es:function(t,i,n,r){this.yr=t;var e=[];e.push.apply(e,Tr(this.Ke));for(var s=0;s<e.length;s++){var o=e[s];o.tr=S.distanceOfTwoPoints(n,o.Vt)+S.distanceOfTwoPoints(o.Vt,i)}return this.ss(e,r)},ss:function(t,i){if(i==m.PRIORITY_LIFTFIRST1){var n=this.us.bind(this);t.sort(n)}else if(i==m.PRIORITY_ESCALATORFIRST1){n=this.hs.bind(this);t.sort(n)}else if(i!=m.PRIORITY_STAIRFIRST1){n=this.as.bind(this);t.sort(n)}else{this.cs(t,i);for(var r=[],e=0;e<t.length;e++)t[e].tr&&r.push(t[e]);(t=[]).push.apply(t,r);n=this.ls.bind(this);t.sort(n)}return t},us:function(t,i){if(t.zone!=i.zone){if(this.yr==t.zone)return-1;if(this.yr==i.zone)return 1}return t.er!=I.NaviLiftType_Lift&&t.er!=I.NaviLiftType_Accessible||i.er!=I.NaviLiftType_Lift&&i.er!=I.NaviLiftType_Accessible?t.er==I.NaviLiftType_Lift||t.er==I.NaviLiftType_Accessible?-1:i.er==I.NaviLiftType_Lift||i.er==I.NaviLiftType_Accessible?1:t.tr-i.tr:t.tr<i.tr},hs:function(t,i){if(t.zone!=i.zone){if(this.yr==t.zone)return-1;if(this.yr==i.zone)return 1}return t.er==I.NaviLiftType_Escalator&&i.er==I.NaviLiftType_Escalator?t.tr<i.tr:t.er==I.NaviLiftType_Escalator?-1:i.er==I.NaviLiftType_Escalator?1:t.tr-i.tr},as:function(t,i){if(t.zone!=i.zone){if(this.yr==t.zone)return-1;if(this.yr==i.zone)return 1}return t.er==I.NaviLiftType_Stair&&i.er==I.NaviLiftType_Stair?t.tr<i.tr:t.er==I.NaviLiftType_Stair?-1:i.er==I.NaviLiftType_Stair?1:t.tr-i.tr},ls:function(t,i){if(t.zone!=i.zone){if(this.yr==t.zone)return-1;if(this.yr==i.zone)return 1}return t.tr-i.tr},cs:function(t,i){if(i===m.PRIORITY_DEFAULT)for(var n=0;n<t.length;n++)t[n].er===I.NaviLiftType_Escalator?t[n].tr-=this.ts:t[n].er!==I.NaviLiftType_Lift&&t[n].er!==I.NaviLiftType_Accessible||(t[n].tr-=this.ns);else if(i===m.PRIORITY_STAIRFIRST)for(var r=0;r<t.length;r++)t[r].er===I.NaviLiftType_Stair?t[r].tr-=this.ts:t[r].er===I.NaviLiftType_Escalator&&(t[r].tr-=this.ns);else if(i===m.PRIORITY_ESCALATORFIRST)for(var e=0;e<t.length;e++)t[e].er===I.NaviLiftType_Escalator?t[e].tr-=this.ts:t[e].er!==I.NaviLiftType_Lift&&t[e].er!==I.NaviLiftType_Accessible||(t[e].tr-=this.ns);else if(i===m.PRIORITY_LIFTFIRST)for(var s=0;s<t.length;s++)t[s].er===I.NaviLiftType_Lift||t[s].er===I.NaviLiftType_Accessible?t[s].tr-=this.ts:t[s].er===I.NaviLiftType_Escalator&&(t[s].tr-=this.ns);else if(i===m.PRIORITY_STAIRONLY)for(var o=0;o<t.length;o++)t[o].er!==I.NaviLiftType_Stair&&(t[o].tr=null);else if(i===m.PRIORITY_ESCALATORONLY)for(var u=0;u<t.length;u++)t[u].er!==I.NaviLiftType_Escalator&&(t[u].tr=null);else if(i===m.PRIORITY_LIFTONLY)for(var h=0;h<t.length;h++)t[h].er!==I.NaviLiftType_Lift&&t[h].er!==I.NaviLiftType_Accessible&&(t[h].tr=null);else if(i===m.PRIORITY_ACCESSIBLEONLY)for(var a=0;a<t.length;a++)t[a].er!==I.NaviLiftType_Accessible&&(t[a].tr=null)}}),a);function Ir(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Lr(t,i,n){return i&&Ir(t.prototype,i),n&&Ir(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var a=Lr(function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.vs=null}),Dr=(Object.assign(a.prototype,{wi:function(){this.vs=null},ys:function(t){this.vs=t},ds:function(t,i){var n=null;return 0==i?n=wn.Mi(t):1==i?n=wn.ki(t):2==i&&(n=wn.Ri(t)),{points:n[0],holes:n.slice(1)}},bs:function(t,i,n){var r=null;return 0==n?r=dn.Mi(t,i):1==n?r=dn.ki(t,i):2==n&&(r=dn.Ri(t,i)),{points:r[0],holes:r.slice(1)}},ps:function(t){if(t&&"string"!=typeof t)for(var i in t){var n=t[i];if("vertices"==i||"vertex"==i)for(var r in n)r%2==0&&(n[r]=-n[r]);else"scene_data"==i?(n.x=-n.x,n.defCenX=-n.defCenX):this.ps(n)}},ws:function(t){if(""==t||!t)return[];var i,n=[];return 0<=t.indexOf("|")||0<=t.indexOf("-")||0<=t.indexOf(",")?(i=t.split(/[|,-]/),n.push.apply(n,i)):n.push(t),n},ms:function(t,i,n,r){for(var e={},s=[],o=[],u=[],h=[],a=[],f=this.vs.fileVer,c=0,l=i.extentLayer.length;c<l;c++){var v=i.extentLayer[c],y=null,y=1===f?this.ds(v.geo,2):this.bs(v.idxs,v.pts,2);v.geoArr=y.points,v.holes=y.holes,o.push(v)}for(var d=0,b=i.labelLayer.length;d<b;d++)e[i.labelLayer[d].eid]=i.labelLayer[d];for(var p=0,w=i.modelLayer.length;p<w;p++){var m=i.modelLayer[p],_=n.modelLayer[p],x={},_=(x.fid=_.fid,x.eid=m.eid,x.pass=_.pass,x.Ft=(1===f?this.ds(e[m.eid].geo,0):this.bs(e[m.eid].idxs,e[m.eid].pts,0)).points,null),_=1===f?this.ds(m.geo,2):this.bs(m.idxs,m.pts,2);x.geoArr=_.points,x.holes=_.holes,s.push(x)}if(r&&r.naviNodes)for(var g=0,O=r.naviNodes.length;g<O;g++){var j=r.naviNodes[g];j.geoArr=(1===f?this.ds(j.geo,0):this.bs(j.idxs,j.pts,0)).points,j.linkSegArr=this.ws(j.linkSeg),j.liftFloorArr=this.ws(j.liftFloor),u.push(j)}if(r&&r.naviSegments)for(var E=0,T=r.naviSegments.length;E<T;E++){var M=r.naviSegments[E];M.geoArr=(1===f?this.ds(M.geo,1):this.bs(M.idxs,M.pts,1)).points,M.m_Id=r.mid,h.push(M)}if(r&&r.naviZones)for(var k=0,R=r.naviZones.length;k<R;k++){var A=r.naviZones[k],S=null,S=1===f?this.ds(A.geo,2):this.bs(A.idxs,A.pts,2);A.geoArr=S.points,A.holes=S.holes,A.m_Id=r.mid,a.push(A)}return{level:t,extentLayer:o,modelLayer:s,naviSegments:h,naviNodes:u,naviZones:a}}}),a);function Fr(t,i){var n,r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,i){if(t){if("string"==typeof t)return Pr(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pr(t,i):void 0}}(t))||i&&t&&"number"==typeof t.length)return r&&(t=r),n=0,{s:i=function(){},n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e,s=!0,o=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return s=t.done,t},e:function(t){o=!0,e=t},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw e}}}}function Pr(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,r=new Array(i);n<i;n++)r[n]=t[n];return r}function Cr(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ur(t,i,n){return i&&Cr(t.prototype,i),n&&Cr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var a=Ur(function t(i){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this._s=i,this.xs=null,this.gs=null,this.Os=-1,this.js=-1,this.Es=g.MODULE_SHORTEST,this.Ts=[],this._s.Fe(),this._s.Pe(),this._s.Ue(),this.Ms=5e-4,this.ks=0}),Br=(Object.assign(a.prototype,{Rs:function(t,i,n){this.As(n),this.Ss=i;n=this._s.ke(t);if(-1==n)return R.ROUTE_FAILED_CANNOT_CALCULATE;this.Ts=[];for(var r=0;r<i.length;r++){var e=this._s.ke(i[r]);this.Ts.push(e)}return!!this.Ns(this._s,n,this.Ts)},Is:function(){for(var t=[],i=0;i<this.Ts.length;i++){var n=[];this.Ls(this.Ts[i],n),n.reverse(),t.push(n)}return t},Ls:function(t,i){t=this._s.Xr[t],i.push(t),t=t.nr[0];null!=t&&this.Ls(t,i)},Ds:function(t,i){if(null!=this._s.Xr&&0!=this._s.Xr.length&&this._s.Xr[0]instanceof Nr){this.ks=10;for(var n={},r=0;r<this._s.Xr.length;r++){var e=this._s.Xr[r],s=e.Fs.Sr,o=s.length-1,u=this._s.Xr[r].Ii;n[u]=[1,1],S.ct(t,s,o)&&(n[u][0]=0,t.level==e.Pn&&e.Ii),S.ct(i,s,o)&&(n[u][1]=0,i.level==e.Pn&&e.Ii)}var h,a=this._s.ie,f=Fr(a.keys());try{for(f.s();!(h=f.n()).done;){var c=h.value;a.get(c).sort(function(t,i){return n[t.Be][0]+n[t.Be][1]-(n[i.Be][0]+n[i.Be][1])})}}catch(t){f.e(t)}finally{f.f()}}},Ps:function(t,i,n,r,e){this.As(n),this.xs=t,this.gs=i,this.Ds(r,e),this.Os=t.Ii,this.js=i.Ii;n=this._s.ke(this.Os);if(-1===n)return R.ROUTE_FAILED_CANNOT_CALCULATE;r=this._s.ke(i.Ii);if(-1===r)return R.ROUTE_FAILED_CANNOT_CALCULATE;e=[];return e.push(r),this.Ns(this._s,n,e)?R.ROUTE_SUCCESS:R.ROUTE_FAILED_CANNOT_ARRIVE},Cs:function(){var t=[],i=this._s.ke(this.js),n=[],i=(n.push(i),[]);return this.Us(n,this._s.Xr,i,[]),t.push.apply(t,i),t},wi:function(){this._s.wi(),this._s=null,this.xs=null,this.gs=null},Ns:function(t,i,n){if(null==t)return!1;var r=t.Xr.length;if(i<0||r<=i)return!1;this.Bs(n,i);for(var e=0;e<r;++e)t.Xr[e].tr=Number.MAX_VALUE,t.Xr[e].ir=!1,t.Xr[e].nr=[];t.Xr[i].tr=0;for(var s=n.length,o=0,u=[],h=(u.push(t.Xr[i]),this.Zs.bind(this));0<u.length;){var a=u[0].Ii,f=(u.splice(0,1),t.ke(a));if(null!=f){var c=t.Xr[f];if(!c.ir){c.ir=!0;var l=n.indexOf(f);if(-1!=l&&++o==s)return!0;if(0!=t.ie.size){var v=t.ie.get(a);if(v)for(var y=0;y<v.length;y++){var d,b,p=v[y],w=p.Be,w=t.ke(w);null!=w&&(p=p.Cn,d=t.Xr[w],b=this.ks+p+c.tr,b=Number(b.toFixed(3)),d.ir||(d.tr>b?(d.tr=b,d.nr=[],d.nr.push(f),u.push(t.Xr[w]),u.sort(h)):Math.abs(d.tr-(p+c.tr))<1e-12&&-1==d.nr.indexOf(f)&&d.nr.push(f)))}}}}}return!(o<s)},Zs:function(t,i){return t.tr-i.tr},Bs:function(t,i){for(var n=t.indexOf(i);-1!=n;)t.splice(n,1),n=t.indexOf(i)},As:function(t){if(this.Es!=t){for(var i={},n=0;n<this._s.qr.length;n++){var r=this._s.qr[n],e=r.br,s=r.wr,r=r.jr;i.hasOwnProperty(e)||(i[e]={}),i[e][s]=r,i.hasOwnProperty(s)||(i[s]={}),i[s][e]=r}if(g.MODULE_SHORTEST==t){var o,u=Fr(this._s.ie.keys());try{for(u.s();!(o=u.n()).done;){var h,a=o.value,f=Fr(this._s.ie.get(a));try{for(f.s();!(h=f.n()).done;){var c=h.value,l=c.Be,v=i[a][l];c.Cn=c.Cn/v}}catch(t){f.e(t)}finally{f.f()}}}catch(t){u.e(t)}finally{u.f()}}else if(g.MODULE_BEST==t){var y,d=Fr(this._s.ie.keys());try{for(d.s();!(y=d.n()).done;){var b,p=y.value,w=Fr(this._s.ie.get(p));try{for(w.s();!(b=w.n()).done;){var m=b.value,_=m.Be,x=i[p][_];m.Cn=m.Cn*x}}catch(t){w.e(t)}finally{w.f()}}}catch(t){d.e(t)}finally{d.f()}}this.Es=t}},Gs:function(t,i,n,r){0!=i[t].nr.length&&(t=i[t].nr[0],n.push(i[t]),r.count++,this.Gs(t,i,n,r))},Us:function(t,i,n,r){for(var e=0;e<t.length;e++){var s=t[e],o=(n.push(i[s]),{count:1});this.Gs(s,i,n,o),r.push(o.count)}}}),a);function Zr(t){return(Zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gr(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Wr(t,i){return(Wr=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function Vr(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=Yr(n),i=(t=r?(t=Yr(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),this);if(t&&("object"===Zr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==i)return i;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function Yr(t){return(Yr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var zr=function(){var t=s,i=mr;if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),i&&Wr(t,i);var n,r,e=Vr(s);function s(){var t;if(this instanceof s)return(t=e.call(this)).Ii=-1,t.Ws=[],t;throw new TypeError("Cannot call a class as a function")}return t=s,n&&Gr(t.prototype,n),r&&Gr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}();function Xr(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qr(t,i,n){return i&&Xr(t.prototype,i),n&&Xr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var Hr=qr(function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.st=null,this.Vs=null,this.Ys=null,this.vt=0,this.zs=!1,this.Xs=I.NaviObstructType_MODEL});function N(t,i){var n,r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Qr(t))||i&&t&&"number"==typeof t.length)return r&&(t=r),n=0,{s:i=function(){},n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e,s=!0,o=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return s=t.done,t},e:function(t){o=!0,e=t},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw e}}}}function j(t){return function(t){if(Array.isArray(t))return $r(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Qr(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qr(t,i){if(t){if("string"==typeof t)return $r(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$r(t,i):void 0}}function $r(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,r=new Array(i);n<i;n++)r[n]=t[n];return r}function Jr(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var a=function(){function i(t){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.qs=null,this.Hs=null,this._s=t,this.Qs=new Map,this.$s=new Map,this.Js=new Map,this.Ks=new Map,this.to=new Map,this.io=[],this.no=Number.INT_MIN,this.ro=Number.INT_MIN,this.eo=-1,this.xs=null,this.gs=null,this.Es=g.MODULE_SHORTEST,this.so=new Map,this.oo=new Map,this.uo=new Map,this.ho=[],this.ao=[],this.fo=[],this.co=[],this.vo=100,this.yo=-1,this.do=15,this.bo=.1,this.po=[],this.wo=[],this.mo=[],this._o=[],this.xo=!0,this.go=[],this.zt=null,this.Oo(),this.jo(),this.Eo(),this.To(),this.Mo()}var t,n,r;return t=i,(n=[{key:"assignedPts",get:function(){return this.wo},set:function(t){this.wo=t}},{key:"obstruct",get:function(){return this.xo},set:function(t){this.xo=t}}])&&Jr(t.prototype,n),r&&Jr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(),Kr=(Object.assign(a.prototype,{Ps:function(t,i,n){if(this.no=t instanceof L?this.ko(t.Vt):this.ko(t),this.ro=i instanceof L?this.ko(i.Vt):this.ko(i),n&&(this.Es=n),t instanceof L)this.xs=t;else if(R.ROUTE_FAILED_NO_DATA_START==this.Ro(t))return R.ROUTE_FAILED_NO_DATA_START;if(i instanceof L)this.gs=i;else if(R.ROUTE_FAILED_NO_DATA_DEST==this.Ao(i))return R.ROUTE_FAILED_NO_DATA_DEST;return null==this.xs?R.ROUTE_FAILED_NO_DATA_START:null==this.gs?R.ROUTE_FAILED_NO_DATA_DEST:this.So()},No:function(){var t;this._o=[];for(var i=0;i<this.wo.length;i++){var n={x:(n=this.wo[i])[0],y:n[1]},r=this.ko(n),r=this.Io(r,n);this._o.push(r)}(t=this.io).push.apply(t,j(this._o))},Cs:function(){return this.io},wi:function(){this.qs=null,this.Hs=null,this._s.wi(),this._s=null,this.Qs.clear(),this.Qs=null;var t,i=N(this.$s);try{for(i.s();!(t=i.n()).done;)t.value[1].wi()}catch(t){i.e(t)}finally{i.f()}this.$s.clear(),this.$s=null;var n,r=N(this.Ks);try{for(r.s();!(n=r.n()).done;)n.value[1].wi()}catch(t){r.e(t)}finally{r.f()}this.Ks.clear(),this.Ks=null;var e,s=N(this.Js);try{for(s.s();!(e=s.n()).done;)e.value[1].wi()}catch(t){s.e(t)}finally{s.f()}this.Js.clear(),this.Js=null;var o,u=N(this.to);try{for(u.s();!(o=u.n()).done;)o.value[1].wi()}catch(t){u.e(t)}finally{u.f()}this.to.clear(),this.to=null,this.io=[],this.xs=null,this.gs=null,this.so.clear(),this.so=null,this.oo.clear(),this.oo=null,this.uo.clear(),this.ho=[],this.ao=[],this.fo=[],this.co=[],this.go=[],this.xo=!1},dn:function(){this.io=[],this.Lo(-1),this.Lo(this.no),this.no=Number.INT_MIN,this.Lo(this.ro),this.ro=Number.INT_MIN,this.Do(),this.po=[];var t=this._s.qr.length;this.eo<-2*t&&(this.eo=-1);for(var i=0;i<this.ho.length;i++){var n=this.ho[i];this.Fo(n.Po,n.Ys,I.NaviRoadHinderType_HINDER_HIGH)}this.ho=[],this.ao=[],this.fo=[],this.co=[]},Co:function(t){this.go=t,this.Js.clear(),this.to.clear();for(var i=0;i<this.go.length;i++)for(var n=this.go[i],r=this.Uo(n),e=0;e<r.length;e++){var s=r[e],o=this.Js.get(s);o||(o=this.Bo(this.$s.get(s)),this.Js.set(s,o)),this.Zo(o,n)}var u,h=N(this.Js);try{for(h.s();!(u=h.n()).done;){var a=u.value;this.to.set(a[0],new Br(a[1]))}}catch(t){h.e(t)}finally{h.f()}},Zo:function(t,i){for(var n=t.We(i),r=0;r<n.length;r++){var e=n[r],s=new D,o=(s.Mr(e.road),s.Er);s.Er=I.NaviRoadEntry_FORBID,t.qr[e.index]=s,1==e.crss.length&&(i.Ye(s.pr)?this.Go(e.crss[0],this.Ne(),s.mr,this.Ne(),o,t):this.Go(s.pr,this.Ne(),e.crss[0],this.Ne(),o,t)),2<=e.crss.length&&(this.Go(s.pr,this.Ne(),e.crss[0],this.Ne(),o,t),this.Go(e.crss[e.crss.length-1],this.Ne(),s.mr,this.Ne(),o,t))}var u=new zr;u.Ii=this.Wo(),u.Sr=i.Sr,u.pass=I.NaviModelPassType_NOT_PASS,t.Hr.push(u)},Go:function(t,i,n,r,e,s){t instanceof L?o=t:((o=new L).Ii=i,o.Vt=t,s.Xr.push(o)),n instanceof L?u=n:((u=new L).Ii=r,u.Vt=n,s.Xr.push(u));var o,u,i=new D;i.Ii=this.Ie(),i.br=o.Ii,i.pr=o.Vt,i.wr=u.Ii,i.mr=u.Vt,i.Er=e,i.Ii,i.br,i.pr.x.toFixed(3),i.pr.y.toFixed(3),i.wr,i.mr.x.toFixed(3),i.mr.y.toFixed(3),s.qr.push(i)},Wo:function(){return this.eo--},Vo:function(t){var i=this._s.fe(t);if(-1===i)return null;var n=this.ko(t),r=this.Yo(n).Se(t,-0);if(1===this.zt)return{xr:i,Ys:r};if(null==r)return{xr:i,Ys:null};if(r.pass===I.NaviModelPassType_PASS_THROUGH||r.pass===I.NaviModelPassType_PASS_NOT_THROUGH){if(0<r.Gr.length)return{xr:i,Ys:r};for(var e={},s=[],o=[],u=this.Yo(n).qr,h=!0,a=0;a<r.Nr;a++)for(var f=r.Sr[a],c=r.Sr[a+1],l=0;l<u.length;l++){var v=u[l];1===S._t(f,c,v.pr,v.mr,e)&&(h=!1,I.NaviRoadEntry_FORBID!==v.Er&&((v={}).x=e.x,v.y=e.y,s.push(v),o.push(u[l])))}if(h)return{xr:i,Ys:r};if(0===s.length)return null;r.Gr=[],r.Vr=[],r.Wr=[];for(var y=0;y<s.length;y++){var d=s[y],b=o[y],d=this.zo(n,d,b);d.Xo.push(b.Ii),d.rr=I.NaviNodeType_COMMON,b.Er===I.NaviRoadEntry_BOTH?d.entranceType=I.NaviEntranceType_ACCESS:S.ct(b.pr,r.Sr,r.Nr)?(b.Er===I.NaviRoadEntry_FORWARD&&(d.entranceType=I.NaviEntranceType_EXIT),b.Er===I.NaviRoadEntry_BACK&&(d.entranceType=I.NaviEntranceType_ENTRANCE)):(b.Er===I.NaviRoadEntry_FORWARD&&(d.entranceType=I.NaviEntranceType_ENTRANCE),b.Er===I.NaviRoadEntry_BACK&&(d.entranceType=I.NaviEntranceType_EXIT)),r.Gr.push(d),r.Vr.push(d.entranceType),r.Wr.push(d.rr)}}return r.pass!==I.NaviModelPassType_NOT_PASS?{xr:i,Ys:r}:null},qo:function(t){var i,n=null,r=Number.MAX_VALUE,e=N(t.values());try{for(e.s();!(i=e.n()).done;){var s=i.value;0<s.length&&s[0].vt<r&&(n=s[0],r=s[0].vt)}}catch(t){e.e(t)}finally{e.f()}return n},Ro:function(t){var i=null,n=!0,i=null!=this.qs&&this.qs.pass==I.NaviModelPassType_PASS_THROUGH&&0==this.qs.Gr.length?this.Ho(this.no,t,30,this.qs):this.Ho(this.no,t);if(1===this.zt){var r,e,s=this.qo(i);s&&(r=s.Vs,e=null,e=0==(r=this.Qo(this.no,t,r,[s],this.qs)).length?this.$o(this.no,s.st,s.Vs):this.$o(this.no,r[0].st,r[0].Vs),this.xs=e)}else{if(this.xs=this.Io(this.no,t),null==this.qs&&(n=!1),null!=i&&0<i.size){var o,n=!1,u=N(i);try{for(u.s();!(o=u.n()).done;)for(var h=o.value[1],a=0;a<h.length;a++)0!=h[a].Vs.Er&&(n=!0)}catch(t){u.e(t)}finally{u.f()}var f,c=N(i);try{for(c.s();!(f=c.n()).done;){var l=f.value[1],v=l[0].Vs,y=this.Qo(this.no,t,v,l,this.qs);if(0==y.length){var d,b=N(l);try{for(b.s();!(d=b.n()).done;){var p=d.value,w=this.$o(this.no,p.st,p.Vs);this.Jo(this.no,this.xs,w)}}catch(t){b.e(t)}finally{b.f()}}else{var m=this.$o(this.no,y[0].st,y[0].Vs);this.Jo(this.no,this.xs,m)}}}catch(t){c.e(t)}finally{c.f()}}if(n&&null!=this.qs&&0<this.qs.Gr.length)for(var _=null,x=this.$s.get(this.no),g=0;g<this.qs.Gr.length;g++){var _=this.qs.Gr[g],O=this.qs.Vr[g];if(O==I.NaviEntranceType_EXIT||O==I.NaviEntranceType_ACCESS){for(var j=this.qs.Zr,E=!0,T=0;T<j.length;T++){for(var M=j[T],k=0;k<M.length-1;k++)if(S.ut(t,_.Vt,M[k],M[k+1])){E=!1;break}if(0==E)break}if(0!=E){for(var R=0;R<x.qr.length;R++){var A=x.qr[R];if(0!=A.Er)if(S.ut(t,_.Vt,A.pr,A.mr)&&0<A.Ii&&0==_.Xo.includes(A.Ii)){E=!1;break}}0!=E&&this.Jo(this.no,this.xs,_)}}}}},Ao:function(t){this.gs=this.Io(this.ro,t);var i=null,n=!0,i=null!=this.Hs&&this.Hs.pass==I.NaviModelPassType_PASS_THROUGH&&0==this.Hs.Gr.length?this.Ho(this.ro,t,30,this.Hs):this.Ho(this.ro,t);if(1===this.zt){var r,e,s=this.qo(i);s&&(r=s.Vs,e=null,e=0==(r=this.Qo(this.ro,t,r,[s],this.Hs)).length?this.$o(this.ro,s.st,s.Vs):this.$o(this.ro,r[0].st,r[0].Vs),this.gs=e)}else{if(null==this.Hs&&(n=!1),null!=i&&0<i.size){var o,n=!1,u=N(i);try{for(u.s();!(o=u.n()).done;)for(var h=o.value[1],a=0;a<h.length;a++)0!=h[a].Vs.Er&&(n=!0)}catch(t){u.e(t)}finally{u.f()}var f,c=N(i);try{for(c.s();!(f=c.n()).done;){var l=f.value[1],v=l[0].Vs,y=this.Qo(this.ro,t,v,l,this.Hs);if(0==y.length){var d,b=N(l);try{for(b.s();!(d=b.n()).done;){var p=d.value,w=this.$o(this.ro,p.st,p.Vs);this.Jo(this.ro,this.gs,w)}}catch(t){b.e(t)}finally{b.f()}}else{var m=this.$o(this.ro,y[0].st,y[0].Vs);this.Jo(this.ro,this.gs,m)}}}catch(t){c.e(t)}finally{c.f()}}if(n&&null!=this.Hs&&0<this.Hs.Gr.length)for(var _=null,x=this.$s.get(this.ro),g=0;g<this.Hs.Gr.length;g++){var _=this.Hs.Gr[g],O=this.Hs.Vr[g];if(O==I.NaviEntranceType_ENTRANCE||O==I.NaviEntranceType_ACCESS){for(var j=this.Hs.Zr,E=!0,T=0;T<j.length;T++){for(var M=j[T],k=0;k<M.length-1;k++)if(S.ut(t,_.Vt,M[k],M[k+1])){E=!1;break}if(0==E)break}if(0!=E){for(var R=0;R<x.qr.length;R++){var A=x.qr[R];if(0!=A.Er)if(S.ut(t,_.Vt,A.pr,A.mr)&&0<A.Ii&&0==_.Xo.includes(A.Ii)){E=!1;break}}0!=E&&this.Jo(this.ro,this.gs,_)}}}}},So:function(){var t=this.Ko(this.xs.Vt),t=(t&&(this.Fo(this.no,t,I.NaviRoadHinderType_HINDER_GENERAL),this.ho.push({Po:this.no,Ys:t})),this.Ko(this.gs.Vt));if(t&&(this.Fo(this.ro,t,I.NaviRoadHinderType_HINDER_GENERAL),this.ho.push({Po:this.ro,Ys:t})),this.io=[],this.no===this.ro){var t=this.tu(this.no),i=t.Ps(this.xs,this.gs,this.Es);if(i!==R.ROUTE_SUCCESS)return i;i=t.Cs();this.io=[],i.reverse(),(t=this.io).push.apply(t,j(i))}else{if(-1!==this.no&&-1===this.ro){var t=this.iu(this.xs.Vt,this.no,I.NaviEntranceType_EXIT),i=this.tu(this.no),n=i.Ps(this.xs,t,this.Es);if(n!=R.ROUTE_SUCCESS)return n;var r=i.Cs(r),i=this.tu(-1);if((n=i.Ps(t,this.gs,this.Es))!=R.ROUTE_SUCCESS)return n;t=i.Cs();r.reverse(),t.reverse(),(n=this.io).push.apply(n,j(r)),(i=this.io).push.apply(i,j(t))}if(-1===this.no&&-1!==this.ro){var n=this.iu(this.gs.Vt,this.ro,I.NaviEntranceType_ENTRANCE),r=this.tu(this.ro),i=r.Ps(n,this.gs,this.Es);if(i!=R.ROUTE_SUCCESS)return i;t=r.Cs(),r=this.tu(-1);if((i=r.Ps(this.xs,n,this.Es))!=R.ROUTE_SUCCESS)return i;n=r.Cs();n.reverse(),t.reverse(),(i=this.io).push.apply(i,j(n)),(r=this.io).push.apply(r,j(t))}if(-1!==this.no&&-1!==this.ro){i=this.iu(this.xs.Vt,this.no,I.NaviEntranceType_EXIT),n=this.tu(this.no),r=n.Ps(this.xs,i,this.Es);if(r!=R.ROUTE_SUCCESS)return r;var e=n.Cs(e),t=this.iu(this.gs.Vt,this.ro,I.NaviEntranceType_ENTRANCE),n=this.tu(this.ro);if((r=n.Ps(t,this.gs,this.Es))!=R.ROUTE_SUCCESS)return r;var s=n.Cs(s),n=this.tu(-1);if((r=n.Ps(i,t,this.Es))!=R.ROUTE_SUCCESS)return r;i=n.Cs();e.reverse(),i.reverse(),s.reverse(),(t=this.io).push.apply(t,j(e)),(r=this.io).push.apply(r,j(i)),(n=this.io).push.apply(n,j(s))}}return R.ROUTE_SUCCESS},nu:function(t,i,n){for(var r=0;r<i;r++)if(null!=t[r]&&t[r].Ii==n)return r;return-1},ko:function(t){for(var i=this._s.Jr,n=0;n<i.length;n++){var r=i[n];if(r.Ur(t))return r.Ii}return-1},Oo:function(){for(var t=this._s.Jr,i=0;i<t.length;i++){var n=t[i],r=this.ru(this._s,n);this.$s.set(n.Ii,r)}this.$s.set(-1,this._s);var e,s=N(this.$s);try{for(s.s();!(e=s.n()).done;){var o=e.value;o[1].ae(),this.Ks.set(o[0],new Br(o[1]))}}catch(t){s.e(t)}finally{s.f()}},ru:function(t,i){if(t&&i){for(var n,r=0,e=0,s=t.qr.length,o=t.Xr.length,u=t.qr,h=t.Xr,a=0,f=new Int8Array(s),c=0;c<s;c++)u[c]&&u[c].Er!=I.NaviRoadEntry_FORBID&&(n=u[c],r=i.contain(n.pr),e=i.contain(n.mr),0==r&&0==e||(a=!0),1==r&&1==e&&(f[c]=1),1==r&&0==e&&(f[c]=2),0==r&&1==e&&(f[c]=3),0==r&&0==e&&(f[c]=4),2==r&&0==e&&(f[c]=6),2==r&&1==e&&(f[c]=7),0==r&&2==e&&(f[c]=8),1==r&&2==e&&(f[c]=9));if(0==a)return null;for(var l,v,y,d,b,p,w=new Array(o),m=new Array(s),_=0,x=new Int8Array(o),g=f.length,O=0,j=g;O<j;O++)0!=f[O]&&6!=f[O]&&8!=f[O]&&1!=f[O]&&u[O]&&(p=(l=u[O]).Er,b=[l.Ii],2==f[O]||9==f[O]?(v=null,v=2==f[O]?i._t(l.pr,l.mr):Object.assign({},l.mr),(y=new L).Ii=this.Ne(),y.rr=I.NaviNodeType_COMMON,y.er=I.NaviLiftType_NULL,y.entranceType=I.NaviEntranceType_ACCESS,y.Vt=Object.assign({},v),(v=new D).setRoad(l),v.Ii=this.Ie(),b.push(v.Ii),y.segLinks=b,(d=new L).setNode(y),p==I.NaviRoadEntry_FORWARD?d.entranceType=I.NaviEntranceType_EXIT:p==I.NaviRoadEntry_BACK&&(d.entranceType=I.NaviEntranceType_ENTRANCE),i.Pr.push(d),_=this.nu(h,o,v.wr),v.mr=Object.assign({},d.Vt),v._r[1]=Object.assign({},d.Vt),v.wr=d.Ii,v.kr(),m[O]=v,w[_]=d,w[_=this.nu(h,o,v.br)]=h[_],w[_].segLinks.splice(w[_].segLinks.indexOf(l.Ii),1,v.Ii),(d=new L).setNode(y),l.br=d.Ii,l.pr=Object.assign({},d.Vt),l._r[0]=Object.assign({},d.Vt),l.kr(),h[_].segLinks.splice(h[_].segLinks.indexOf(l.Ii),1),h.push(d),x[_]=2):3!=f[O]&&7!=f[O]||(v=null,v=3==f[O]?i._t(l.pr,l.mr):Object.assign({},l.pr),(y=new L).Ii=this.Ne(),y.rr=I.NaviNodeType_COMMON,y.er=I.NaviLiftType_NULL,y.entranceType=I.NaviEntranceType_ACCESS,y.Vt=Object.assign({},v),(d=new D).setRoad(l),d.Ii=this.Ie(),b.push(d.Ii),y.segLinks=b,(b=new L).setNode(y),p==I.NaviRoadEntry_FORWARD?b.entranceType=I.NaviEntranceType_ENTRANCE:p==I.NaviRoadEntry_BACK&&(b.entranceType=I.NaviEntranceType_EXIT),i.Pr.push(b),_=this.nu(h,o,d.br),d.pr=Object.assign({},b.Vt),d._r[0]=Object.assign({},b.Vt),d.br=b.Ii,d.kr(),m[O]=d,w[_]=b,w[_=this.nu(h,o,d.wr)]=h[_],w[_].segLinks.splice(w[_].segLinks.indexOf(l.Ii),1,d.Ii),(p=new L).setNode(y),l.wr=p.Ii,l.mr=Object.assign({},p.Vt),l._r[1]=Object.assign({},p.Vt),l.kr(),h[_].segLinks.splice(h[_].segLinks.indexOf(l.Ii),1),h.push(p),x[_]=2));for(var E,T=0,M=g;T<M;T++)1==f[T]&&((E=u[T])&&(m[T]=E,2!=x[_=this.nu(h,o,E.br)]&&(w[_]=h[_],x[_]=1),2!=x[_=this.nu(h,o,E.wr)]&&(w[_]=h[_],x[_]=1),u[T]=null));for(var k=0;k<o;k++)1==x[k]&&(h[k]=null);for(var g=new jr(w,m,!0,1),R=[],A=t.Hr,S=0;S<A.length;S++){var N=A[S];N&&this.eu(N,i)&&R.push(N)}return(t=g.Hr).push.apply(t,R),g}},jo:function(){var t,i=N(this.$s);try{for(i.s();!(t=i.n()).done;)for(var n=t.value,r=n[0],e=n[1].Hr,s=0;s<e.length;s++){var o,u=e[s];I.NaviModelPassType_PASS_NOT_THROUGH==u.pass&&((o=this.so.get(r))||(o=[],this.so.set(r,o)),o.push(u))}}catch(t){i.e(t)}finally{i.f()}},Eo:function(){var t,i=N(this.$s);try{for(i.s();!(t=i.n()).done;)for(var n=t.value,r=n[0],e=n[1].Hr,s=0;s<e.length;s++){var o,u=e[s];I.NaviModelPassType_NOT_PASS==u.pass&&((o=this.oo.get(r))||(o=[],this.oo.set(r,o)),o.push(u))}}catch(t){i.e(t)}finally{i.f()}},To:function(){var t,i=N(this.so);try{for(i.s();!(t=i.n()).done;)for(var n=t.value,r=n[0],e=n[1],s=this.Yo(r).qr,o=0;o<e.length;o++){for(var u=e[o],h=0;h<s.length;h++){var a,f=s[h].Ar();S.ct(f,u.Sr,u.Nr)&&(s[h].Cn=s[h].Cn*this.vo,(a=this.uo.get(u.Ii))||(a=[],this.uo.set(u.Ii,a)),a.push(s[h]))}this.Fo(r,u,I.NaviRoadHinderType_HINDER_HIGH)}}catch(t){i.e(t)}finally{i.f()}},Mo:function(){var t,i=N(this.oo);try{for(i.s();!(t=i.n()).done;)for(var n=t.value,r=n[0],e=n[1],s=this.Yo(r).qr,o=0;o<e.length;o++)for(var u=e[o],h=0;h<s.length;h++){var a=s[h],f=a.Er,c=a.Ar();if(S.ct(c,u.Sr,u.Nr)){if(a.Cn=Number.MAX_VALUE,f==I.NaviRoadEntry_BOTH||f==I.NaviRoadEntry_FORWARD){var l=this.Yo(r).ie.get(a.br);if(l)for(var v=0;v<l.length;v++)l[v].Be==a.wr&&(l[v].Cn=a.Cn)}if(a.Er==I.NaviRoadEntry_BOTH||a.Er==I.NaviRoadEntry_BACK){var y=this.Yo(r).ie.get(a.wr);if(y)for(var d=0;d<y.length;d++)y[d].Be==a.br&&(y[d].Cn=a.Cn)}}}}catch(t){i.e(t)}finally{i.f()}},Fo:function(t,i,n){var r=this.uo.get(i.Ii);if(r){if(I.NaviRoadHinderType_HINDER_HIGH==n)for(var e=0;e<r.length;e++){var s=r[e];if(s.kr(),s.Cn=r.length*this.vo,s.Er==I.NaviRoadEntry_BOTH||s.Er==I.NaviRoadEntry_FORWARD){var o=this.Yo(t).ie.get(s.br);if(o)for(var u=0;u<o.length;u++)o[u].Be==s.wr&&(o[u].Cn=s.Cn)}if(s.Er==I.NaviRoadEntry_BOTH||s.Er==I.NaviRoadEntry_BACK){var h=this.Yo(t).ie.get(s.wr);if(h)for(var a=0;a<h.length;a++)h[a].Be==s.br&&(h[a].Cn=s.Cn)}}if(I.NaviRoadHinderType_HINDER_GENERAL==n)for(var f=0;f<r.length;f++){var c=r[f];if(c.kr(),c.Er==I.NaviRoadEntry_BOTH||c.Er==I.NaviRoadEntry_FORWARD){var l=this.Yo(t).ie.get(c.br);if(l)for(var v=0;v<l.length;v++)l[v].Be==c.wr&&(l[v].Cn=c.Cn)}if(c.Er==I.NaviRoadEntry_BOTH||c.Er==I.NaviRoadEntry_BACK){var y=this.Yo(t).ie.get(c.wr);if(y)for(var d=0;d<y.length;d++)y[d].Be==c.br&&(y[d].Cn=c.Cn)}}}},iu:function(t,i,n){var r=this._s.ye(i);if(null==r)return null;for(var e=this.Yo(i).Se(t,void 0),s=(e.area,Number.MAX_VALUE),o=null,u=0;u<r.Pr.length;u++){var h,a=r.Pr[u],f=S.vt(a.Vt,t);a.entranceType!=I.NaviEntranceType_ACCESS&&a.entranceType!=n||f<s&&((h=this.su(i,a.Vt))!=e&&h.pass==I.NaviModelPassType_PASS_NOT_THROUGH||(s=f,o=a))}return o},su:function(t,i){for(var n=null,t=this.Yo(t),r=Number.MAX_VALUE,e=Number.MAX_VALUE,s=null,o=t.Hr,u=0;u<o.length;u++){var h,a=o[u];(h=S.ou(a.Sr,i,a.Sr.length-1))<e&&(e=h,s=a),this.bo>h&&((h=a.area)<r&&(r=h,n=a))}return null==n?s:n},eu:function(t,i){if(t.bb.isSeparate(i.bb))return!1;t=t.Ft;return!!S.ct(t,i.Sr,i.Nr)},$o:function(t,i,n){for(var r=this.po.find(function(t){return t==n.br}),e=this.po.find(function(t){return t==n.wr}),s=(null==r&&this.po.push(n.br),null==e&&this.po.push(n.wr),this.co),o=null,u=0;u<s.length;u++)if(s[u].uu==n){o=s[u];break}if(null==o)(o={}).uu=n,s.push(o);else for(;null!=o.hu;)var h=o.hu.uu,o=S.at(i,h.pr,h.mr)?o.hu:o.au;n=o.uu;var r=new L,e=(r.Ii=this.Wo(),r.Vt=i,new D),a=(e.Ii=this.Wo(),e.br=n.br,e.pr=n.pr,e.wr=r.Ii,e.mr=r.Vt,e._r=[n.pr,r.Vt],e.jr=n.jr,new D),f=(a.Ii=this.Wo(),a.br=r.Ii,a.pr=r.Vt,a.wr=n.wr,a.mr=n.mr,a._r=[r.Vt,n.mr],a.jr=n.jr,this.ao.push(e),this.ao.push(a),{}),c=(f.uu=e,{}),f=(c.uu=a,o.hu=f,o.au=c,r.tempType=1,e.tempType=1,a.tempType=1,e.kr(),a.kr(),e.Er=n.Er,a.Er=n.Er,this.Yo(t)),c=(f.Xr.push(r),f.qr.push(e),f.qr.push(a),this.tu(t)._s);return c.se.set(r.Ii,f.Xr.length-1),n.Er==I.NaviRoadEntry_BOTH&&((t=[]).push({Be:n.br,Cn:e.Cn}),t.push({Be:n.wr,Cn:a.Cn}),c.ie.set(r.Ii,t),(t=c.ie.get(n.br))||c.ie.set(n.br,t=[]),t.push({Be:r.Ii,Cn:e.Cn}),(t=c.ie.get(n.wr))||c.ie.set(n.wr,t=[]),t.push({Be:r.Ii,Cn:a.Cn})),n.Er==I.NaviRoadEntry_FORWARD&&((f=[]).push({Be:n.wr,Cn:a.Cn}),c.ie.set(r.Ii,f),(f=c.ie.get(n.br))||c.ie.set(n.br,f=[]),f.push({Be:r.Ii,Cn:e.Cn})),n.Er==I.NaviRoadEntry_BACK&&((t=[]).push({Be:n.br,Cn:e.Cn}),c.ie.set(r.Ii,t),(t=c.ie.get(n.wr))||c.ie.set(n.wr,t=[]),t.push({Be:r.Ii,Cn:a.Cn})),r},fu:function(t,i){for(var n=i.length-1;0<=n;n--)if(i[n].Ii&&0<i[n].Ii)return i.splice(n+1,0,t),n+1;return-1},zo:function(t,i,n,r){if(r)return this.$o(t,i,n);var r=this.Yo(t),t=new L,i=(t.Ii=this.Ne(),t.Vt=i,new D),e=(i.Ii=this.Ie(),i.br=n.br,i.pr=n.pr,i.wr=t.Ii,i.mr=t.Vt,i.jr=n.jr,i._r=[n.pr,t.Vt],new D),s=(e.Ii=this.Ie(),e.br=t.Ii,e.pr=t.Vt,e.wr=n.wr,e.mr=n.mr,e.jr=n.jr,e._r=[t.Vt,n.mr],[]),s=(s.push(i.Ii),s.push(e.Ii),t.segLinks=s,i.kr(),e.kr(),i.Er=n.Er,e.Er=n.Er,r.Xr),o=r.qr,s=this.fu(t,s);return this.fu(i,o),this.fu(e,o),r.se.set(t.Ii,s),n.Er==I.NaviRoadEntry_BOTH&&((o=[]).push({Be:n.br,Cn:i.Cn}),o.push({Be:n.wr,Cn:e.Cn}),r.ie.set(t.Ii,o),(o=r.ie.get(n.br))||r.ie.set(n.br,o=[]),o.push({Be:t.Ii,Cn:i.Cn}),(o=r.ie.get(n.wr))||r.ie.set(n.wr,o=[]),o.push({Be:t.Ii,Cn:e.Cn})),n.Er==I.NaviRoadEntry_FORWARD&&((s=[]).push({Be:n.wr,Cn:e.Cn}),r.ie.set(t.Ii,s),(s=r.ie.get(n.br))||r.ie.set(n.br,s=[]),s.push({Be:t.Ii,Cn:i.Cn})),n.Er==I.NaviRoadEntry_BACK&&((o=[]).push({Be:n.br,Cn:i.Cn}),r.ie.set(t.Ii,o),(o=r.ie.get(n.wr))||r.ie.set(n.wr,o=[]),o.push({Be:t.Ii,Cn:e.Cn})),t.Xo=[],t.Xo.push(i.Ii),t.Xo.push(e.Ii),t},cu:function(t){if(null!=t){for(var i=this.Yo(t),n=i.Xr.length-1;0<=n;n--){var r=i.Xr[n];if(null==r||0<=r.Ii)break;i.Xr.splice(n,1)}for(var e=i.qr.length-1;0<=e;e--){var s=i.qr[e];if(null==s||0<=s.Ii)break;i.qr.splice(e,1)}}},lu:function(t,i){var n=t.get(i);if(n)for(var r=0;r<n.length;r++)n[r].Be<0&&(n.splice(r,1),r--)},vu:function(t,i){for(var n=t.get(i),r=0;r<n.length;r++)this.lu(t,n[r].Be);t.delete(i)},yu:function(t,i,n,r,e){r.du=Number.MAX_VALUE,r.zs=!1,r.bu=n;for(var s=Number.MAX_VALUE,o={},u=this.$s.get(t),h=Number.MAX_VALUE,a=0;a<u.qr.length;a++){var f,c=u.qr[a];null==c||c.Ii<0||(c.Er==I.NaviRoadEntry_FORBID?S.xt(i,n,c.pr,c.mr,o)&&(f=S.vt(i,o))<=h&&(h=f):S.xt(i,n,c.pr,c.mr,o)&&(f=S.vt(i,o))<s&&(s=f,r.st=Object.assign({},o),r.vt=s,r.Vs=c,r.zs=!0))}if(r.vt>=h)return r.vt=Number.MAX_VALUE,r.zs=!1;if(!r.zs)return!1;if(u=this.Yo(t),1!=this.zt)for(var l={},v=0;v<u.Hr.length;v++){var y=u.Hr[v];if(null!=y&&y!=e&&(I.NaviModelPassType_DECORATE!=y.pass&&(null==e||e.pass==I.NaviModelPassType_DECORATE||!S.ct(e.Ft,y.Sr,y.Sr.length-1))))for(var d=y.Sr.length,b=0;b<d-1;b++)if(S.xt(i,n,y.Sr[b],y.Sr[b+1],l)){var p=S.vt(i,l);if(p<s)return s=p,r.Ys=y,r.vt=Number.MAX_VALUE,r.zs=!1,r.Xs=I.NaviObstructType_MODEL,!1}}for(var w={},m=u.Qr,_=0;_<m.length;_++){for(var x=m[_],g=m[_].Zr,O=0;O<g.length;O++)for(var j=g[O],E=0;E<j.length-1;E++)if(S.xt(i,n,j[E],j[E+1],w)){var T=S.vt(i,w);if(T<s)return s=T,r.Ys=x,r.vt=Number.MAX_VALUE,r.zs=!1,r.Xs=I.NaviObstructType_EXTENT,!1}for(var M=m[_].Sr,k=0;k<M.length-1;k++)if(S.xt(i,n,M[k],M[k+1],w)){var R=S.vt(i,w);if(R<s)return s=R,r.Ys=x,r.vt=Number.MAX_VALUE,r.zs=!1,r.Xs=I.NaviObstructType_EXTENT,!1}}return!0},pu:function(t,i){return t.vt-i.vt},wu:function(t,i){return i.bu-t.bu},Lo:function(t){t=this.Yo(t);if(t){for(var i=t.Xr,n=t.se,r=i.length-1;0<=r;r--){var e=i[r];if(null==e||0<=e.Ii)break;n.delete(e.Ii),i.splice(r,1)}for(var s=t.qr,o=t.oe,u=s.length-1;0<=u;u--){var h=s[u];if(null==h||0<=h.Ii)break;o.delete(h.Ii),s.splice(u,1)}}},Do:function(){this.mu(this.to),this.mu(this.Ks)},mu:function(t){var i,n=N(t);try{for(n.s();!(i=n.n()).done;){var r,e=i.value[1],s=[],o=e._s.ie,u=N(o);try{for(u.s();!(r=u.n()).done;){var h=r.value;h[0]<0&&s.push(h[0])}}catch(t){u.e(t)}finally{u.f()}for(var a=0;a<s.length;a++)this.vu(e._s.ie,s[a]);for(var f=0;f<this.po.length;f++)this.lu(o,this.po[f])}}catch(t){n.e(t)}finally{n.f()}},Qo:function(t,i,n,r,e){var s=[],o={x:0,y:0};if(S.gt(i,n.pr,n.mr,o)&&this._u(i,o,{},e))return(e={}).st=o,e.zs=!0,e.Vs=n,e.bu=0,e.vt=S.vt(i,o),s.push(e),s;for(var u={x:o.x-i.x,y:o.y-i.y},h=0;h<r.length;h++){var a=r[h],f={x:a.st.x-i.x,y:a.st.y-i.y},f=270<(f=S.kt(f,u))?f-360:f;a.bu=f}r.sort(this.wu);var c,l=null;if(r[r.length-1].bu<0)return l=r[r.length-1],s.push(l),s;for(var v=0;v<r.length;v++)if(0<r[v].bu)return l=r[v],0==v?s.push(l):(c=r[v-1],S.vt(l.st,n.pr)>S.vt(c.st,n.pr)?(s.push(c),s.push(l)):(s.push(l),s.push(c))),s;return s},xu:function(t,i,n,r,e){for(var s=r||30,o=0;o<360;o+=s){var u=new Hr;this.yu(t,i,o,u,e),1==u.zs&&n.push(u)}n.sort(this.pu)},Ho:function(t,i,n,r){var e=new Map,s=[];for(this.xu(t,i,s,n,r);0!=s.length;){var o=s[0],u=e.get(o.Vs.Ii);u?u.push(o):((u=[]).push(o),e.set(o.Vs.Ii,u)),s.splice(0,1)}return e},Io:function(t,i){var n=new L,i=(n.Ii=this.Wo(),n.Vt=Object.assign({},i),this.Yo(t));return i.Xr.push(n),i.se.set(n.Ii,i.Xr.length-1),this.tu(t)._s=i,n},gu:function(t,i,n){if(n)return this.Io(t,i);n=new L,n.Ii=this.Ne(),n.Vt=Object.assign({},i),i=this.Yo(t),t=i.Xr,t=this.fu(n,t);return i.se.set(n.Ii,t),n},_u:function(t,i,n,r){for(var e,s=this.Yo(-1),o=0;o<s.Hr.length;o++)if(null!=(e=s.Hr[o])&&e!=r&&I.NaviModelPassType_DECORATE!=e.pass)for(var u=e.Sr,h=0;h<u.length-1;h++)if(S._t(t,i,u[h],u[h+1],n)){var a=S.vt(t,n),f=S.vt(i,n);if(!(a<=S.K()||f<=S.K()))return!1}for(var c=s.Qr,l=0;l<c.length;l++){for(var v=c[l],y=v.Zr,d=0;d<y.length;d++)for(var b=y[d],p=0;p<b.length-1;p++)if(S._t(t,i,b[p],b[p+1],n))return!1;for(var w=v.Sr,m=0;m<w.length-1;m++)if(S._t(t,i,w[m],w[m+1],n))return!1}return!0},Jo:function(t,i,n,r,e,s){for(var o=0;o<this.fo.length;o++){var u=this.fo[o],h={};if(1==S._t(u.pr,u.mr,i.Vt,n.Vt,h)&&S.vt(i.Vt,h)>S.K()&&S.vt(n.Vt,h)>S.K())return null}void 0===r&&(r=I.NaviRoadEntry_BOTH),void 0===e&&(e=!0),void 0===s&&(s=!0);var a=new D;a.br=i.Ii,a.pr=i.Vt,a.wr=n.Ii,a.mr=n.Vt,a._r=[i.Vt,n.Vt],a.jr=1,this.po.push(i.Ii),this.po.push(n.Ii),a.Ii=e?this.Wo():this.Ie(),a.Er=r,a.kr(),s&&this.fo.push(a);this.Yo(t).qr.push(a);e=this.tu(t);return I.NaviRoadEntry_BOTH==r&&(s={Be:n.Ii,Cn:a.Cn},(t=e._s.ie.get(i.Ii))?t.push(s):((t=[]).push(s),e._s.ie.set(i.Ii,t)),s={Be:i.Ii,Cn:a.Cn},(t=e._s.ie.get(n.Ii))?t.push(s):((t=[]).push(s),e._s.ie.set(n.Ii,t))),I.NaviRoadEntry_FORWARD==r&&(s={Be:n.Ii,Cn:a.Cn},(t=e._s.ie.get(i.Ii))?t.push(s):((t=[]).push(s),e._s.ie(i.Ii,t))),I.NaviRoadEntry_BACK==r&&(s={Be:i.Ii,Cn:a.Cn},(t=e._s.ie.get(n.Ii))?t.push(s):((t=[]).push(s),e._s.ie.set(n.Ii,t))),a},Ko:function(t){var i=this.ko(t),n=this.so.get(i);if(n)for(var r=0;r<n.length;r++){var e=n[r];if(S.ct(t,e.Sr,e.Nr))return e}return null},Yo:function(t){var i=null;return i=(i=this.xo?this.Js.get(t):i)||this.$s.get(t)},tu:function(t){var i=null;return i=(i=this.xo?this.to.get(t):i)||this.Ks.get(t)},Ou:function(){return this.xo?this.to:this.Ks},Ne:function(){return this._s.Ne()},Ie:function(){return this._s.Ie()},Bo:function(t){var i=[],n=(i.push.apply(i,j(t.Xr)),[]),i=(n.push.apply(n,j(t.qr)),new jr(i,n,!0,1));return(n=i.Hr).push.apply(n,j(t.Hr)),i},Uo:function(t){for(var i=[-1],n=this._s.Jr,r=0;r<n.length;r++){var e=n[r];t.ju(e.Ut.St,e.Ut.Nt)&&i.push(e.Ii)}return i}}),a);function te(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ie(t,i,n){return i&&te(t.prototype,i),n&&te(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ne(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}var re=ie(function t(i){if(ne(this,t),i instanceof Number){this.Eu=i,this.Tu=[];for(var n=0;n<i;n++)this.Tu.push(null)}if(i instanceof Array){this.Mu=i,this.Tu=[];for(var r=0;r<i.length;r++)this.Tu.push(null)}}),ee=(Object.assign(re.prototype,{ku:function(){return this.Tu.length},Ru:function(t,i){if(t<0||t>=this.ku())throw"positon is out of bounder";this.Tu[t]=i},Au:function(t){var i=t;return"string"==typeof t&&(i=this.Mu.indexOf(t)),this.Tu[i]},Su:function(){for(var t=[],i=0;i<this.Tu.length;i++)t.push(this.Tu[i]);return t},hr:function(t){if(this.Tu.length!=t.Tu.length)return!1;if(this.Mu.length!=t.Mu.length)return!1;for(var i=0;i<this.Mu.length;i++)if(this.Mu[i]!=t.Mu[i])return!1;return!0},Nu:function(){for(var t=0==this.Mu.length?new re(this.Tu.length):new re(this.Mu),i=0;i<this.Tu.length;i++)t.Tu[i]=this.Tu[i];return t}}),ie(function t(i){ne(this,t),this.Mu=i,this.Iu=[]})),se=(Object.assign(ee.prototype,{Lu:function(t){if(t instanceof re){if(!new re(t.Mu).hr(t))throw"the appended item is not compatible to the TupleTable";this.Iu.push(t)}else{var i,n=new re(this.Mu);for(i in t){var r=this.Mu.indexOf(i);0<=r&&n.Ru(r,t[i])}this.Iu.push(n)}},Du:function(t,i){for(var n=0;n<this.Iu.length;n++){var r=this.Iu[n];if(r.Au(t)==i)return r}return null},Fu:function(t,i){i=i||-1;for(var n=0;n<this.Iu.length;n++)t(i<0?this.Iu[n]:this.Iu[n].Au(i))},ku:function(){return this.Iu.length},Nu:function(){for(var t=new ee(this.Mu),i=0;i<this.Iu.length;i++)t.Lu(this.Iu[i].Nu());return t},Pu:function(t){for(var i=0;i<this.Iu.length;i++){var n,r=!0;for(n in t)if(this.Iu[i].Au(n)!=t[n]){r=!1;break}r&&(this.Iu.splice(i,1),i--)}},Cu:function(){this.Iu=[]}}),ee);function oe(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ue(t,i,n){return i&&oe(t.prototype,i),n&&oe(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function he(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}Object.assign(ue(function t(){he(this,t),this.items=[]}).prototype,{Uu:function(t){this.items.push(t)},Bu:function(){return this.isEmpty()?"Underflow":this.items.shift()},Zu:function(){return this.isEmpty()?"No elements in Queue":this.items[0]},Gu:function(){return 0==this.items.length},Wu:function(){for(var t="",i=0;i<this.items.length;i++)t+=this.items[i]+" ";return t}});var ae=ue(function t(){he(this,t),this.queue=[],this.offset=0});function fe(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ce(t,i,n){return i&&fe(t.prototype,i),n&&fe(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function le(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}Object.assign(ae.prototype,{Vu:function(){return this.queue.length-this.offset},Gu:function(){return 0==this.queue.length},Uu:function(t){this.queue.push(t)},Bu:function(){var t;if(0!=this.queue.length)return t=this.queue[this.offset],2*++this.offset>=this.queue.length&&(this.queue=this.queue.slice(this.offset),this.offset=0),t},Yu:function(){return 0<this.queue.length?this.queue[this.offset]:void 0}});var ve=ce(function t(i){le(this,t),this.adj=i||[]}),a=(Object.assign(ve.prototype,{zu:function(t){for(var i in this.adj)if(t==i[0])return!0;return!1},Xu:function(t){if(null==t)return null;for(var i in this.adj)if(t==this.adj[i][0])return this.adj[i][1];return null},Lu:function(t){this.adj.push(t)}}),ce(function t(i){for(var n in le(this,t),this.qu=new Map,i){for(var r=i[n][0],e=(this.qu.has(r)||this.qu.set(r,new ve),[]),s=1;s<i[n].length;s++)e.push(i[n][s]);this.qu.get(r).Lu(e)}})),ye=(Object.assign(a.prototype,{Au:function(t){return this.qu.has(t)?this.qu.get(t):null},Hu:function(t,i){return this.qu.has(t)?this.qu.get(t).Xu(i):null},Qu:function(){return this.qu.keys},$u:function(t,i,n){n=n||[];for(var r,e,s=this.Qu(),o=1/0,u={dist:1/0,transit:null},h=0;h<s.length;h++)-1==n.indexOf(s[h])&&(r=this.Hu(t,s[h]),e=this.Hu(s[h],i),null!=r&&null!=e&&r+e<o&&(u={dist:r+e,transit:s[h]},o=r+e));return u}}),a);function de(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function be(t,i,n){return i&&de(t.prototype,i),n&&de(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function pe(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}var we=be(function t(i){pe(this,t),this.Ju=i||[]}),a=(Object.assign(we.prototype,{Ku:function(t){for(var i=-1,n=0;n<this.Ju.length;n++)if(this[n]==t){i=n;break}i<0||this.Ju.splice(i,1)},th:function(t){for(var i=[],n=0;n<this.Ju.length;n++)i.push(this.Ju[n]);for(var r=-1,e=0;e<i.length;e++)if(i[e]==t){r=e;break}if(!(r<0))return i.splice(r,1),i},Su:function(){for(var t=[],i=0;i<this.Ju.length;i++)t.push(this.Ju[i]);return t},Cn:function(){return this.Ju.length}}),be(function t(i){pe(this,t),0!=i.length&&(this.qu=new ye(i))})),me=(Object.assign(a.prototype,{ih:function(t){return this.nh=t,this},rh:function(t){return this.eh=t,this},sh:function(t){return this.Ju=t,this},oh:function(){this.Ci=this.uh(this.nh,this.eh,this.Ju)},hh:function(){return this.Ci},uh:function(t,i,n){if(0==n.length){if(t==i)return{route:[t],dist:0};var r,e=this.qu.Hu(t,i);return null==e?{route:[t,(r=this.qu.$u(t,i,this.Ju)).transit,i],dist:r.dist}:{route:[t,i],dist:e}}for(var s=new we(n),o=s.Su(),u=1/0,h=[],a=0;a<s.Cn();a++){var f,c=o[a],l=this.uh(t,c,s.th(c));null!=l.dist&&(null==(f=this.qu.Hu(c,i))?(f=(c=this.qu.$u(c,i,this.Ju)).dist)+l.dist<u&&(u=f+l.dist,l.route.push(c.transit),l.route.push(i),h=l.route):f+l.dist<u&&(u=f+l.dist,l.route.push(i),h=l.route))}return{route:h,dist:u}}}),a);function A(t){return function(t){if(Array.isArray(t))return xe(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||_e(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(t,i){var n,r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=_e(t))||i&&t&&"number"==typeof t.length)return r&&(t=r),n=0,{s:i=function(){},n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e,s=!0,o=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return s=t.done,t},e:function(t){o=!0,e=t},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw e}}}}function _e(t,i){if(t){if("string"==typeof t)return xe(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xe(t,i):void 0}}function xe(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,r=new Array(i);n<i;n++)r[n]=t[n];return r}function ge(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var a=function(){function n(t,i){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");this.Ii=t,this.qs=null,this.Hs=null,this._s=i,this.Qs=new Map,this.$s=new Map,this.ah=null,this.fh=new Map,this.io=[],this.no=Number.INT_MIN,this.ro=Number.INT_MIN,this.eo=-1,this.xs=null,this.gs=null,this.Es=g.MODULE_SHORTEST,this.so=new Map,this.oo=new Map,this.uo=new Map,this.ho=[],this.ao=[],this.fo=[],this.co=[],this.vo=100,this.yo=-1,this.do=15,this.bo=.1,this.ch=[],this.lh=[],this.vh=[],this.Oo(),this.jo(),this.Eo(),this.To(),this.Mo(),this.yh=new se(["num","id","idx","node"]),this.dh=new Map,this.bh=new ae,this.ir=!1,this.ph=[],this.zt=null}var t,i,r;return t=n,(i=[{key:"level",get:function(){return this.Pn},set:function(t){this.Pn=t}}])&&ge(t.prototype,i),r&&ge(t,r),Object.defineProperty(t,"prototype",{writable:!1}),n}(),Oe=(Object.assign(a.prototype,{wh:function(t){this.mh=null==t?[]:t,this._h()},xh:function(t){var i;t instanceof L?(this.xs=t,this.yh.Lu({num:this.yh.ku(),id:t.Ii,idx:this._s.Ze(t.Ii),node:t})):(i=new L,this.gh(t,i)||this.lh.push(t),this.xs=i,this.yh.Lu({num:this.yh.ku(),id:i.Ii,idx:this._s.Ze(i.Ii),node:i}))},Oh:function(t){var i;t instanceof L?(this.gs=t,this.yh.Lu({num:this.yh.ku(),id:t.Ii,idx:this._s.Ze(t.Ii),node:t})):(i=new L,this.gh(t,i)||this.lh.push(t),this.gs=i,this.yh.Lu({num:this.yh.ku(),id:i.Ii,idx:this._s.Ze(i.Ii),node:i}))},jh:function(t,i){for(var n=0,r=0;r<i.length;r++){var e=(t.x-i[r].x)*(t.x-i[r].x)+(t.y-i[r].y)*(t.y-i[r].y);n+=Math.sqrt(e)}return n},Eh:function(){for(var t=this._s.$e(),i=0;i<t.length;i++)t[i].tr=this.jh(t[i].Vt,this.Th().mh),t[i].tr+=this.jh(t[i].Vt,this.mh),t[i].tr=t[i].tr/(0==this.Th().mh.length?1:this.Th().mh.length),t[i].er==I.NaviLiftType_Escalator&&(t[i].tr-=25),t[i].er==I.NaviLiftType_Lift&&(t[i].tr-=25);t.sort(function(t,i){return t.tr-i.tr});for(var n=this.Pn-this.Th().Pn<0,r=0;r<t.length;r++){var e=t[r];if(n){if(e.sr==I.NaviLiftEntry_DOWN||e.sr==I.NaviLiftEntry_FORBID)continue}else if(e.sr==I.NaviLiftEntry_UP||e.sr==I.NaviLiftEntry_FORBID)continue;if(e.er==I.NaviLiftType_Stair||e.er==I.NaviLiftType_Ramp){if(this.Th().Mh(e.Qn))return e}else if(-1!=e.qn.indexOf(this.Th().Pn)&&this.Th().Mh(e.Qn))return e}return null},kh:function(t){for(var i=this._s.$e(),n=t.Pn,r=this.Pn,e=0;e<i.length;e++){var s=i[e];if((1==this.zt||I.NaviLiftType_Stair==s.er||-1!=s.qn.indexOf(n))&&null!=t.Mh(s.Qn))if(s.sr==I.NaviLiftEntry_UP){if(r<n)return{related:!0,dist:Math.abs(r-n)}}else if(s.sr==I.NaviLiftEntry_DOWN){if(n<r)return{related:!0,dist:Math.abs(r-n)}}else if(s.sr==I.NaviLiftEntry_BOTH)return{related:!0,dist:Math.abs(r-n)}}return{related:!1,dist:1/0}},Mh:function(t){0==this.ph.length&&(this.ph=this._s.$e());for(var i=0;i<this.ph.length;i++)if(this.ph[i].Qn==t)return this.ph[i];return null},Rh:function(t){var i=this._s.Qr[0].Sr;return!!S.ct(t,i,i.length-1)},Cs:function(){return this.io},wi:function(){this.qs=null,this.Hs=null,this._s.wi(),this._s=null,this.Qs.clear(),this.Qs=null;var t,i=F(this.$s);try{for(i.s();!(t=i.n()).done;)t.value[1].wi()}catch(t){i.e(t)}finally{i.f()}this.$s.clear(),(this.$s=null)!=this.ah&&(this.ah.wi(),this.ah=null),this.fh.each(function(t,i){i.wi()}),this.fh.clear(),this.fh=null,this.io=[],this.xs=null,this.gs=null,this.so.clear(),this.so=null,this.oo.clear(),this.oo=null,this.uo.clear(),this.oo=null,this.ho=[],this.ao=[],this.fo=[],this.co=[]},dn:function(){this.io=[],this.Lo(-1),this.Lo(this.no),this.no=Number.INT_MIN,this.Lo(this.ro),this.ro=Number.INT_MIN,this.Do(),this.ch=[],this.eo=-1;for(var t=0;t<this.ho.length;t++){var i=this.ho[t];this.Fo(i.Po,i.Ys,I.NaviRoadHinderType_HINDER_HIGH)}this.ho=[],this.ao=[],this.fo=[],this.co=[]},Ah:function(t){this.bh.Uu(t)},Th:function(){return this.bh.Yu()},Sh:function(){return this.bh.Bu()},Nh:function(){var o=this;this.Ih=[],this.yh.Fu(function(t){for(var i=t.Au("node"),t=o.yh.Nu(),n=(t.Pu({node:i}),[]),r=(t.Fu(function(t){n.push(t.Au("id"))}),o.fh.get(-1).Rs(i.Ii,n,o.Es),o.fh.get(-1).Is()),e=0;e<r.length;e++){var s=r[e];o.Ih.push([i.Ii,s[s.length-1].Ii,function(t){for(var i=0,n=0;n<t.length-1;n++){var r=t[n].Vt.x-t[n+1].Vt.x,e=t[n].Vt.y-t[n+1].Vt.y;i+=Math.sqrt(r*r+e*e)}return i}(s),s])}})},Lh:function(){this.Ci=[];for(var t=function(t,i){for(var n=0;n<this.length;n++)if(this[n][0]==t&&this[n][1]==i)return this[n]},i=0;i<this.oh.route.length-1;i++)for(var n=this.oh.route[i],r=this.oh.route[i+1],e=t.apply(this.Ih,[n,r]),s=0;s<e[3].length;s++)this.Ci.push(e[3][s])},hh:function(){return this.Ci},Vo:function(t){var i=this._s.fe(t);if(-1==i)return null;var n=this.Dh(t),r=this.$s.get(n).findModel(t,-0);if(null==r)return{xr:i,Ys:null};if(r.pass==I.NaviModelPassType_PASS_THROUGH||r.pass==I.NaviModelPassType_PASS_NOT_THROUGH){if(0<r.Gr.length)return{xr:i,Ys:r};for(var e={},s=[],o=[],u=this.$s.get(n).qr,h=!0,a=0;a<r.Nr;a++)for(var f=r.Sr[a],c=r.Sr[a+1],l=0;l<u.length;l++){var v=u[l];1==S._t(f,c,v.pr,v.mr,e)&&(h=!1,I.NaviRoadEntry_FORBID!=v.Er&&((v=new Object).x=e.x,v.y=e.y,s.push(v),o.push(u[l])))}if(h)return{xr:i,Ys:r};if(0==s.length)return null;r.Gr=[],r.Vr=[],r.Wr=[];for(var y=0;y<s.length;y++){var d=s[y],b=o[y],d=this.zo(n,d,b);d.rr=I.NaviNodeType_COMMON,b.Er==I.NaviRoadEntry_BOTH?d.entranceType=I.NaviEntranceType_ACCESS:S.ct(b.pr,r.Sr,r.Nr)?(b.Er==I.NaviRoadEntry_FORWARD&&(d.entranceType=I.NaviEntranceType_EXIT),b.Er==I.NaviRoadEntry_BACK&&(d.entranceType=I.NaviEntranceType_ENTRANCE)):(b.Er==I.NaviRoadEntry_FORWARD&&(d.entranceType=I.NaviEntranceType_ENTRANCE),b.Er==I.NaviRoadEntry_BACK&&(d.entranceType=I.NaviEntranceType_EXIT)),r.Gr.push(d),r.Vr.push(d.entranceType),r.Wr.push(d.rr)}}return r.pass!=I.NaviModelPassType_NOT_PASS?{xr:i,Ys:r}:null},Ro:function(t,i){var n=this,r=(this.xs=this.Io(this.no,t),null),e=!0,r=null!=this.qs&&this.qs.pass==I.NaviModelPassType_PASS_THROUGH&&0==this.qs.Gr.length?this.Ho(this.no,t,i,30,this.qs):this.Ho(this.no,t,i);if(null==this.qs&&(e=!1),0<r.size){var s,e=!1,o=F(r);try{for(o.s();!(s=o.n()).done;)for(var u=s.value[1],h=0;h<u.length;h++)0!=u[h].Vs.Er&&(e=!0)}catch(t){o.e(t)}finally{o.f()}var a,f=!1,c=[],l=F(r);try{for(l.s();!(a=l.n()).done;){var v,y=a.value[1],d=y[0].Vs,b=this.Qo(this.no,t,d,y,this.qs);if(0==b.length){var p,w=F(y);try{for(w.s();!(p=w.n()).done;){var m=p.value,_=this.$o(this.no,m.st,m.Vs);this.Jo(this.no,this.xs,_)}}catch(t){w.e(t)}finally{w.f()}}else Math.abs(b[0].bu)>S.K()?c.push.apply(c,A(b)):(f=!0,v=this.$o(this.no,b[0].st,b[0].Vs),this.Jo(this.no,this.xs,v))}}catch(t){l.e(t)}finally{l.f()}f||c.forEach(function(t){t=n.$o(n.no,t.st,t.Vs);n.Jo(n.no,n.xs,t)})}if(e&&null!=this.qs&&0<this.qs.Gr.length){for(var x=!1,g=0;g<this.qs.Gr.length;g++){var O=this.qs.Gr[g],j=this.qs.Vr[g];j!=I.NaviEntranceType_EXIT&&j!=I.NaviEntranceType_ACCESS||(this.Jo(this.no,this.xs,O),x=!0)}if(!x)return R.ROUTE_FAILED_NO_DATA_START}},Ao:function(t,i){var n=this,r=(this.gs=this.Io(this.ro,t),null),e=!0,r=null!=this.Hs&&this.Hs.pass==I.NaviModelPassType_PASS_THROUGH&&0==this.Hs.Gr.length?this.Ho(this.ro,t,i,30,this.Hs):this.Ho(this.ro,t,i);if(null==this.Hs&&(e=!1),0<r.size){var s,e=!1,o=F(r);try{for(o.s();!(s=o.n()).done;)for(var u=s.value[1],h=0;h<u.length;h++)0!=u[h].Vs.Er&&(e=!0)}catch(t){o.e(t)}finally{o.f()}var a,f=!1,c=[],l=F(r);try{for(l.s();!(a=l.n()).done;){var v,y=a.value[1],d=y[0].Vs,b=this.Qo(this.ro,t,d,y,this.Hs);if(0==b.length){var p,w=F(y);try{for(w.s();!(p=w.n()).done;){var m=p.value,_=this.$o(this.ro,m.st,m.Vs);this.Jo(this.ro,this.gs,_)}}catch(t){w.e(t)}finally{w.f()}}else Math.abs(b[0].bu)>S.K()?c.push.apply(c,A(b)):(f=!0,v=this.$o(this.ro,b[0].st,b[0].Vs),this.Jo(this.ro,this.gs,v))}}catch(t){l.e(t)}finally{l.f()}f||c.forEach(function(t){t=n.$o(n.ro,t.st,t.Vs);n.Jo(n.ro,n.gs,t)})}if(e&&null!=this.Hs&&0<this.Hs.Gr.length){for(var x=!1,g=0;g<this.Hs.Gr.length;g++){var O=this.Hs.Gr[g],j=this.Hs.Vr[g];j!=I.NaviEntranceType_EXIT&&j!=I.NaviEntranceType_ACCESS||(this.Jo(this.ro,this.gs,O),x=!0)}if(!x)return R.ROUTE_FAILED_NO_DATA_DEST}},gh:function(t,i,n){var r=this,e=null,s=!0,o={x:(t=t instanceof Array&&2==t.length?{x:t[0],y:t[1]}:t).x,y:t.y},u=this._s.ze(t),h=this._s.Xe(t),a=this.Io(h,t);if(a.Fh=void 0!==n&&n,Object.assign(i,a),null==u&&(s=!1),0<(e=null!=u&&u.pass==I.NaviModelPassType_PASS_THROUGH&&0==u.Gr.length?this.Ho(h,t,o,30,u):this.Ho(h,t,o)).size){var f,s=!1,c=F(e);try{for(c.s();!(f=c.n()).done;)for(var l=f.value[1],v=0;v<l.length;v++)0!=l[v].Vs.Er&&(s=!0)}catch(t){c.e(t)}finally{c.f()}var y,d=!1,b=[],p=F(e);try{for(p.s();!(y=p.n()).done;){var w,m=y.value[1],_=m[0].Vs,x=this.Qo(h,t,_,m,u);if(0==x.length){var g,O=F(m);try{for(O.s();!(g=O.n()).done;){var j=g.value,E=this.$o(h,j.st,j.Vs);this.Jo(h,i,E)}}catch(t){O.e(t)}finally{O.f()}}else Math.abs(x[0].bu)>S.K()?b.push.apply(b,A(x)):(d=!0,w=this.$o(h,x[0].st,x[0].Vs),this.Jo(h,i,w))}}catch(t){p.e(t)}finally{p.f()}d||b.forEach(function(t){t=r.$o(h,t.st,t.Vs);r.Jo(h,i,t)})}if(s&&null!=u&&0<u.Gr.length){for(var T=!1,M=0;M<u.Gr.length;M++){var k=u.Gr[M],R=u.Vr[M];R!=I.NaviEntranceType_EXIT&&R!=I.NaviEntranceType_ACCESS||(this.Jo(h,i,k),T=!0)}if(!T)return!1}return!0},Ps:function(){var t=this.Ko(this.xs.Vt),t=(t&&(this.Fo(this.no,t,I.NaviRoadHinderType_HINDER_GENERAL),this.ho.push({Po:this.no,Ys:t})),this.Ko(this.gs.Vt));if(t&&(this.Fo(this.ro,t,I.NaviRoadHinderType_HINDER_GENERAL),this.ho.push({Po:this.ro,Ys:t})),this.io=[],this.no==this.ro){var t=this.fh.get(this.no),i=t.Ps(this.xs,this.gs,this.Es);if(i!=R.ROUTE_SUCCESS)return i;i=t.Cs();this.io=[],i.reverse(),(t=this.io).push.apply(t,A(i))}else{if(-1!=this.no&&-1==this.ro){var t=this.iu(this.xs.Vt,this.no,I.NaviEntranceType_EXIT),i=this.fh.get(this.no),n=i.Ps(this.xs,t,this.Es);if(n!=R.ROUTE_SUCCESS)return n;var r=i.Cs(r),i=this.fh.get(-1);if((n=i.Ps(t,this.gs,this.Es))!=R.ROUTE_SUCCESS)return n;t=i.Cs();r.reverse(),t.reverse(),(n=this.io).push.apply(n,A(r)),(i=this.io).push.apply(i,A(t))}if(-1==this.no&&-1!=this.ro){var n=this.iu(this.gs.Vt,this.ro,I.NaviEntranceType_ENTRANCE),r=this.fh.get(this.ro),i=r.Ps(n,this.gs,this.Es);if(i!=R.ROUTE_SUCCESS)return i;t=r.Cs(),r=this.fh.get(-1);if((i=r.Ps(this.xs,n,this.Es))!=R.ROUTE_SUCCESS)return i;n=r.Cs();n.reverse(),t.reverse(),(i=this.io).push.apply(i,A(n)),(r=this.io).push.apply(r,A(t))}if(-1!=this.no&&-1!=this.ro){i=this.iu(this.xs.Vt,this.no,I.NaviEntranceType_EXIT),n=this.fh.get(this.no),r=n.Ps(this.xs,i,this.Es);if(r!=R.ROUTE_SUCCESS)return r;var e=n.Cs(e),t=this.iu(this.gs.Vt,this.ro,I.NaviEntranceType_ENTRANCE),n=this.fh.get(this.ro);if((r=n.Ps(t,this.gs,this.Es))!=R.ROUTE_SUCCESS)return r;var s=n.Cs(s),n=this.fh.get(-1);if((r=n.Ps(i,t,this.Es))!=R.ROUTE_SUCCESS)return r;i=n.Cs();e.reverse(),i.reverse(),s.reverse(),(t=this.io).push.apply(t,A(e)),(r=this.io).push.apply(r,A(i)),(n=this.io).push.apply(n,A(s))}}return R.ROUTE_SUCCESS},nu:function(t,i,n){for(var r=0;r<i;r++)if(null!=t[r]&&t[r].Ii==n)return r;return-1},Dh:function(t){for(var i=this._s.Jr,n=0;n<i.length;n++){var r=i[n];if(r.Ur(t))return r.Ii}return-1},Oo:function(){for(var t=this._s.Jr,i=0;i<t.length;i++){var n=t[i],r=this.ru(this._s,n);this.$s.set(n.Ii,r)}this.$s.set(-1,this._s);var e,s=F(this.$s);try{for(s.s();!(e=s.n()).done;){var o=e.value;o[1].ae(),this.fh.set(o[0],new Br(o[1]))}}catch(t){s.e(t)}finally{s.f()}},ru:function(t,i){if(t&&i){for(var n,r=0,e=0,s=t.qr.length,o=t.Xr.length,u=t.qr,h=t.Xr,a=0,f=new Int8Array(s),c=0;c<s;c++)u[c]&&u[c].Er!=I.NaviRoadEntry_FORBID&&(n=u[c],r=i.contain(n.pr),e=i.contain(n.mr),0==r&&0==e||(a=!0),1==r&&1==e&&(f[c]=1),1==r&&0==e&&(f[c]=2),0==r&&1==e&&(f[c]=3),0==r&&0==e&&(f[c]=4),2==r&&0==e&&(f[c]=6),2==r&&1==e&&(f[c]=7),0==r&&2==e&&(f[c]=8),1==r&&2==e&&(f[c]=9));if(0==a)return null;for(var l,v,y,d,b,p,w=new Array(o),m=new Array(s),_=0,x=new Int8Array(o),g=f.length,O=0,j=g;O<j;O++)0!=f[O]&&6!=f[O]&&8!=f[O]&&1!=f[O]&&u[O]&&(p=(l=u[O]).Er,b=[l.Ii],2==f[O]||9==f[O]?(v=null,v=2==f[O]?i._t(l.pr,l.mr):Object.assign({},l.mr),(y=new L).Ii=this._s.Ne(),y.rr=I.NaviNodeType_COMMON,y.er=I.NaviLiftType_NULL,y.entranceType=I.NaviEntranceType_ACCESS,y.Vt=Object.assign({},v),(v=new D).setRoad(l),v.Ii=this._s.Ie(),b.push(v.Ii),y.segLinks=b,(d=new L).setNode(y),p==I.NaviRoadEntry_FORWARD?d.entranceType=I.NaviEntranceType_EXIT:p==I.NaviRoadEntry_BACK&&(d.entranceType=I.NaviEntranceType_ENTRANCE),i.Pr.push(d),_=this.nu(h,o,v.wr),v.mr=Object.assign({},d.Vt),v._r[1]=Object.assign({},d.Vt),v.wr=d.Ii,v.kr(),m[O]=v,w[_]=d,w[_=this.nu(h,o,v.br)]=h[_],w[_].segLinks.splice(w[_].segLinks.indexOf(l.Ii),1,v.Ii),(d=new L).setNode(y),l.br=d.Ii,l.pr=Object.assign({},d.Vt),l._r[0]=Object.assign({},d.Vt),l.kr(),h[_].segLinks.splice(h[_].segLinks.indexOf(l.Ii),1),h.push(d),x[_]=2):3!=f[O]&&7!=f[O]||(v=null,v=3==f[O]?i._t(l.pr,l.mr):Object.assign({},l.pr),(y=new L).Ii=this._s.Ne(),y.rr=I.NaviNodeType_COMMON,y.er=I.NaviLiftType_NULL,y.entranceType=I.NaviEntranceType_ACCESS,y.Vt=Object.assign({},v),(d=new D).setRoad(l),d.Ii=this._s.Ie(),b.push(d.Ii),y.segLinks=b,(b=new L).setNode(y),p==I.NaviRoadEntry_FORWARD?b.entranceType=I.NaviEntranceType_ENTRANCE:p==I.NaviRoadEntry_BACK&&(b.entranceType=I.NaviEntranceType_EXIT),i.Pr.push(b),_=this.nu(h,o,d.br),d.pr=Object.assign({},b.Vt),d._r[0]=Object.assign({},b.Vt),d.br=b.Ii,d.kr(),m[O]=d,w[_]=b,w[_=this.nu(h,o,d.wr)]=h[_],w[_].segLinks.splice(w[_].segLinks.indexOf(l.Ii),1,d.Ii),(p=new L).setNode(y),l.wr=p.Ii,l.mr=Object.assign({},p.Vt),l._r[1]=Object.assign({},p.Vt),l.kr(),h[_].segLinks.splice(h[_].segLinks.indexOf(l.Ii),1),h.push(p),x[_]=2));for(var E,T=0,M=g;T<M;T++)1==f[T]&&((E=u[T])&&(m[T]=E,2!=x[_=this.nu(h,o,E.br)]&&(w[_]=h[_],x[_]=1),2!=x[_=this.nu(h,o,E.wr)]&&(w[_]=h[_],x[_]=1),u[T]=null));for(var k=0;k<o;k++)1==x[k]&&(h[k]=null);for(var g=new jr(w,m,!0,1),R=[],A=t.Hr,S=0;S<A.length;S++){var N=A[S];N&&this.eu(N,i)&&R.push(N)}return(t=g.Hr).push.apply(t,R),g}},jo:function(){var t,i=F(this.$s);try{for(i.s();!(t=i.n()).done;)for(var n=t.value,r=n[0],e=n[1].Hr,s=0;s<e.length;s++){var o,u=e[s];I.NaviModelPassType_PASS_NOT_THROUGH==u.pass&&((o=this.so.get(r))||(o=[],this.so.set(r,o)),o.push(u))}}catch(t){i.e(t)}finally{i.f()}},Eo:function(){var t,i=F(this.$s);try{for(i.s();!(t=i.n()).done;)for(var n=t.value,r=n[0],e=n[1].Hr,s=0;s<e.length;s++){var o,u=e[s];I.NaviModelPassType_NOT_PASS==u.pass&&((o=this.oo.get(r))||(o=[],this.oo.set(r,o)),o.push(u))}}catch(t){i.e(t)}finally{i.f()}},To:function(){var t,i=F(this.so);try{for(i.s();!(t=i.n()).done;)for(var n=t.value,r=n[0],e=n[1],s=this.$s.get(r).qr,o=0;o<e.length;o++){for(var u=e[o],h=0;h<s.length;h++){var a,f=s[h].Ar();S.ct(f,u.Sr,u.Nr)&&(s[h].Cn=s[h].Cn*this.vo,(a=this.uo.get(u.Ii))||(a=[],this.uo.set(u.Ii,a)),a.push(s[h]))}this.Fo(r,u,I.NaviRoadHinderType_HINDER_HIGH)}}catch(t){i.e(t)}finally{i.f()}},_h:function(){for(var t=0;t<this.mh.length;t++){var i=new L;this.gh(this.mh[t],i,!0)?(this.vh.push(i),this.yh.Lu({num:this.yh.ku(),id:i.Ii,idx:this._s.Ze(i.Ii),node:i})):this.lh.push(this.mh[t])}},Mo:function(){var t,i=F(this.oo);try{for(i.s();!(t=i.n()).done;)for(var n=t.value,r=n[0],e=n[1],s=this.$s.get(r).qr,o=0;o<e.length;o++)for(var u=e[o],h=0;h<s.length;h++){var a=s[h],f=a.Er,c=a.Ar();if(S.ct(c,u.Sr,u.Nr-1)){if(a.Cn=Number.MAX_VALUE,f==I.NaviRoadEntry_BOTH||f==I.NaviRoadEntry_FORWARD){var l=this.$s.get(r).ie.get(a.br);if(l)for(var v=0;v<l.length;v++)l[v].Be==a.wr&&(l[v].Cn=a.Cn)}if(a.Er==I.NaviRoadEntry_BOTH||a.Er==I.NaviRoadEntry_BACK){var y=this.$s.get(r).ie.get(a.wr);if(y)for(var d=0;d<y.length;d++)y[d].Be==a.br&&(y[d].Cn=a.Cn)}}}}catch(t){i.e(t)}finally{i.f()}},Fo:function(t,i,n){var r=this.uo.get(i.Ii);if(r){if(I.NaviRoadHinderType_HINDER_HIGH==n)for(var e=0;e<r.length;e++){var s=r[e];if(s.kr(),s.Cn=r.length*this.vo,s.Er==I.NaviRoadEntry_BOTH||s.Er==I.NaviRoadEntry_FORWARD){var o=this.$s.get(t).ie.get(s.br);if(o)for(var u=0;u<o.length;u++)o[u].Be==s.wr&&(o[u].Cn=s.Cn)}if(s.Er==I.NaviRoadEntry_BOTH||s.Er==I.NaviRoadEntry_BACK){var h=this.$s.get(t).ie.get(s.wr);if(h)for(var a=0;a<h.length;a++)h[a].Be==s.br&&(h[a].Cn=s.Cn)}}if(I.NaviRoadHinderType_HINDER_GENERAL==n)for(var f=0;f<r.length;f++){var c=r[f];if(c.kr(),c.Er==I.NaviRoadEntry_BOTH||c.Er==I.NaviRoadEntry_FORWARD){var l=this.$s.get(t).ie.get(c.br);if(l)for(var v=0;v<l.length;v++)l[v].Be==c.wr&&(l[v].Cn=c.Cn)}if(c.Er==I.NaviRoadEntry_BOTH||c.Er==I.NaviRoadEntry_BACK){var y=this.$s.get(t).ie.get(c.wr);if(y)for(var d=0;d<y.length;d++)y[d].Be==c.br&&(y[d].Cn=c.Cn)}}}},iu:function(t,i,n){var r=this._s.getZone(i);if(null==r)return null;for(var e=this.$s.get(i).Se(t,void 0),s=(e.area,Number.MAX_VALUE),o=null,u=0;u<r.Pr.length;u++){var h,a=r.Pr[u],f=S.vt(a.Vt,t);a.entranceType!=I.NaviEntranceType_ACCESS&&a.entranceType!=n||f<s&&((h=this.su(i,a.Vt))!=e&&h.pass==I.NaviModelPassType_PASS_NOT_THROUGH||(s=f,o=a))}return o},su:function(t,i){for(var n=null,t=this.$s.get(t),r=Number.MAX_VALUE,e=Number.MAX_VALUE,s=null,o=t.Hr,u=0;u<o.length;u++){var h,a=o[u];(h=S.ct(i,a.Sr,a.Sr.length-1))<e&&(e=h,s=a),this.bo>h&&((h=a.area)<r&&(r=h,n=a))}return null==n?s:n},eu:function(t,i){if(t.bb.isSeparate(i.bb))return!1;t=t.Ft;return!!S.ct(t,i.Sr,i.Nr)},$o:function(t,i,n){for(var r=this.ch.find(function(t){return t==n.br}),e=this.ch.find(function(t){return t==n.wr}),s=(null==r&&this.ch.push(n.br),null==e&&this.ch.push(n.wr),this.co),o=null,u=0;u<s.length;u++)if(s[u].uu==n){o=s[u];break}if(null==o)(o={}).uu=n,s.push(o);else for(;null!=o.hu;)var h=o.hu.uu,o=S.at(i,h.pr,h.mr)?o.hu:o.au;n=o.uu;var r=new L,e=(r.Ii=this.Ph(),r.Vt=i,new D),a=(e.Ii=this.Ph(),e.br=n.br,e.pr=n.pr,e.wr=r.Ii,e.mr=r.Vt,e._r=[n.pr,r.Vt],new D),f=(a.Ii=this.Ph(),a.br=r.Ii,a.pr=r.Vt,a.wr=n.wr,a.mr=n.mr,a._r=[r.Vt,n.mr],this.ao.push(e),this.ao.push(a),{}),c=(f.uu=e,{}),f=(c.uu=a,o.hu=f,o.au=c,r.tempType=1,e.tempType=1,a.tempType=1,e.kr(),a.kr(),e.Er=n.Er,a.Er=n.Er,this.$s.get(t)),c=(f.Xr.push(r),f.qr.push(e),f.qr.push(a),this.fh.get(t)._s);return c.se.set(r.Ii,f.Xr.length-1),n.Er==I.NaviRoadEntry_BOTH&&((t=[]).push({Be:n.br,Cn:e.Cn}),t.push({Be:n.wr,Cn:a.Cn}),c.ie.set(r.Ii,t),(t=c.ie.get(n.br))||c.ie.set(n.br,t=[]),t.push({Be:r.Ii,Cn:e.Cn}),(t=c.ie.get(n.wr))||c.ie.set(n.wr,t=[]),t.push({Be:r.Ii,Cn:a.Cn})),n.Er==I.NaviRoadEntry_FORWARD&&((f=[]).push({Be:n.wr,Cn:a.Cn}),c.ie.set(r.Ii,f),(f=c.ie.get(n.br))||c.ie.set(n.br,f=[]),f.push({Be:r.Ii,Cn:e.Cn})),n.Er==I.NaviRoadEntry_BACK&&((t=[]).push({Be:n.br,Cn:e.Cn}),c.ie.set(r.Ii,t),(t=c.ie.get(n.wr))||c.ie.set(n.wr,t=[]),t.push({Be:r.Ii,Cn:a.Cn})),r},fu:function(t,i){for(var n=i.length-1;0<=n;n--)if(i[n].Ii&&0<i[n].Ii)return i.splice(n+1,0,t),n+1;return-1},zo:function(t,i,n,r){if(r)return this.$o(t,i,n);var r=this.$s.get(t),t=new L,i=(t.Ii=r.Ne(),t.Vt=i,new D),e=(i.Ii=r.Ie(),i.br=n.br,i.pr=n.pr,i.wr=t.Ii,i.mr=t.Vt,i._r=[n.pr,t.Vt],new D),s=(e.Ii=r.Ie(),e.br=t.Ii,e.pr=t.Vt,e.wr=n.wr,e.mr=n.mr,e._r=[t.Vt,n.mr],[]),s=(s.push(i.Ii),s.push(e.Ii),t.segLinks=s,i.kr(),e.kr(),i.Er=n.Er,e.Er=n.Er,r.Xr),o=r.qr,s=this.fu(t,s);return this.fu(i,o),this.fu(e,o),r.se.set(t.Ii,s),n.Er==I.NaviRoadEntry_BOTH&&((o=[]).push({Be:n.br,Cn:i.Cn}),o.push({Be:n.wr,Cn:e.Cn}),r.ie.set(t.Ii,o),(o=r.ie.get(n.br))||r.ie.set(n.br,o=[]),o.push({Be:t.Ii,Cn:i.Cn}),(o=r.ie.get(n.wr))||r.ie.set(n.wr,o=[]),o.push({Be:t.Ii,Cn:e.Cn})),n.Er==I.NaviRoadEntry_FORWARD&&((s=[]).push({Be:n.wr,Cn:e.Cn}),r.ie.set(t.Ii,s),(s=r.ie.get(n.br))||r.ie.set(n.br,s=[]),s.push({Be:t.Ii,Cn:i.Cn})),n.Er==I.NaviRoadEntry_BACK&&((o=[]).push({Be:n.br,Cn:i.Cn}),r.ie.set(t.Ii,o),(o=r.ie.get(n.wr))||r.ie.set(n.wr,o=[]),o.push({Be:t.Ii,Cn:e.Cn})),t},cu:function(t){if(null!=t){for(var i=this.$s.get(t),n=i.Xr.length-1;0<=n;n--){var r=i.Xr[n];if(null==r||0<=r.Ii)break;i.Xr.splice(n,1)}for(var e=i.qr.length-1;0<=e;e--){var s=i.qr[e];if(null==s||0<=s.Ii)break;i.qr.splice(e,1)}}},lu:function(t,i){var n=t.get(i);if(n)for(var r=0;r<n.length;r++)n[r].Be<0&&(n.splice(r,1),r--)},vu:function(t,i){for(var n=t.get(i),r=0;r<n.length;r++)this.lu(t,n[r].Be);t.delete(i)},Ch:function(t,i,n,r,e,s){e.du=Number.MAX_VALUE,e.zs=!1,e.bu=n;for(var o=Number.MAX_VALUE,u={},h=this.$s.get(t),a=0;a<h.qr.length;a++){var f,c=h.qr[a];null==c||c.Ii<0||!S.At(i,n,c.pr,c.mr,u)||(f=S.vt(i,u))<o&&(o=f,e.st=Object.assign({},u),e.vt=o,e.Vs=c,e.zs=!0)}if(!e.zs)return!1;for(var h=this.$s.get(-1),l={},v=0;v<h.Hr.length;v++){var y=h.Hr[v];if(null!=y&&y!=s&&(I.NaviModelPassType_DECORATE!=y.pass&&(null==s||s.pass==I.NaviModelPassType_DECORATE||!S.ct(s.Ft,y.Sr,y.Sr.length-1))))for(var d=y.Sr.length,b=0;b<d-1;b++)if(S.At(i,n,y.Sr[b],y.Sr[b+1],l)){var p=S.vt(i,l);if(p<o)return o=p,e.Ys=y,e.vt=Number.MAX_VALUE,e.zs=!1,e.Xs=I.NaviObstructType_MODEL,!1}}for(var w={},m=h.Qr,_=0;_<m.length;_++){for(var x=m[_],g=m[_].Zr,O=0;O<g.length;O++)for(var j=g[O],E=0;E<j.length-1;E++)if(S.At(i,n,j[E],j[E+1],w)){var T=S.vt(i,w);if(T<o)return o=T,e.Ys=x,e.vt=Number.MAX_VALUE,e.zs=!1,e.Xs=I.NaviObstructType_EXTENT,!1}for(var M=m[_].Sr,k=0;k<M.length-1;k++)if(S.At(i,n,M[k],M[k+1],w)){var R=S.vt(i,w);if(R<o)return o=R,e.Ys=x,e.vt=Number.MAX_VALUE,e.zs=!1,e.Xs=I.NaviObstructType_EXTENT,!1}}return e.du=S.vt(e.st,r),!0},pu:function(t,i){return t.du-i.du},wu:function(t,i){return i.bu-t.bu},Lo:function(t){t=this.$s.get(t);if(t){for(var i=t.Xr,n=t.se,r=i.length-1;0<=r;r--){var e=i[r];if(null==e||0<=e.Ii)break;n.delete(e.Ii),i.splice(r,1)}for(var s=t.qr,o=t.oe,u=s.length-1;0<=u;u--){var h=s[u];if(null==h||0<=h.Ii)break;o.delete(h.Ii),s.splice(u,1)}}},Do:function(){var t,i=F(this.fh);try{for(i.s();!(t=i.n()).done;){var n,r=t.value[1],e=[],s=r._s.ie,o=F(s);try{for(o.s();!(n=o.n()).done;){var u=n.value;u[0]<0&&e.push(u[0])}}catch(t){o.e(t)}finally{o.f()}for(var h=0;h<e.length;h++)this.vu(r._s.ie,e[h]);for(var a=0;a<this.ch.length;a++)this.lu(s,this.ch[a])}}catch(t){i.e(t)}finally{i.f()}},Qo:function(t,i,n,r,e){for(var s=[],o=0;o<r.length;o++)if(r[o].vt<S.K())return s.push(r[o]),s;var u={x:0,y:0};if(S.gt(i,n.pr,n.mr,u)&&this._u(i,u,{},e))return(e={}).st=u,e.zs=!0,e.Vs=n,e.bu=0,e.dist=S.vt(i,u),s.push(e),s;for(var h={x:u.x-i.x,y:u.y-i.y},a=0;a<r.length;a++){var f=r[a],c={x:f.st.x-i.x,y:f.st.y-i.y},c=270<(c=S.kt(c,h))?c-360:c;f.bu=c}r.sort(this.wu);var l,v=null;if(r[r.length-1].bu<0)return v=r[r.length-1],s.push(v),s;for(var y=0;y<r.length;y++)if(0<r[y].bu)return v=r[y],0==y?s.push(v):(l=r[y-1],S.vt(v.st,n.pr)>S.vt(l.st,n.pr)?(s.push(l),s.push(v)):(s.push(v),s.push(l))),s;return s},xu:function(t,i,n,r,e,s){for(var o=e||30,u=0;u<360;u+=o){var h=new Hr;this.Ch(t,i,u,n,h,s),1==h.zs&&r.push(h)}r.sort(this.pu)},Ho:function(t,i,n,r,e){var s=new Map,o=[];for(this.xu(t,i,n,o,r,e);0!=o.length;){var u=o[0],h=s.get(u.Vs.Ii);h?h.push(u):((h=[]).push(u),s.set(u.Vs.Ii,h)),o.splice(0,1)}return s},Io:function(t,i){var n=new L,i=(n.Ii=this.Ph(),n.Vt=Object.assign({},i),this.$s.get(t));return i.Xr.push(n),i.se.set(n.Ii,i.Xr.length-1),n},gu:function(t,i,n){if(n)return this.Io(t,i);n=new L,n.Ii=this._s.Ne(),n.Vt=Object.assign({},i),i=this.$s.get(t),t=i.Xr,t=this.fu(n,t);return i.se.set(n.Ii,t),n},_u:function(t,i,n,r){for(var e,s=this.$s.get(-1),o=0;o<s.Hr.length;o++)if(null!=(e=s.Hr[o])&&e!=r&&I.NaviModelPassType_DECORATE!=e.pass)for(var u=e.Sr,h=0;h<u.length-1;h++)if(S._t(t,i,u[h],u[h+1],n)){var a=S.vt(t,n),f=S.vt(i,n);if(!(a<=S.K()||f<=S.K()))return!1}for(var c=s.Qr,l=0;l<c.length;l++){for(var v=c[l],y=v.Zr,d=0;d<y.length;d++)for(var b=y[d],p=0;p<b.length-1;p++)if(S._t(t,i,b[p],b[p+1],n))return!1;for(var w=v.Sr,m=0;m<w.length-1;m++)if(S._t(t,i,w[m],w[m+1],n))return!1}return!0},Jo:function(t,i,n,r,e,s){for(var o=0;o<this.fo.length;o++){var u=this.fo[o],h={};if(1==S._t(u.pr,u.mr,i.Vt,n.Vt,h)&&S.vt(i.Vt,h)>S.K()&&S.vt(n.Vt,h)>S.K())return null}void 0===r&&(r=I.NaviRoadEntry_BOTH),void 0===e&&(e=!0),void 0===s&&(s=!0);var a=new D;a.br=i.Ii,a.pr=i.Vt,a.wr=n.Ii,a.mr=n.Vt,a._r=[i.Vt,n.Vt],this.ch.push(i.Ii),this.ch.push(n.Ii),a.Ii=e?this.Ph():this._s.Ie(),a.Er=r,a.kr(),s&&this.fo.push(a);this.$s.get(t).qr.push(a);e=this.fh.get(t);return I.NaviRoadEntry_BOTH==r&&(s={Be:n.Ii,Cn:a.Cn},(t=e._s.ie.get(i.Ii))?t.push(s):((t=[]).push(s),e._s.ie.set(i.Ii,t)),s={Be:i.Ii,Cn:a.Cn},(t=e._s.ie.get(n.Ii))?t.push(s):((t=[]).push(s),e._s.ie.set(n.Ii,t))),I.NaviRoadEntry_FORWARD==r&&(s={Be:n.Ii,Cn:a.Cn},(t=e._s.ie.get(i.Ii))?t.push(s):((t=[]).push(s),e._s.ie(i.Ii,t))),I.NaviRoadEntry_BACK==r&&(s={Be:i.Ii,Cn:a.Cn},(t=e._s.ie.get(n.Ii))?t.push(s):((t=[]).push(s),e._s.ie.set(n.Ii,t))),a},Ko:function(t){var i=this.Dh(t),n=this.so.get(i);if(n)for(var r=0;r<n.length;r++){var e=n[r];if(S.ct(t,e.Sr,e.Nr))return e}return null},Ph:function(){return this.eo--},Uh:function(){var t=null;if(this.Th()){if(!(t=this.Eh()))return!1;this.Oh(t)}var i=[];if(this.ir){var n=this.yh.Du("node",this.gs),r=this.yh.Du("node",this.xs);this.yh.Cu(),this.yh.Lu(n),this.yh.Lu(r)}else for(var e=0;e<this.vh.length;e++)i.push(this.vh[e].Ii);this.Nh();n=new me(this.Ih);return n.ih(this.xs.Ii).rh(this.gs.Ii).sh(i),n.oh(),this.oh=n.hh(),this.Lh(),this.Th()&&this.Th().xh(this.Th()._s.Qe(t.Qn)),this.yh=new se(["num","id","idx","node"]),this.ir=!0}}),a);function je(t,i){var n,r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,i){if(t){if("string"==typeof t)return Ee(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ee(t,i):void 0}}(t))||i&&t&&"number"==typeof t.length)return r&&(t=r),n=0,{s:i=function(){},n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e,s=!0,o=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return s=t.done,t},e:function(t){o=!0,e=t},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw e}}}}function Ee(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,r=new Array(i);n<i;n++)r[n]=t[n];return r}function Te(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Me(t,i,n){return i&&Te(t.prototype,i),n&&Te(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var a=Me(function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.Bh=[],this.zt=null}),ke=(Object.assign(a.prototype,{Zh:function(t){var i,n=0,r=je(t);try{for(r.s();!(i=r.n()).done;)for(var e=i.value,s=e[1],o=s.Qr,u=0;u<o.length;u++){var h=o[u].Ii,a=s.Je(h),f=new Oe(n++,a);f.zt=this.zt,f.Pn=e[0],this.Bh.push(f)}}catch(t){r.e(t)}finally{r.f()}},Gh:function(t){for(var i=0;i<this.Bh.length;i++)t&&t(this.Bh[i])},Cn:function(){return this.Bh.length},Au:function(t){return this.Bh[t]},Wh:function(t,i){var n,r=this.Bh;for(n in r){var e=r[n];if(t==e.Pn&&e.Rh(i))return e}return null},Vh:function(t){var i,n=this.Bh;for(i in n){var r=n[i];if(r.Ii==t)return r}return null}}),a);function Re(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ae(t,i,n){return i&&Re(t.prototype,i),n&&Re(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var a=Ae(function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.Yh=null,this.Xh=[]}),Se=(Object.assign(a.prototype,{ln:function(t){if(0!=t.length){this.Yh=t[0];for(var i=this.Yh,n=1;n<t.length;n++)i.Ah(t[n]),i=t[n];i.Ah(null)}},qh:function(t,i){var n=this.Yh;for(n.xh(t);n.Th();){if(!n.Uh())return!1;this.Xh.push({Pn:n.Pn,Ci:n.hh()}),n=n.Sh()}n.Oh(i),n.Uh(),this.Xh.push({Pn:n.Pn,Ci:n.hh()})}}),a);function Ne(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var a=function(){function e(t,i,n,r){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.Hh=t,this.Qh=i,this.$h=n,this.Bh=r,this.Jh={},this.zt}var t,i,n;return t=e,(i=[{key:"routes",get:function(){return this.Xh},set:function(t){this.Xh=t}},{key:"failInsertedPts",get:function(){return this.Jh}}])&&Ne(t.prototype,i),n&&Ne(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Ie=(Object.assign(a.prototype,{Kh:function(){for(var t={},i=0;i<this.$h.length;i++){var n=this.$h[i],r=this.Bh.Wh(n.level,n);r?(t[r.Ii]||(t[r.Ii]=[]),t[r.Ii].push(n)):(null==this.Jh[n.level]&&(this.Jh[n.level]=[]),this.Jh[n.level].push(n))}this.$h=t},ta:function(){this.ia=[];for(var t=0;t<this.Bh.Cn();t++)for(var i,n,r=this.Bh.Au(t),e=0;e<this.Bh.Cn();e++)t!=e&&(i=this.Bh.Au(e),(n=r.kh(i)).related&&this.ia.push([r.Ii,i.Ii,n.dist]))},na:function(){this.dn(),this.ta(),this.Kh();var t,i=[];for(t in this.$h)i.push(parseInt(t));var n=this.Bh.Wh(this.Hh.level,this.Hh).Ii,r=this.Bh.Wh(this.Qh.level,this.Qh).Ii,e=new me(this.ia),n=(e.ih(n),e.rh(r),i.indexOf(n)),s=(-1!=n&&i.splice(n,1),-1!=(n=i.indexOf(r))&&i.splice(n,1),e.sh(i),e.oh(),e.hh());if(2==s.route.length&&s.route[0]==s.route[1]&&(s.route=[s.route[0]]),s.dist!=1/0){for(var o=[],u=0;u<s.route.length;u++){var h=this.Bh.Vh(s.route[u]);if(-1==o.indexOf(h)&&h.wh(this.$h[s.route[u]]),o.push(h),0<h.lh.length){null==this.Jh[h.fid]&&(this.Jh[h.fid]=[]);for(var a=0;a<h.lh.length;a++)this.Jh[h.fid].push(h.lh[a])}}this.ra=new Se,this.ra.ln(o),this.ra.qh(this.Hh,this.Qh),this.Xh=this.ra.Xh}},dn:function(){this.Bh.Gh(function(t){t.dn(),t.bh=new ae,t.xs=null,t.gs=null,t.ir=!1,t.vh=[],t.lh=[]})}}),a);function Le(t){return function(t){if(Array.isArray(t))return Fe(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||De(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(t,i){var n,r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=De(t))||i&&t&&"number"==typeof t.length)return r&&(t=r),n=0,{s:i=function(){},n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e,s=!0,o=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return s=t.done,t},e:function(t){o=!0,e=t},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw e}}}}function De(t,i){if(t){if("string"==typeof t)return Fe(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fe(t,i):void 0}}function Fe(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,r=new Array(i);n<i;n++)r[n]=t[n];return r}function Pe(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var a=function(){function i(t){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.Ht=t,this.pr=null,this.ea=null,this.mr=null,this.sa=null,this.oa=null,this.Es=g.MODULE_SHORTEST,this.ua=m.PRIORITY_DEFAULT,this.ha=new Map,this.aa=new Map,this.fa=null,this.ca=null,this.la=new Map,this.va=new Map,this.ya=new Map,this.da=[],this.ba=[],this.pa=[],this.wa=[],this.ma=[],this._a=[],this.Ci=[],this.xa=1,this.ga=.1,this.Oa=1,this.ja=10,this.Ea=.1,this.Ta=1,this.Ma=10,this.ka=.1,this.Ra=1,this.Aa=10,this.Sa=1,this.vs=null,this.Na=null,this.Ia=null,this.La=!1,this.qs=null,this.Hs=null,this.Da=null,this.Fa=[],this.xo=!0,this.go=new Map,this.zt=t.type,this.barrierFree=!1,this.Pa=!1}var t,n,r;return t=i,(n=[{key:"assginedInfos",get:function(){return this.Fa},set:function(t){this.Fa=t}},{key:"passPts",set:function(t){this.$h=t}},{key:"failedInsertedPts",get:function(){return this.Jh}},{key:"toDoors",get:function(){return this.La},set:function(t){this.La=t}},{key:"obstruct",get:function(){return this.xo},set:function(t){this.xo=t}}])&&Pe(t.prototype,n),r&&Pe(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(),Ce=(Object.assign(a.prototype,{An:function(t){if(t&&t.scene&&t.floors){this.vs=t.scene,this.Na=new Dr;t=t.floors;if(0!=t.size){this.Ca(t),this.Ua();var i,n=M(t);try{for(n.s();!(i=n.n()).done;){var r=i.value,e=r[1].gid;if(null!=e){var s=r[1].naviAccessible;if(s&&s[0]&&0<s[0].naviNodes.length){this.Pa=!0;break}}}}catch(t){n.e(t)}finally{n.f()}this.Pa&&(this.Ca(t),this.Ua()),this.Ia=new ke,this.Ia.zt=this.zt,this.Ia.Zh(this.ha)}}},wi:function(){this.Ht=null,this.vs=null,this.Na&&(this.Na.wi(),this.Na=null);var t,i=M(this.ha);try{for(i.s();!(t=i.n()).done;)t.value[1].wi()}catch(t){i.e(t)}finally{i.f()}this.ha.clear(),this.ha=null,this.fa.wi(),this.fa=null;var n,r=M(this.la);try{for(r.s();!(n=r.n()).done;)n.value[1].wi()}catch(t){r.e(t)}finally{r.f()}if(this.la.clear(),this.la=null,this.ya.clear(),this.ya=null,this.da=null,this.pa=null,this.Pa){var e,s=M(this.aa);try{for(s.s();!(e=s.n()).done;)e.value[1].wi()}catch(t){s.e(t)}finally{s.f()}this.aa.clear(),this.aa=null,this.ca.wi(),this.ca=null;var o,u=M(this.va);try{for(u.s();!(o=u.n()).done;)o.value[1].wi()}catch(t){u.e(t)}finally{u.f()}this.va.clear(),this.va=null,this.ba=null,this.wa=null}this.ma=null,this._a=null,this.Ci=null},Ba:function(t,i){this.dn();for(var n=new Map,r=0;r<this.$h.length;r++){var e=this.$h[r].order,s=(void 0===e&&(e=Number.MAX_VALUE),n.get(e));s||n.set(e,s=[]),s.push(this.$h[r])}for(var o,u=Array.from(n),h=(u.sort(function(t,i){return t[0]-i[0]}),t),a=i,f=0,c=(this.Ci=[],this.Jh={},null),l=null,v=0;v<u.length;v++){var y,d,b=u[v][1],p=(this.dn(),new Ie(h,a,b,this.Ia));if(p.zt=this.zt,p.na(),null==(c=p.routes))return R.ROUTE_FAILED_OUTLINE;for(y in o=p.failInsertedPts,this.Za(p.failInsertedPts)!=b.length&&(p=this.Ga(c),(b=this.Ci).push.apply(b,Le(p[0])),p=(b=(l=p[1])[0]).Ci,h=Object.assign({level:b.Pn,x:t.x,y:t.y},p[0].Vt),f++),o)this.Jh[y]||(this.Jh[y]=[]),(d=this.Jh[y]).push.apply(d,Le(o[y]))}return 0==f?this.Ci=c:(i=this.Ci).push.apply(i,Le(l)),this.Ci=this.Wa(this.Ci),R.ROUTE_SUCCESS},Wa:function(t){for(var i,n=-1,r=[],e=null,s=0;s<t.length;s++)n!=t[s].Pn?(e=t[s],r.push(e),n=t[s].Pn):(i=e.Ci).push.apply(i,Le(t[s].Ci));return r},Za:function(t){if(0==Object.keys(t).length)return 0;var i,n=0;for(i in t)n+=t[i].length;return n},Ga:function(t){for(var i=[-1,-1],n=t.length-1;0<=n;n--){for(var r=t[n].Ci,e=r.length-1;0<=e;e--)if(r[e].Fh){i[1]=e;break}if(-1!=i[1]){i[0]=n;break}}var s=[];if(-1!=i[0]&&-1!=i[1]){s[0]=[],s[1]=[];for(var o=0;o<t.length;o++){var u=t[o];if(o<i[0])s[0].push(u);else if(o>i[0])s[1].push(u);else{for(var h=u.Ci,a=[{Pn:u.Pn,Ci:[]},{Pn:u.Pn,Ci:[]}],f=0;f<h.length;f++)(f<i[1]?a[0]:a[1]).Ci.push(h[f]);s[0].push(a[0]),s[1].push(a[1])}}}else s.push(t);return s},Va:function(t,i){return this.dn(),this.Ya=new Ie(t,i,this.$h,this.Ia),this.Ya.na(),this.Ci=this.Ya.routes,this.Jh=this.Ya.failInsertedPts,R.ROUTE_SUCCESS},za:function(t){for(var i=0,n=0;n<t.length-1;n++)i+=Math.abs(t[n].Pn-t[n+1].Pn);return{dist:i,seq:t}},Xa:function(t){for(var i=[],n=0;n<t.length;n++)i.push(this.za(t[n]));return i.sort(function(t,i){return t.dist-i.dist}),i},qa:function(t){t.sort(function(t,i){return t.seq.length-i.seq.length})},No:function(){for(var t in this.Fa){var t=parseInt(t),i=(this.Pa&&this.barrierFree?this.va:this.la).get(t).get(t);i.assignedPts=this.Fa[t],i.No(),this.Ci.push({Pn:t,Ci:i.Cs()})}},oh:function(t,l,i,v,y,n){var d=this,b=(this.dn(),null),r=(b=this.Pa&&this.barrierFree?this.va:this.la).get(t);if(!r)return R.ROUTE_FAILED_NO_DATA_START;r=r.Vo(l);if(!r)return R.ROUTE_FAILED_NO_DATA_START;this.qs=r.Ys;var e=b.get(i);if(!e)return R.ROUTE_FAILED_NO_DATA_DEST;e=e.Vo(v);if(!e)return R.ROUTE_FAILED_NO_DATA_DEST;this.Hs=e.Ys,this.Ci=[],this.ea=t,this.pr=l,this.sa=i,this.mr=v;var s=r.xr,o=e.xr,p=r.Ys,w=e.Ys;if(0===s||0===o)return R.ROUTE_FAILED_CANNOT_ARRIVE;function u(){d.Ci=[];for(var t=[],i=[d.pr],n=0;n<d.ma.length-1;n++){var r=[],e=[];if(null==d.zt||0===d.zt){if(!d.Ha(d.ma[n],d.ma[n+1],i[i.length-1],r,e))return R.ROUTE_FAILED_CANNOT_ARRIVE}else if(!d.Qa(d.ma[n],d.ma[n+1],i[i.length-1],r,e))return R.ROUTE_FAILED_CANNOT_ARRIVE;for(var s=!1,o=0;o<r.length;o++){var u=r[o].dr,h=e[o].dr,a=r[o].Pn,f=e[o].Pn;if(m=0==n?((c=b.get(a)).qs=p,c.Ps(l,u,y)):b.get(a).Ps(t[t.length-1],u,y),R.ROUTE_SUCCESS==m){var c=b.get(a).Cs();if(d.Ci.push({Pn:a,Ci:c}),t.push(h),i.push(h.Vt),s=!0,d.ma.length-2==n){u=b.get(f);if(u.Hs=w,m=u.Ps(h,v,y),R.ROUTE_SUCCESS!=m){d.Ci.splice(d.Ci.length-1,1),s=!1,i.splice(i.length-1,1),t.splice(t.length-1,1);continue}a=u.Cs();d.Ci.push({Pn:f,Ci:a})}if(R.ROUTE_SUCCESS==m)break}}if(!s)return R.ROUTE_FAILED_CANNOT_ARRIVE}return R.ROUTE_SUCCESS}var m=null;this.Es=y,this.$a(n);if(t===i&&s===o){r=b.get(t);if(r.qs=p,r.Hs=w,(m=r.Ps(l,v,y))!==R.ROUTE_SUCCESS){for(var h=[],a=null,a=this.Pa?this.ba:this.da,f=0;f<a.length;f++)a[f].Pn==t&&a[f].xr==s&&h.push(a[f]);e=this.Ja(h,h[0],1);if(0==e.length)return R.ROUTE_FAILED_OUTLINE;for(var c=this.Xa(e),_=0;_<c.length;_++){this.ma=c[_].seq;var x=u();if(x==R.ROUTE_SUCCESS)return x}return R.ROUTE_FAILED_CANNOT_ARRIVE}n=r.Cs();this.Ci.push({Pn:t,Ci:n})}else{if(this.Ka(t,s,i,o,this.pr,this.mr)!=R.ROUTE_SUCCESS)return R.ROUTE_FAILED_OUTLINE;this.ma.reverse();e=u();if(R.ROUTE_SUCCESS!=e){for(var g=null,O=null,j=null,j=this.Pa&&this.barrierFree?this.ba:this.da,E=0;E<j.length;E++)j[E].Pn==t&&j[E].xr==s&&(g=j[E]),j[E].Pn==i&&j[E].xr==o&&(O=j[E]);r=[];if(r.push([g]),this.tf(g,O,r),0==r.length)return R.ROUTE_FAILED_OUTLINE;var T=this.Xa(r);this.qa(T);for(var M=0;M<T.length;M++){this.ma=T[M].seq;var k=u();if(k==R.ROUTE_SUCCESS)return k}return R.ROUTE_FAILED_CANNOT_ARRIVE}}return R.ROUTE_SUCCESS},if:function(){if(this.La&&(this.Da=null,this.Hs&&0<this.Ci.length)){for(var t,i=this.Ci[this.Ci.length-1].Ci,n={x:-1,y:-1},r=i.length-1;0<r;r--){var e=i[r],s=i[r-1];if(S.Rt(e.Vt,s.Vt,this.Hs.Sr,n)){t=r;break}}i.splice(t);var o=new L;o.Ii=-1,o.Vt=n,i.push(o),this.Da=n}for(var u=[],h=0;h<this.Ci.length;h++)1<this.Ci[h].Ci.length&&u.push(this.Ci[h]);for(var a=[],f=0;f<u.length;f++){this.nf(u[f]);for(var c=u[f],l=c.Pn,v=c.Ci,y=[],d=0,b=0;b<v.length;b++)y.push(v[b].Vt),b!=v.length-1&&(d+=S.vt(v[b].Vt,v[b+1].Vt));var c=new $n;c.Pn=l,c.Bn=v,c.Un=y,c.Cn=d,a.push(c),f!=u.length-1&&(l=this.rf(u[f]),c=this.ef(u[f+1]),a.push(l),a.push(c))}return a},Co:function(t){for(var i=new Map,n=0;n<t.length;n++){var r=t[n],e=i.get(r.Pn);e||i.set(r.Pn,e=[]),e.push(r)}var s,o=M(i);try{for(o.s();!(s=o.n()).done;){var u=s.value,h=this.go.get(u[0]);h&&!this.sf(u[1],h)||(this.la.get(u[0]).Co(u[1]),this.va.get(u[0]).Co(u[1]),this.go.set(u[0],u[1]),0)}}catch(t){o.e(t)}finally{o.f()}},uf:function(){var t,i=M(this.go);try{for(i.s();!(t=i.n()).done;){var n=t.value;this.la.get(n[0]).uf()}}catch(t){i.e(t)}finally{i.f()}this.go.clear()},sf:function(t,i){if(t.length!=i.length)return!0;for(var n=0;n<t.length;n++){for(var r=!1,e=0;e<i.length;e++)i[e].hf(t[n])&&(r=!0);if(!r)return!0}return!1},nf:function(t){if(t&&t.Ci){var i=t.Ci,n=i.length;if(n&&!(n<2)){var r=[],e=(r.push(i[0]),i[0]),s=i[n-1];S.vt(e.Vt,s.Vt),S.K();for(var o=1;o<n-1;o++){var u=i[o];null!=e&&S.vt(e.Vt,u.Vt)<S.K()||null!=s&&S.vt(s.Vt,u.Vt)<S.K()||r.push(u)}r.push(s);for(var n=r.length,h=new Array(n),a=0;a<n;a++)h[a]=0;for(var f=1;f<n-1;f++){for(var c=r[f],l=f-1;0!=h[l];)l--;var v=r[l],y=r[f+1];S.lt(c.Vt,v.Vt,y.Vt)&&(h[f]=1)}for(var d=[],b=0;b<n;b++)0==h[b]&&d.push(r[b]);t.Ci=d}}},dn:function(){this.ma=[],this._a=[];var t,i=M(this.la);try{for(i.s();!(t=i.n()).done;){var n=t.value;n[1].dn(),n[1].obstruct=this.xo}}catch(t){i.e(t)}finally{i.f()}var r,e=M(this.va);try{for(e.s();!(r=e.n()).done;){var s=r.value;s[1].dn(),s[1].obstruct=this.xo}}catch(t){e.e(t)}finally{e.f()}},af:function(n,r){var e=this,t=null;if(this.Pa&&this.barrierFree){if(this.va.size<=0)return null;t=this.va}else{if(this.la.size<=0)return null;t=this.la}t=t.get(n.level);if(!t)return null;var i=t._s;if(!i)return null;var s,o=[],u=(o.push.apply(o,Le(i.qr)),M(t.$s));try{for(u.s();!(s=u.n()).done;){var h=s.value;o.push.apply(o,Le(h[1].qr))}}catch(t){u.e(t)}finally{u.f()}var a={},f=i.fe(n),c={distance:Number.MAX_VALUE,road:null,coords:{level:n.level}},t=null;return o.length&&(o.forEach(function(t){var i;t.Er!==I.NaviRoadEntry_FORBID&&(r?0<=r.indexOf(t.jr)&&f===t.xr&&(i=S.bt(n,t.pr,t.mr,a))<c.distance&&(c.distance=i,c.road=t,c.angle=e.ff(t.pr,t.mr),Object.assign(c.coords,a)):f===t.xr&&(i=S.bt(n,t.pr,t.mr,a))<c.distance&&(c.distance=i,c.road=t,c.angle=e.ff(t.pr,t.mr),Object.assign(c.coords,a)))}),t=c),t},ff:function(t,i){var n=new rr(0,0,1),t=new rr(t.x,0,t.y),i=new rr(i.x,0,i.y).clone().sub(t).normalize(),t=i.angleTo(n)*S.it();return 0<i.clone().cross(n).y?360-t:t},Ca:function(t){this.Pa?this.aa=new Map:this.ha=new Map,this.Na.ys(this.vs);var i,n=M(t);try{for(n.s();!(i=n.n()).done;){var r=i.value,e=r[1].gid;if(null!=e){var s=r[1].geo[0],o=r[1].biz[0],u=null,u=(1==this.zt?r[1].naviDrive:this.Pa?r[1].naviAccessible:r[1].navi)[0],h=this.Na.ms(e,s,o,u);if(0!=h.naviNodes.length&&0!=h.naviSegments.length){var a=new Map,f=this.cf(h,a),c=this.lf(h),l=this.vf(h),v=this.yf(h),y=this.df(h),d=(this.bf(y,f,u,a),new jr(f,c,!0,1));d.Pn=e,0!=v.length&&(d.Qr=v),0!=l.length&&(d.Jr=l),0!=y.length&&(d.Hr=y);for(var b=0;b<c.length;b++)c[b].xr=d.fe(c[b].pr);(0==this.Pa?this.ha:this.aa).set(h.level,d)}}}}catch(t){n.e(t)}finally{n.f()}},cf:function(r,e){var t,s=[];for(t in r.naviNodes)(function(t){var i=r.naviNodes[t];if(null==i.nodeId)return;var n=new L;n.Ii=i.nodeId,n.Vt={x:parseFloat(i.geoArr.x.toFixed(3)),y:parseFloat(i.geoArr.y.toFixed(3))},n.rr=i.nodeType,n.er=i.liftType,n.Qn=i.liftFlag,n.sr=i.liftEntry,i.accessible&&(n.pf=i.accessible),i.linkSegArr.forEach(function(t){n.Hn.push(parseInt(t))}),i.liftFloorArr.forEach(function(t){n.qn.push(parseInt(t))}),s.push(n),e.set(i.nodeId,t)})(t);return s},lf:function(t){var i,n=[];for(i in t.naviSegments){var r,e=t.naviSegments[i],s=e.geoArr;s&&((r=new D).Ii=e.segmentId,r.br=e.snode,r.pr={x:parseFloat(s[0].x.toFixed(3)),y:parseFloat(s[0].y.toFixed(3))},r.wr=e.enode,r.mr={x:parseFloat(s[1].x.toFixed(3)),y:parseFloat(s[1].y.toFixed(3))},r.Cn=e.length,r.Er=e.entry,r.jr=e.rank,n.push(r))}return n},yf:function(t){for(var i=[],n=0,r=t.extentLayer.length;n<r;n++){var e=t.extentLayer[n],s=(s=e.geoArr)||[],s=new mr(e.eid,t.gid,0,s,e.Ft,e.holes);s.fid=e.fid,i.push(s)}return i},df:function(t){for(var i=[],n=0,r=t.modelLayer.length;n<r;n++){var e=t.modelLayer[n],s=(s=e.geoArr)||[],s=new mr(e.eid,t.gid,0,s,e.Ft,e.holes);s.fid=e.fid,s.pass=e.pass,i.push(s)}return i},vf:function(t){for(var i=[],n=0,r=t.naviZones.length;n<r;n++){var e=t.naviZones[n],e=new pr(e.Ii,t.gid,e.type,e.geoArr);i.push(e)}return i},bf:function(t,i,n,r){for(var e=new Map,s=0;s<t.length;s++){var o=t[s];e.set(o.Ii,s)}for(var u=0;u<n.naviModels.length;u++)for(var h=n.naviModels[u],a=h.modelid,f=t[e.get(a)],c=0;c<h.doorids.length;c++){var l=h.doorids[c],l=i[r.get(l)],l=(f.Gr.push(l),h.nodetypes[c]),v=h.entrytypes[c];f.Wr.push(l),f.Vr.push(v)}},wf:function(){if(!(this.ha.size()<=0)){var t,i={},n=M(this.ha);try{for(n.s();!(t=n.n()).done;){var r,e=t.value[1],s=[];for(r in e.je(I.NaviLiftType_Escalator,s),s){var o,u=s[r];u.Qn&&(i[o=u.Qn]?i[o]=i[o].concat(u.qn):i[o]=u.qn)}}}catch(t){n.e(t)}finally{n.f()}var h,a=M(this.ha);try{for(a.s();!(h=a.n()).done;){var f,c=h.value[1],l=[];for(f in c.je(I.NaviLiftType_Escalator,l),l){var v,y=l[f];y.Qn&&(i[v=y.Qn]&&(y.qn=i[v]))}}}catch(t){a.e(t)}finally{a.f()}}},Ua:function(){this.mf(),this._f();var t,i=new jr(this.da,this.pa),n=(this.fa=new Br(i),M(this.ha));try{for(n.s();!(t=n.n()).done;){var r=t.value,e=new Kr(r[1]);e.zt=this.zt,this.la.set(r[0],e)}}catch(t){n.e(t)}finally{n.f()}if(this.Pa){this.mf(),this._f();var s,i=new jr(this.ba,this.wa),o=(this.ca=new Br(i),M(this.aa));try{for(o.s();!(s=o.n()).done;){var u=s.value;this.va.set(u[0],new Kr(u[1]))}}catch(t){o.e(t)}finally{o.f()}}},mf:function(){this.Pa?this.ba=[]:this.da=[];var t,i=0,n=M(this.Pa?this.aa:this.ha);try{for(n.s();!(t=n.n()).done;)for(var r=t.value,e=r[1],s=e.Qr,o=0;o<s.length;o++){var u=s[o],h=new Nr;h.Ii=i++,h.Pn=r[0],h.xr=u.Ii,h.Fs=u;for(var a=0;a<e.Xr.length;a++){var f,c,l=e.Xr[a];l.er!=I.NaviLiftType_NULL&&S.ct(l.Vt,u.Sr,u.Nr)&&(f=new vr,c=e.de(l.Vt),f.yr=c,f.ar(l),f.Pn=r[0],f.dr=l,f.er=l.er,f.Qn=l.Qn,this.Pa?1===l.pf&&(f.pf=l.pf,h.Ke.push(f)):(1===l.pf&&(f.pf=l.pf),h.Ke.push(f)))}(this.Pa?this.ba:this.da).push(h)}}catch(t){n.e(t)}finally{n.f()}},_f:function(){for(var t=null,t=this.Pa?this.ba:this.da,i=[],n=0;n<t.length;n++)for(var r=t[n],e=0;e<t.length;e++){var s,o,u=t[e];n!=e&&(o=void 0,null!=(o=null==this.zt||0==this.zt?this.xf(r,u):this.gf(r,u))&&(o*=0==(s=Math.abs(r.Pn-u.Pn))?1:s,(s=new D).br=r.Ii,s.wr=u.Ii,s.Cn=o,s.Er=I.NaviRoadEntry_FORWARD,i.push(s)))}this.Pa?this.wa=i:this.pa=i},xf:function(t,i){for(var n=Number.MAX_VALUE,r=!1,e=t.Pn,s=i.Pn,o=e<s?I.NaviLiftEntry_DOWN:I.NaviLiftEntry_UP,u=0;u<t.Ke.length;u++){var h=t.Ke[u],a=h.sr;if(a!=I.NaviLiftEntry_FORBID&&a!=o){var f=h.er;if(m.PRIORITY_LIFTONLY==this.ua){if(I.NaviLiftType_Lift!=f)continue}else if(m.PRIORITY_ESCALATORONLY==this.ua){if(I.NaviLiftType_Escalator!=f)continue}else if(m.PRIORITY_STAIRONLY==this.ua){if(I.NaviLiftType_Stair!=f)continue}else if(m.PRIORITY_ACCESSIBLEONLY==this.ua&&I.NaviLiftType_Accessible!=f)continue;if(f==I.NaviLiftType_Stair||-1!=h.qn.indexOf(s))for(var c=0;c<i.Ke.length;c++){var l=i.Ke[c];if(null!=l&&h.Qn==l.Qn)if(m.PRIORITY_LIFTFIRST==this.ua||m.PRIORITY_DEFAULT==this.ua){if(I.NaviLiftType_Lift==f||I.NaviLiftType_Accessible==f)return this.ga;if(I.NaviLiftType_Escalator==f){l=this.Ta;l<n&&(n=l),r=!0;break}if(I.NaviLiftType_Stair==f){l=this.Aa;l<n&&(n=l),r=!0;break}}else if(m.PRIORITY_ESCALATORFIRST==this.ua){if(I.NaviLiftType_Lift==f||I.NaviLiftType_Accessible==f){l=this.Oa;l<n&&(n=l),r=!0;break}if(I.NaviLiftType_Escalator==f)return this.Ea;if(I.NaviLiftType_Stair==f){l=this.Aa;l<n&&(n=l),r=!0;break}}else if(m.PRIORITY_STAIRFIRST==this.ua){if(I.NaviLiftType_Lift==f){l=this.Oa;l<n&&(n=l),r=!0;break}if(I.NaviLiftType_Escalator==f||I.NaviLiftType_Accessible==f){l=this.Of;l<n&&(n=l),r=!0;break}if(I.NaviLiftType_Stair==f)return this.ka}else{if(m.PRIORITY_LIFTFIRST1==this.ua||m.PRIORITY_STAIRFIRST1==this.ua||m.PRIORITY_ESCALATORFIRST1==this.ua)return this.xa;if(m.PRIORITY_LIFTONLY==this.ua||m.PRIORITY_ESCALATORONLY==this.ua||m.PRIORITY_STAIRONLY==this.ua||m.PRIORITY_ACCESSIBLEONLY==this.ua)return this.xa}}}}return r?n:null},gf:function(t,i){for(var n=Number.MAX_VALUE,r=!1,e=t.Pn<i.Pn?I.NaviLiftEntry_DOWN:I.NaviLiftEntry_UP,s=0;s<t.Ke.length;s++){var o=t.Ke[s],u=o.sr;if(u!=I.NaviLiftEntry_FORBID&&u!=e)for(var h=0;h<i.Ke.length;h++){var a=i.Ke[h];if(o.Qn==a.Qn){n=this.Sa,r=!0;break}}}return r?n:null},jf:function(t,i){for(var n=0;n<i.length;n++)if(i[n].Qn==t)return i[n];return null},$a:function(t){if(1==this.zt){if(this.fa)return}else if(this.barrierFree){if(this.ua===t&&this.ca)return}else if(this.ua===t&&this.fa)return;this.ua=t,this.barrierFree?(this._f(),t=new jr(this.ba,this.wa),this.ca=new Br(t)):(this._f(),t=new jr(this.da,this.pa),this.fa=new Br(t))},ef:function(t){var i=t.Ci,n=new $n;return n.Pn=t.Pn,n.Bn.push(i[0]),n.Un.push(i[0].Vt),n.Cn=0,n},rf:function(t){var i=t.Ci,n=new $n;return n.Pn=t.Pn,n.Bn.push(i[i.length-1]),n.Un.push(i[i.length-1].Vt),n.Cn=0,n},Ef:function(t,i){for(var n=null,n=this.Pa&&this.barrierFree?this.ba:this.da,r=0;r<n.length;r++)if(n[r].Pn==t&&n[r].xr==i)return n[r];return null},Ka:function(t,i,n,r,e,s){var o,t=this.Ef(t,i),i=this.Ef(n,r),n=null;if((r=(n=this.Pa&&this.barrierFree?this.ca:this.fa).Ps(t,i,null,e,s))!=R.ROUTE_SUCCESS)return r;o=n.Cs(),this.ma=[];for(var u=0;u<o.length;u++)this.ma.push(o[u]);return r},Tf:function(t,i){return t.er==I.NaviLiftType_Lift&&i.er==I.NaviLiftType_Lift?t.tr-i.tr:t.er==I.NaviLiftType_Lift?-1:i.er==I.NaviLiftType_Lift?1:t.tr-i.tr},Mf:function(t,i){return t.er==I.NaviLiftType_Escalator&&i.er==I.NaviLiftType_Escalator?t.tr-i.tr:t.er==I.NaviLiftType_Escalator?-1:i.er==I.NaviLiftType_Escalator?1:t.tr-i.tr},kf:function(t,i){return t.er==I.NaviLiftType_Stair&&i.er==I.NaviLiftType_Stair?t.tr-i.tr:t.er==I.NaviLiftType_Stair?-1:i.er==I.NaviLiftType_Stair?1:t.tr-i.tr},Rf:function(t,i){if(null==t)return!1;for(var n=0;n<t.length;n++)if(t[n].Ii==i.Ii)return!0;return!1},Af:function(t,i){if(null==t)return!1;for(var n=0;n<t.length;n++)if(t[n].Be==i.Ii)return!0;return!1},Ja:function(t,i,n){var r=this.fa._s.ie;if(0==r.size)return[];var e=t.length-1,s=r.get(t[e].Ii);if(null==s)return[];if(0==n)return this.Af(s,i)?(t.push(i),t):[];for(var o=[],u=0;u<s.length;u++){var h,a=s[u];this.Rf(t,a)||a.Be==i.Ii||(h=t.concat(),a=this.fa._s.ke(a.Be),h.push(this.fa._s.Xr[a]),0!=(a=this.Ja(h,i,n-1)).length&&o.push(a))}return o},tf:function(t,i,n){var r=this.fa._s.ie;if(0!=r.size){for(var e=-1,s=0;s<n.length;s++)n[s].indexOf(t)==n[s].length-1&&(e=s);if(-1!=e){var o=n[e],u=(n.splice(e,1),r.get(t.Ii));if(null!=u)for(var h=0;h<u.length;h++){var a,f=this.da[u[h].Be];this.Rf(o,f)||((a=[]).push.apply(a,Le(o)),a.push(f),n.push(a),f.Ii!=i.Ii&&this.tf(f,i,n))}}}},Sf:function(t,i,n){for(var r=t.Ke,e=n.Ke,s=0;s<r.length;s++){var o=r[s];o.tr=S.distanceOfTwoPoints(o.Vt,i)}m.PRIORITY_DEFAULT==this.ua||m.PRIORITY_LIFTONLY==this.ua||m.PRIORITY_LIFTONLY==this.ua?r.sort(this.Tf):m.PRIORITY_ESCALATORFIRST==this.ua||m.PRIORITY_ESCALATORONLY==this.ua?r.sort(this.Mf):m.PRIORITY_STAIRFIRST!=this.ua&&m.PRIORITY_STAIRONLY!=this.ua||r.sort(this.Tf);for(var u=null,h=null,a=!1,f=0;f<r.length;f++){for(var c=r[f],l=c.Qn,v=0;v<e.length;v++)if(e[v].Qn==l){u=c,h=e[v],a=!0;break}if(a)break}return null==u||null==h?null:{startLiftNodes:u,endLiftNodes:h}},Nf:function(t,i,n,r,e){this.oa=this.la.get(t.Pn)._s.de(n);for(var s=t.queryLiftNodes(this.oa,n,this.mr,this.ua),o=0;o<s.length;o++){var u=s[o];if(I.NaviLiftType_Stair!=u.er)if(-1==u.qn.indexOf(i.Pn))continue;for(var h=0;h<i.Ke.length;h++){var a=i.Ke[h];if(u.Qn==a.Qn){r.push(u),e.push(a);break}}}return 0==r.length},Ha:function(n,t,i,r,e){this.Pa&&this.barrierFree?this.oa=this.va.get(n.Pn)._s.de(i):this.oa=this.la.get(n.Pn)._s.de(i);var s=Math.abs(n.Pn-t.Pn),o=[];function u(t,i){t=n.rs(t,i,h);o.push.apply(o,Le(t))}var h=[];if(0==this.Pa&&1==this.barrierFree)for(var a=0;a<n.Ke.length;a++)1==n.Ke[a].pf&&h.push(n.Ke[a]);else h=n.Ke;for(var f=0;f<h.length;f++){var c=h[f];c.tr=S.vt(c.Vt,this.mr)+S.vt(c.Vt,i)}var l,v=n.Fs.Ut.size,v=v.x+v.y,y=(m.PRIORITY_LIFTONLY!==this.ua&&m.PRIORITY_ESCALATORONLY!==this.ua&&m.PRIORITY_STAIRONLY!==this.ua&&m.PRIORITY_ACCESSIBLEONLY!==this.ua||(l=null,m.PRIORITY_LIFTONLY===this.ua&&(l=I.NaviLiftType_Lift),m.PRIORITY_ESCALATORONLY===this.ua&&(l=I.NaviLiftType_Escalator),m.PRIORITY_STAIRONLY===this.ua&&(l=I.NaviLiftType_Stair),m.PRIORITY_ACCESSIBLEONLY===this.ua&&(l=I.NaviLiftType_Accessible),o=n.rs(l,null,h)),m.PRIORITY_LIFTFIRST!==this.ua&&m.PRIORITY_ESCALATORFIRST!==this.ua&&m.PRIORITY_STAIRFIRST!==this.ua&&m.PRIORITY_DEFAULT!==this.ua||(m.PRIORITY_LIFTFIRST!==this.ua&&m.PRIORITY_DEFAULT!==this.ua||(u(I.NaviLiftType_Lift,-15*s),u(I.NaviLiftType_Escalator,-8*s),u(I.NaviLiftType_Stair,0)),m.PRIORITY_ESCALATORFIRST===this.ua&&(u(I.NaviLiftType_Lift,-8*s),u(I.NaviLiftType_Escalator,-15*s),u(I.NaviLiftType_Stair,0)),m.PRIORITY_STAIRFIRST===this.ua&&(u(I.NaviLiftType_Lift,-8*s),u(I.NaviLiftType_Escalator,0),u(I.NaviLiftType_Stair,-15*s))),m.PRIORITY_LIFTFIRST1!==this.ua&&m.PRIORITY_ESCALATORFIRST1!==this.ua&&m.PRIORITY_STAIRFIRST1!==this.ua||(m.PRIORITY_LIFTFIRST1===this.ua&&(u(I.NaviLiftType_Lift,-v),u(I.NaviLiftType_Escalator,0),u(I.NaviLiftType_Stair,0)),m.PRIORITY_ESCALATORFIRST1===this.ua&&(u(I.NaviLiftType_Lift,0),u(I.NaviLiftType_Escalator,-v),u(I.NaviLiftType_Stair,0)),m.PRIORITY_STAIRFIRST1===this.ua&&(u(I.NaviLiftType_Lift,0),u(I.NaviLiftType_Escalator,0),u(I.NaviLiftType_Stair,-v))),this);o.sort(function(t,i){if(t.zone!==i.zone){if(t.zone===y.oa)return-1;if(i.zone===y.oa)return 1}return t.tr-i.tr});for(var d=0;d<o.length;d++){var b=o[d];if(!(1===b.sr&&t.Pn<n.Pn)&&!(2===b.sr&&t.Pn>n.Pn))for(var p=0;p<t.Ke.length;p++){var w=t.Ke[p];if(b.Qn===w.Qn){r.push(b),e.push(w);break}}}return 0!==r.length},Qa:function(t,i,n,r,e){this.oa=this.la.get(t.Pn)._s.de(n);for(var s=[],o=t.Ke,u=0;u<o.length;u++){var h=o[u];h.tr=S.vt(h.Vt,this.mr)+S.vt(h.Vt,n)}var s=t.rs(I.NaviLiftType_Ramp),a=this;s.sort(function(t,i){if(t.zone!==i.zone){if(t.zone===a.oa)return-1;if(i.zone===a.oa)return 1}return t.tr-i.tr});for(var f=0;f<s.length;f++){var c=s[f];if(!(1===c.sr&&i.Pn<t.Pn)&&!(2===c.sr&&i.Pn>t.Pn))for(var l=0;l<i.Ke.length;l++){var v=i.Ke[l];if(c.Qn===v.Qn){r.push(c),e.push(v);break}}}return 0!==r.length}}),a),Ue={Drive:1,Walk:0},Be={zh:{straight:"直行",still_go_straight:"继续直行",back_to:"往回走",turn_right:"右转",turn_left:"左转",right_front:"右前方 继续直行",left_front:"左前方 继续直行",turn_right_rear:"右后方转",turn_left_rear:"左后方转",up:"上",down:"下",up_to:"上行到达",down_to:"下行到达",drive_up:"上坡到达",drive_down:"下坡到达",meter:"米",pass:"经过",arrived:"到达目的地",front:"前方",stair:"楼梯",stair_pure:"楼梯",escalator_pure:"扶梯",lift_pure:"直梯",ramp_pure:"坡道",take:"乘",along:"沿",take_stair:"乘梯",along_ramp:"沿坡道",front_pure:"前",right_front_pure:"右前",right_pure:"右",right_back_pure:"右后",back_pure:"后",left_back_pure:"左后",left_pure:"左",left_front_pure:"左前",east:"东",west:"西",south:"南",north:"北",southeast:"东南",northeast:"东北",southwest:"西南",northwest:"西北",face_to:"向",start:"起",dest:"终"},en:{straight:"go straight",still_go_straight:"go straight",back_to:"turn back",turn_right:"turn right",turn_left:"turn left",right_front:"go straight right front ",left_front:"go straight left front ",turn_right_rear:"turn right rear",turn_left_rear:"turn left rear",up:"up",down:"up",up_to:"up to",down_to:"down to",drive_up:"drive up",drive_down:"drive down",meter:"meter",pass:"pass",arrived:"arrived",front:"front",stair:"stair",stair_pure:"stair",escalator_pure:"escalator",lift_pure:"lift",ramp_pure:"ramp",take:"take",along:"along",take_stair:"take stair",along_ramp:"along ramp",front_pure:"front",right_front_pure:"right front",right_pure:"right",right_back_pure:"right back",back_pure:"back",left_back_pure:"left back",left_pure:"left",left_front_pure:"left front",east:"east",west:"west",south:"south",north:"north",southeast:"southeast",northeast:"northeast",southwest:"southwest",northwest:"northwest",face_to:"face to",start:"start",dest:"dest"}};function Ze(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ge(t,i,n){return i&&Ze(t.prototype,i),n&&Ze(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var a=Ge(function t(i){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.If=i.data||null,this.Lf=i.directionAssert||10,this.Df=i.combineAsset||5,this.Ff=i.language||s.ZH,this.zt=i.type||Ue.Walk,this.Pf=0,this.Cf=[],this.Uf=["north","northeast","east","southeast","south","southwest","west","northwest","north"],this.Bf=["front_pure","right_front_pure","right_pure","right_back_pure","back_pure","left_back_pure","left_pure","left_front_pure","front_pure"],this.Zf=["still_go_straight","right_front","turn_right","turn_right_rear","back_to","turn_left_rear","turn_left","left_front","still_go_straight"],this.Gf=!1,this.Wf=0,Object.assign(this,i)}),We=(Object.assign(a.prototype,{wi:function(){},Q:function(t){return this.Vf(t)},Yf:function(t){for(var i=[],n=0;n<t.length;n++)i=i.concat(t[n].Bn);return i},zf:function(t,i){var n=Math.PI/4,t=t/n,r=parseInt(t),t=t%1*n;return r%2==0?i<t&&(r+=1):n-i<=t&&(r+=1),r},Xf:function(t,i){var n=i.angleTo(t);return n=new rr(i.x,i.z,i.y).cross(new rr(t.x,t.z,t.y)).z<0?2*Math.PI-n:n},qf:function(t,i){if(i==t.length-1)return{index:t[t.length-1].index};var n=new rr(0,0,1),r=n,e=(0!=i&&((r=t[i].clone().sub(t[i-1]).normalize()).y=0,r.z*=-1),t[i+1].clone().sub(t[i])),s=(e.y=0,e.length()),e=e.normalize(),n=(e.z*=-1,this.zf(this.Xf(n,e),22.5*S.tt())),r=this.Xf(r,e),e=this.zf(r,this.Lf*S.tt());return{relField:e,relDesc:this.Hf(this.Bf[e]),relAngle:r*S.it(),absField:n,absDesc:this.Hf(this.Uf[n]),distance:s,index:t[i].index}},bn:function(){var t={center:{x:0,y:0,z:0}};return this.If&&(t.center.x=this.If.scene.defCenX,t.center.y=this.If.scene.defCenY,t.center.z=this.If.scene.defCenZ),t},xn:function(t){var i={level:t,height:0,gname:"",desc:""};if(this.If)for(var n=this.If.scene,r=0;r<n.layerGroups.length;r++){var e=n.layerGroups[r];if(e.gid==t){i.height=e.height,i.gname=e.gname,i.desc=e.desc;break}}return i},Qf:function(t,i){var n=0;return i.level&&(n=this.xn(i.level).height),new rr(i.x-t.x,t.y+n,-i.y+t.y)},$f:function(t,i){for(var n=this,r=this.bn().center,e=t.map(function(t,i){t=n.Qf(r,t);return t.index=i,t}),s=[],o=0;o<e.length;o++){var u=this.qf(e,o);u.point=t[o],u.level=i,s.push(u)}for(var h=[s[0]],a=1;a<s.length;a++)s[a].relAngle<=this.Df||360-s[a].relAngle<=this.Df?h[h.length-1].distance+=s[a].distance:h.push(s[a]);return h},Jf:function(t,i){var n=[],r=0;if(i.forEach(function(t){t.Fh&&n.push(r),r++}),0!=n.length)for(;0!=n.length;){for(var e=0;e<t.length-1;e++)if(t[e].index<=n[0]&&t[e+1].index>=n[0]){t[e+1].Fh=!0;break}n.splice(0,1)}},Kf:function(t){var i="",t=this.xn(t);return i=null==t||""+(i=this.Ff==s.ZH?t.desc:t.gname.toUpperCase())!="null"&&""+i!=""&&""+i!="undefined"?i:t.gname.toUpperCase()},tc:function(t,i,n,r,e){var s,o,u=t[i],h=t[i+1],a=this.Hf(this.Zf[h.relField]),n=(this.Gf=i==t.length-3&&h.distance<this.Pf,a&&!this.Gf||(r?(this.Gf=!1,a||(e=this.ic(t[i+1].point,n,e),s=null,o=this.Kf(r),a=this.zt==Ue.Drive?(s=n<r?this.Hf("drive_up"):this.Hf("drive_down"),this.Hf("along")+e+" "+s+" "+o):(s=n<r?this.Hf("up_to"):this.Hf("down_to"),this.Hf("take")+e+" "+s+" "+o))):(this.Gf&&(this.Wf=h.distance),a=this.Hf("arrived"))),null),n=0==i?2==t.length?this.Hf("face_to")+" "+u.absDesc+" "+this.Hf("straight")+" "+Math.ceil(u.distance)+" "+this.Hf("meter")+" "+a:this.Hf("face_to")+" "+u.absDesc+" "+this.Hf("straight")+" "+Math.ceil(u.distance)+" "+this.Hf("meter")+" "+this.Hf(this.Zf[t[i+1].relField]):this.Hf("straight")+" "+Math.ceil(u.distance+(this.Gf&&!r?h.distance:0))+" "+this.Hf("meter")+" "+a;return n=h.Fh?(n+=" ")+this.Hf("pass"):n},nc:function(t,i,n,r){var e=t[i],s=t[i+1];return this.Hf(this.Zf[t[i+1].relField])&&!this.Gf||(r?(t=n<r?this.Hf("up"):this.Hf("down"),s.relDesc=t):s.relDesc=this.Hf("dest")),{startPoint:e.point,startLevel:e.level,startIndex:e.index,endPoint:s.point,endLevel:s.level,endIndex:s.index,startDirection:e.absDesc,endDirection:s.relDesc,distance:e.distance+(this.Gf&&!r?s.distance:0)}},ic:function(t,i,n){t.z=this.xn(i).height;for(var r,e=Number.MAX_SAFE_INTEGER,s=-1,o=0;o<n.length;o++)!n[o]||(r=Math.pow(n[o].Vt.x-t.x,2)+Math.pow(n[o].Vt.y-t.y,2))<e&&(e=r,s=n[o].er);if(-1!=s)switch(s){case 2:return" "+this.Hf("stair_pure");case 3:return" "+this.Hf("escalator_pure");case 1:return" "+this.Hf("lift_pure");case 5:return" "+this.Hf("ramp_pure");default:return""}return this.Hf("stair")},Hf:function(t){t=Be[this.Ff][t];return t||""},Vf:function(t){for(var i,n=[],r=[],e=null,s=0,o=[],u=!(this.Cf=[]),h=null,a=null,f=this.Yf(t),c=0;c<t.length;c++){if(i=(v=t[c]).level,e=null,c<t.length-1)for(var l=c;l<t.length;l++)if(t[l].level!=i){e=t[l].level;break}var v,y,d=v.pointList,b=this.$f(d,i);if(this.Jf(b,v.Bn),1<b.length&&(this.Cf=this.Cf.concat(b)),1==b.length)(e||u)&&(u?r.length&&(c==t.length-1&&(n[n.length-1]+=" "+this.Hf("arrived"),r[r.length-1].endDirection=this.Hf("dest")),r[r.length-1].endPoint=d[0],r[r.length-1].endLevel=i):h!=i&&null!=h||(v=null,y=this.Kf(e),this.zt===Ue.Drive?(v=i<e?this.Hf("drive_up"):this.Hf("drive_down"),a=this.Hf("along_ramp")+" "+v+" "+y):(a=this.Hf("take_stair")+" "+v+" "+y,v=i<e?this.Hf("up_to"):this.Hf("down_to")),n.push(a),r.push({startPoint:d[0],startDirection:i<e?this.Hf("up"):this.Hf("down"),startLevel:i})),u=!u);else for(var h=i,p=0;p<b.length-1&&!this.Gf;p++)n.push(this.tc(b,p,i,e,f)),r.push(this.nc(b,p,i,e));1<b.length&&(y=b.reduce(function(t,i){return t+(i.distance||0)},0),o.push({level:i,distance:y}),s+=y)}return[n,r,s,o,this.Wf]}}),a);function Ve(t){return function(t){if(Array.isArray(t))return Ye(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,i){if(t){if("string"==typeof t)return Ye(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ye(t,i):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ye(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,r=new Array(i);n<i;n++)r[n]=t[n];return r}function ze(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var a=function(){function r(t,i,n){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this.Ht=Object.assign({tile:!0,isPreview:!1},t),this.rc=null,this.ec=[],this.sc=[],this.oc=null,this.Tn=!!t.map,this.Mn=t.map?t.map.getDataManager():new Fn,this.uc=1,this.hc={radius:.5,dash:{size:4,gap:2}},this.kn=i,this.Rn=n,this.zt=t.type,this.An()}var t,i,n;return t=r,(i=[{key:"setObstructions",value:function(t){this.rc&&this.rc.Co(t)}},{key:"route",value:function(t,i,n){this.rc.toDoors=void 0!==t.toDoors&&t.toDoors,this.rc.obstruct=void 0===t.obstruct||t.obstruct;var r=R.ROUTE_FAILED_CANNOT_ARRIVE;(r=t.viapoints&&0<t.viapoints.length?(this.rc.$h=t.viapoints,this.rc.Ba(t.start,t.dest)):this.rc.oh(t.start.level,t.start,t.dest.level,t.dest,t.mode||g.MODULE_SHORTEST,t.priority||m.PRIORITY_DEFAULT))===R.ROUTE_SUCCESS?(this.ec=this.rc.if(),this.sc=[this.ac(this.ec,{language:s.ZH}),this.ac(this.ec,{language:s.EN})],this.oc=this.rc.Da,i&&i(this.Ln())):n&&n(r)}},{key:"dispose",value:function(){this.fc=null,this.ec=[],this.sc=[],this.rc&&(this.rc.wi(),this.rc=null)}},{key:"pathConstraint",value:function(t,i){return this.rc?this.rc.af(t,i):null}},{key:"getNaviGraph",value:function(t){return this.rc.ha.get(t)}}])&&ze(t.prototype,i),n&&ze(t,n),Object.defineProperty(t,"prototype",{writable:!1}),r}(),Xe=(Object.assign(a.prototype,{An:function(){var t,n=this,i=(this.Tn&&(t=this.Ht.map.getMapOptions(),this.Ht.mapID=t.mapID,this.Ht.appName=t.appName,this.Ht.key=t.key,this.Ht.license=t.license,this.Ht.mapURL=t.mapURL,this.Ht.mapURLAbsolute=t.mapURLAbsolute,this.Ht.isPreview="undefined"!=typeof KjWzhWlSj),{buildingID:this.Ht.mapID,appName:this.Ht.appName,key:this.Ht.key,license:this.Ht.license,mapURL:this.Ht.mapURL,mapURLAbsolute:this.Ht.mapURLAbsolute,merge:this.Ht.merge,loadNavi:!0,justDecode:!0,preLoad:!0,isPreview:"undefined"!=typeof KjWzhWlSj});setTimeout(function(){n.Ht.tile?n.Mn.load(i,function(t,i){n.Fn(t,i)}):n.Mn.loadWhole(i,function(t,i){n.Fn(t,i)})},0)},Fn:function(t,i){"error"===t&&this.Rn&&this.Rn(i),"decode"===t&&(this.rc=new Ce(this.Ht),this.rc.An(i),this.kn&&this.kn())},Ln:function(){if(0==this.ec.length||0==this.sc.length)return null;for(var t={viapoints:[],subs:[],levels:[],distance:0},i=this.sc[0].descriptions,n=this.sc[0].descriptionsData,r=this.sc[1].descriptions,e=this.sc[1].descriptionsData,s=[],o=!1,u=[],h=0;h<n.length;h++){var a={instruction:{zh:null,en:null},waypoint:{points:null,direction:{zh:null,en:null}},viapoint:null,levels:null,distance:Number.NaN},f=i[h],c=n[h],l=r[h],v=e[h],f=(a.instruction.zh=f,a.instruction.en=l,a.levels=[c.startLevel,c.endLevel],a.distance=void 0!==c.distance?c.distance:0,a.waypoint.direction.zh=[c.startDirection,c.endDirection||c.startDirection],a.waypoint.direction.en=[v.startDirection,v.endDirection||v.startDirection],a.levels[0]!=a.levels[1]?(o=!0,s.push.apply(s,Ve(a.levels))):0!=s.length&&s.slice(-1)[0]==a.levels[0]&&!o||(s.push(a.levels[0]),o=!1),this.cc([c.startIndex,c.endIndex],s));a.waypoint.points=f.points,f.via&&-1==u.indexOf(f.via)&&(a.viapoint=Object.assign({},f.via.Vt),t.viapoints.push(Object.assign({},f.via.Vt)),u.push(f.via)),t.distance+=a.distance,t.subs.push(a)}for(var y=0;y<s.length;y++)0!=t.levels.length&&t.levels.slice(-1)[0]==s[y]||t.levels.push(s[y]);return t.door=this.oc,t},cc:function(t,i){for(var n=[],r=[],e=null,s=[],o=0;o<this.ec.length;o++){var u=this.ec[o];if(s.push(u.Pn),i.toString()==s.toString()){var h=i[i.length-1],a=u.Un,f=u.Bn;if(void 0===t[0]||void 0===t[1])n.push(Object.assign({level:u.Pn},u.Un[0])),r.push(u.Bn[0]),u=this.ec[o-1],n.unshift(Object.assign({level:u.Pn},u.Un[0])),r.unshift(u.Bn[0]);else for(var c=t[0];c<=t[1];c++)n.push({x:a[c].x,y:a[c].y,level:h}),r.push(f[c]);break}}return r.forEach(function(t){t.Fh&&(e=t)}),{points:n,via:e}},ac:function(t,i){if(!this.lc(t))return{};i=new We(Object.assign({data:this.Mn.getDecode(this.Ht),directionAssert:10,combineAsset:10,language:s.ZH},i)).Q(t);return{descriptions:i[0],descriptionsData:i[1],distance:i[2],distances:i[3]}},vc:function(t){this.rc.Fa=t,this.rc.No(),this.ec=this.rc.if()},yc:function(){return this.ec},dc:function(t){var i=t||this.ec;if(!this.lc(i))return[];var n,r=[];for(n in i)i[n].getPointList&&r.push.apply(r,Ve(i[n].pointList));return r},bc:function(t){var i=t||this.ec;if(!this.lc(i))return[];for(var n=[],r=0;r<i.length;r++){for(var e=i[r],s=e.level,o=e.pointList,u={level:s,points:[]},h=0;h<o.length;h++)u.points.push(Object.assign({},o[h]));n.push(u)}return n},pc:function(t){t=t||this.ec;if(!this.lc(t))return 0;var i=this.dc(t);if(0==i.length)return 0;for(var n=0,r=0;r<i.length-1;r++)n+=S.vt(i[r],i[r+1]);return n},wc:function(t){var i=t||this.ec;if(!this.lc(i))return[];var n,r=[];for(n in i)!i[n].level||0!=n&&r[r.length-1]==i[n].level||r.push(i[n].level);return r},mc:function(t,i){var n=i||this.ec;if(!this.lc(n))return[];var r,e=[];for(r in n)n[r].level&&n[r].level==t&&(e=e.concat(n[r].pointList));return e},lc:function(t){if(!Array.isArray(t))return!1;if(0==t.length)return!1;for(var i=0;i<t.length;i++)if(!(t[i]instanceof $n))return!1;return!0},_c:function(e,t){if(0===e.length)return null;null==t&&(t={});for(var i=Object.assign({},this.hc),s=(t&&t.style&&Object.assign(i,t.style),1===this.zt&&(i.color="#002FA7"),t&&t.height?t.height:this.uc),o=[],n=0;n<e.length;n++)!function(t){var t=e[t],i=t.pointList;if(0===i.length)return;var t=t.level,n=[],r=(i.forEach(function(t){var i=parseFloat(""+t.x),t=parseFloat(""+t.y);n.push({x:i,y:t,z:s})}),i.length<2&&(r=parseFloat(""+i[0].x),i=parseFloat(""+i[0].y),n.push({x:r,y:i,z:s})),new fengmap.FMSegment);r.level=t,r.points=n,o.push(r)}(n);i=new fengmap.FMLineMarker(Object.assign({segments:o},i));return i.passed=t&&t.passed?t.passed:this.xc,i},gc:function(){for(var t=0;t<this.ec.length;t++){for(var i=this.ec[t],n=0,r=i.Bn.length-1;0<r;){var e=null;null!=i.Bn[r]&&null!=i.Bn[r-1]&&i.Bn[r].Ii<0&&i.Bn[r-1].Ii<0&&(1===r?e=r-1:r===i.Bn.length-1&&(e=r)),null!=e&&(n+=S.vt(i.Un[r],i.Un[r-1]),i.Bn.splice(e,1),i.Un.splice(e,1)),--r}i.Cn-=n}return this.ec}}),a);function qe(t){return(qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function He(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qe(t,i){return(Qe=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function $e(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=Je(n),i=(t=r?(t=Je(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),this);if(t&&("object"===qe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==i)return i;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function Je(t){return(Je=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}a=function(){var t=s,i=Xe;if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),i&&Qe(t,i);var n,r,e=$e(s);function s(t,i,n){if(this instanceof s)return e.call(this,t,i,n);throw new TypeError("Cannot call a class as a function")}return t=s,n&&He(t.prototype,n),r&&He(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}();function Ke(t){return function(t){if(Array.isArray(t))return ts(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,i){if(t){if("string"==typeof t)return ts(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ts(t,i):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ts(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,r=new Array(i);n<i;n++)r[n]=t[n];return r}function is(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ns(t,i,n){return i&&is(t.prototype,i),n&&is(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var rs=ns(function t(i){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.Pn=void 0!==i.level?i.level:null,this.Sr=void 0!==i.points?i.points:null,this.Oc=-1,this.Ut=null,this.An()});Object.assign(rs.prototype,{An:function(){this.Sr&&(this.Ut=new u,this.Ut.Lt(this.Sr),this.Oc=this.Sr.length,this.Sr[0].x==this.Sr[this.Oc-1].x&&this.Sr[0].y==this.Sr[this.Oc-1].y?this.Oc--:this.Sr.push(this.Sr[0]))},ju:function(t,i){return S.ot(t,i,this.Ut.St,this.Ut.Nt)},Ye:function(t){return!!S.ht(t,this.Ut.min,this.Ut.max)&&S.ct(t,this.Sr,this.Oc)},jc:function(t){var i=0;return this.Ye(t[0])&&(i|=1),this.Ye(t[1])&&(i|=2),i},Ve:function(t,i){if(!S.ot(t[0],t[1],this.Ut.min,this.Ut.max))return!1;for(var n,r,e=!1,s=0;s<this.Oc;s++){var o={};1==S._t(t[0],t[1],this.Sr[s],this.Sr[s+1],o)&&(e=!0,i.push(o))}return t[0].x!=t[1].x?(n=t[0].x<t[1].x,i.sort(function(t,i){return n?t.x-i.x:i.x-t.x})):(r=t[0].y<t[1].y,i.sort(function(t,i){return r?t.y-i.y:i.y-t.y})),e},Ec:function(t,i){for(var n=[],r=(n.push(t[0]),n.push.apply(n,Ke(i)),n.push(t[1]),[]),e=0;e<n.length-1;e++)r.push([n[e],n[e+1]]);return r},hf:function(t){if(this.Pn!=t.Pn)return!1;if(this.Sr.length!=t.Sr.length)return!1;for(var i=0;i<this.Sr.length;i++){if(this.Sr[i].x!=t.Sr[i].x)return!1;if(this.Sr[i].y!=t.Sr[i].y)return!1}return!0}});function es(t){return(es="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ss(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function os(t,i){return(os=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function us(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=hs(n),i=(t=r?(t=hs(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),this);if(t&&("object"===es(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==i)return i;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function hs(t){return(hs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var as=function(){var t=e,i=Xe;if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),i&&os(t,i);var n,r=us(e);function e(t,i,n){if(this instanceof e)return t.type=Ue.Drive,r.call(this,t,i,n);throw new TypeError("Cannot call a class as a function")}return t=e,(i=[{key:"route",value:function(t,i,n){this.rc.obstruct=void 0===t.obstruct||t.obstruct;var r=R.ROUTE_FAILED_CANNOT_ARRIVE;(r=t.viapoints&&0<t.viapoints.length?(this.rc.$h=t.viapoints,this.rc.Ba(t.start,t.dest)):this.rc.oh(t.start.level,t.start,t.dest.level,t.dest,t.mode||g.MODULE_SHORTEST))===R.ROUTE_SUCCESS?(this.ec=this.rc.if(),this.ec=this.gc(),this.sc=[this.ac(this.ec,{language:s.ZH,type:this.zt}),this.ac(this.ec,{language:s.EN,type:this.zt})],this.oc=this.rc.Da,i&&i(this.Ln())):n&&n(r)}}])&&ss(t.prototype,i),n&&ss(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function fs(t){return(fs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cs(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ls(t,i){return(ls=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function vs(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=ys(n),i=(t=r?(t=ys(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),this);if(t&&("object"===fs(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==i)return i;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function ys(t){return(ys=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ds,bs=function(){var t=e,i=Xe;if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),i&&ls(t,i);var n,r=vs(e);function e(t,i,n){if(this instanceof e)return t.type=Ue.Walk,r.call(this,t,i,n);throw new TypeError("Cannot call a class as a function")}return t=e,(i=[{key:"route",value:function(t,i,n){this.rc.toDoors=void 0!==t.toDoors&&t.toDoors,this.rc.obstruct=void 0===t.obstruct||t.obstruct,this.rc.barrierFree=void 0!==t.barrierFree&&t.barrierFree;var r=R.ROUTE_FAILED_CANNOT_ARRIVE;(r=t.viapoints&&0<t.viapoints.length?(this.rc.$h=t.viapoints,this.rc.Ba(t.start,t.dest)):this.rc.oh(t.start.level,t.start,t.dest.level,t.dest,t.mode||g.MODULE_SHORTEST,t.priority||m.PRIORITY_DEFAULT))===R.ROUTE_SUCCESS?(this.ec=this.rc.if(),this.sc=[this.ac(this.ec,{language:s.ZH,type:this.zt}),this.ac(this.ec,{language:s.EN,type:this.zt})],this.oc=this.rc.Da,i&&i(this.Ln())):n&&n(r)}}])&&cs(t.prototype,i),n&&cs(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),t=t(28),ps={VERSION:C,BUILD:U,XMLHttpRequest:t.a,FMType:B,FMNaviMode:g,FMNaviPriority:m,FMRouteResult:R,FMLanguageType:s,FMSearchRequest:i,FMSearchAnalyser:n,FMNaviAnalyser:a,FMNaviObstruction:rs,FMNaviDriveAnalyser:as,FMNaviWalkAnalyser:bs},t=xi.a.global(),ws=void 0!==t?t.fengmap:{};for(ds in void 0===ws&&(ws={}),ps)ws[ds]=ps[ds];void 0!==t&&(t.fengmap=ws);P.default=ws}]).default});