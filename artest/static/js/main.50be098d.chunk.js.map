{"version":3,"sources":["static/marker.png","static/logos/transparent.svg","static/assets/camera_para.dat","static/assets/patt.hiro","components/MyContainer/styles.js","components/MyContainer/MyContainer.js","components/Header/styles.js","components/Header/Header.js","components/MyBox/styles.js","configs/CSSvariables.js","components/MyBox/MyBox.js","components/MyTwoBoxes/styles.js","components/MyTwoBoxes/MyTwoBoxes.js","components/ViewerVR/styles.js","components/ViewerVR/ViewerVR.js","utils/initializeRenderer.js","utils/arToolkit.js","components/ViewerAR/styles.js","components/ViewerAR/ViewerAR.js","components/Marker/styles.js","components/Marker/Marker.js","components/ButtonMobile/styles.js","components/ButtonMobile/ButtonMobile.js","components/ButtonFixed/styles.js","components/ButtonFixed/ButtonFixed.js","containers/ViewGift/styles.js","containers/ViewGift/ViewGift.js","utils/index.js","configs/backendAPI.js","App.js","index.js"],"names":["module","exports","useStyles","makeStyles","root","display","flexDirection","justifyContent","height","container","overflowY","MyContainer","props","classes","className","CssBaseline","Container","maxWidth","type","children","theme","marginTop","spacing","logoIcon","marginRight","marginLeft","Header","Toolbar","src","LogoIcon","alt","width","Typography","variant","topic","defaultBox","backgroundColor","palette","background","paper","borderRadius","warningBox","warning","successBox","success","title","marginBottom","MyBox","boxClassName","Box","mt","p","undefined","boxes","flexWrap","leftBox","paddingRight","leftBoxBig","rightBox","paddingLeft","rightBoxBig","alignItems","alignSelf","MyTwoBoxes","leftBoxType","leftBoxTitle","rightBoxType","rightBoxTitle","canvas","outline","THREE","WebGLRenderer","Color","PerspectiveCamera","Scene","AmbientLight","GLTFLoader","OrbitControls","Vector3","ViewerVR","useTheme","React","useEffect","renderer","setClearColor","parent","document","getElementById","setSize","clientWidth","clientHeight","window","addEventListener","scene","camera","innerWidth","innerHeight","position","z","y","x","lookAt","add","light","load","modelURL","gltf","scale","set","scaleX","scaleY","scaleZ","xhr","console","log","loaded","total","error","onRenderFcts","push","render","lastTimeMsec","requestAnimationFrame","animate","nowMsec","deltaMsec","Math","min","forEach","onRenderFct","controls","domElement","rotateSpeed","zoomSpeed","minDistance","maxDistance","minPolarAngle","maxPolarAngle","PI","enableDamping","dampingFactor","target","update","ref","node","THREEx","ArMarkerControls","ArToolkitContext","ArToolkitSource","markerSearchContainer","bottom","left","right","markerSearchContent","color","borderColor","borderWidth","borderStyle","padding","markerSearchImage","Camera","Group","ViewerAR","useState","markerFound","setMarkerFound","alpha","style","top","initializeRenderer","markerRoot","arToolkitContext","patternUrl","marker","getMarker","baseURL","arToolkitSource","sourceType","onResize","onResizeElement","copyElementSizeTo","arController","init","cameraParametersUrl","cameraData","detectionMode","projectionMatrix","copy","getProjectionMatrix","ready","initializeArToolkit","MarkerImage","markerImage","maxHeight","text","textAlign","Marker","id","require","mobileButton","ButtonMobile","Fab","size","onClick","fixedButton","ButtonFixed","vr","minHeight","step","fab","icon","ViewGift","steps","mode","setMode","isMobile","pb","DetectRTC","isWebRTCSupported","Stepper","orientation","map","label","index","Step","key","StepLabel","location","reload","createMuiTheme","default","primary","main","secondary","App","vh","documentElement","setProperty","ReactDOM"],"mappings":"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","file":"static/js/main.50be098d.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/marker.b94cb7cf.png\";","module.exports = __webpack_public_path__ + \"static/media/transparent.38c6c96d.svg\";","module.exports = __webpack_public_path__ + \"static/media/camera_para.343c761a.dat\";","module.exports = __webpack_public_path__ + \"static/media/patt.4092b01e.hiro\";","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport const useStyles = makeStyles({\r\n  root: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"space-between\",\r\n    height: \"calc(100% - 56px)\",\r\n    // eslint-disable-next-line\r\n    height: \"calc(var(--vh, 1vh) * 100 - 56px)\"\r\n  },\r\n  container: {\r\n    overflowY: \"auto\",\r\n    height: \"100%\"\r\n  }\r\n});\r\n","import React from \"react\";\r\n\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport Container from \"@material-ui/core/Container\";\r\n\r\nimport { useStyles } from \"./styles\";\r\n\r\nconst MyContainer = props => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <CssBaseline />\r\n      <div className={classes.container}>\r\n        <Container maxWidth={props.type === \"small\" ? \"xs\" : \"lg\"}>\r\n          {props.children}\r\n        </Container>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MyContainer;\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport const useStyles = makeStyles(theme => ({\r\n  root: {\r\n    marginTop: theme.spacing(2)\r\n  },\r\n  logoIcon: {\r\n    marginTop: theme.spacing(1),\r\n    marginRight: theme.spacing(2),\r\n    marginLeft: theme.spacing(-2)\r\n  }\r\n}));\r\n","import React from \"react\";\r\n\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nimport LogoIcon from \"static/logos/transparent.svg\";\r\n\r\nimport { useStyles } from \"./styles\";\r\n\r\nconst Header = props => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Toolbar className={classes.root} /*id=\"back-to-top-anchor\"*/>\r\n        <img\r\n          className={classes.logoIcon}\r\n          src={LogoIcon}\r\n          alt=\"E-Gifts logo\"\r\n          width=\"40px\"\r\n        />\r\n      <div>\r\n        <Typography variant=\"h4\">{props.topic}</Typography>\r\n        <Typography variant=\"body2\">\r\n          {props.topic === \"E-Gifts\"\r\n            ? \"Brings gifts to AR & VR!\"\r\n            : \"E-Gifts - Brings gifts to AR & VR!\"}\r\n        </Typography>\r\n      </div>\r\n    </Toolbar>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport { BORDER_RADIUS } from \"configs/CSSvariables\";\r\n\r\nexport const useStyles = makeStyles(theme => ({\r\n  defaultBox: {\r\n    backgroundColor: theme.palette.background.paper,\r\n    borderRadius: BORDER_RADIUS\r\n  },\r\n  warningBox: {\r\n    backgroundColor: theme.palette.background.warning,\r\n    borderRadius: BORDER_RADIUS\r\n  },\r\n  successBox: {\r\n    backgroundColor: theme.palette.background.success,\r\n    borderRadius: BORDER_RADIUS\r\n  },\r\n  title: {\r\n    marginBottom: theme.spacing(1)\r\n  }\r\n}));\r\n","export const MOBILE_WIDTH = 800;\r\nexport const PARTLY_MOBILE_WIDTH = 1000;\r\nexport const MOBILE_HEIGHT = 800;\r\n\r\nexport const BORDER_RADIUS = 20;\r\n\r\nexport const COLOR_BACKGROUND_DEFAULT_LIGHT = \"#fff\";\r\nexport const COLOR_BACKGROUND_PAPER_LIGHT = \"#f3f3f3\";\r\nexport const COLOR_BACKGROUND_WARNING_LIGHT = \"#ffd4d4\";\r\nexport const COLOR_BACKGROUND_SUCCESS_LIGHT = \"#a8ffbc\";\r\nexport const COLOR_PRIMARY_MAIN = \"#2d53fe\";\r\nexport const COLOR_SECONDARY_MAIN = \"#00ff39\";\r\n\r\n","import React from \"react\";\r\n\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nimport { useStyles } from \"./styles\";\r\n\r\nconst MyBox = props => {\r\n  const classes = useStyles();\r\n\r\n  let boxClassName = classes.defaultBox;\r\n  if (props.type === \"warning\") {\r\n    boxClassName = classes.warningBox;\r\n  } else if (props.type === \"success\") {\r\n    boxClassName = classes.successBox;\r\n  }\r\n\r\n  return (\r\n    <Box className={boxClassName} mt={2} p={2}>\r\n      {props.title !== undefined ? (\r\n        <Typography className={classes.title} variant=\"h5\">\r\n          {props.title}\r\n        </Typography>\r\n      ) : null}\r\n      {props.children}\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default MyBox;\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport { MOBILE_WIDTH, BORDER_RADIUS } from \"configs/CSSvariables\";\r\n\r\nexport const useStyles = makeStyles(theme => ({\r\n  boxes: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\"\r\n  },\r\n  leftBox: {\r\n    width: \"50%\",\r\n    paddingRight: theme.spacing(1),\r\n    // eslint-disable-next-line\r\n    [`@media (max-width: ${MOBILE_WIDTH}px)`]: {\r\n      paddingRight: 0,\r\n      width: \"100%\"\r\n    }\r\n  },\r\n  leftBoxBig: {\r\n    width: \"70%\",\r\n    paddingRight: theme.spacing(1),\r\n    // eslint-disable-next-line\r\n    [`@media (max-width: ${MOBILE_WIDTH}px)`]: {\r\n      paddingRight: 0,\r\n      width: \"100%\"\r\n    }\r\n  },\r\n  rightBox: {\r\n    width: \"50%\",\r\n    paddingLeft: theme.spacing(1),\r\n    // eslint-disable-next-line\r\n    [`@media (max-width: ${MOBILE_WIDTH}px)`]: { paddingLeft: 0, width: \"100%\" }\r\n  },\r\n  rightBoxBig: {\r\n    width: \"30%\",\r\n    paddingLeft: theme.spacing(1),\r\n    // eslint-disable-next-line\r\n    [`@media (max-width: ${MOBILE_WIDTH}px)`]: { paddingLeft: 0, width: \"100%\" }\r\n  },\r\n  defaultBox: {\r\n    backgroundColor: theme.palette.background.paper,\r\n    borderRadius: BORDER_RADIUS,\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\"\r\n  },\r\n  warningBox: {\r\n    backgroundColor: theme.palette.background.warning,\r\n    borderRadius: BORDER_RADIUS,\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\"\r\n  },\r\n  title: {\r\n    alignSelf: \"flex-start\",\r\n    marginBottom: theme.spacing(1)\r\n  }\r\n}));\r\n","import React from \"react\";\r\n\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nimport { useStyles } from \"./styles\";\r\n\r\nconst MyTwoBoxes = props => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.boxes}>\r\n      <div\r\n        className={props.type === \"big\" ? classes.leftBoxBig : classes.leftBox}\r\n      >\r\n        <Box\r\n          className={\r\n            props.leftBoxType === \"warning\"\r\n              ? classes.warningBox\r\n              : classes.defaultBox\r\n          }\r\n          p={2}\r\n          mt={2}\r\n        >\r\n          {props.leftBoxTitle !== undefined ? (\r\n            <Typography className={classes.title} variant=\"h5\">\r\n              {props.leftBoxTitle}\r\n            </Typography>\r\n          ) : null}\r\n          {props.leftBox}\r\n        </Box>\r\n      </div>\r\n      <div\r\n        className={\r\n          props.type === \"big\" ? classes.rightBoxBig : classes.rightBox\r\n        }\r\n      >\r\n        <Box\r\n          className={\r\n            props.rightBoxType === \"warning\"\r\n              ? classes.warningBox\r\n              : classes.defaultBox\r\n          }\r\n          p={2}\r\n          mt={2}\r\n        >\r\n          {props.rightBoxTitle !== undefined ? (\r\n            <Typography className={classes.title} variant=\"h5\">\r\n              {props.rightBoxTitle}\r\n            </Typography>\r\n          ) : null}\r\n          {props.rightBox}\r\n        </Box>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MyTwoBoxes;\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport const useStyles = makeStyles(theme => ({\r\n  canvas: {\r\n    outline: \"none\"\r\n  }\r\n}));\r\n","/* globals THREE */\r\nimport React from \"react\";\r\n\r\nimport { useTheme } from \"@material-ui/styles\";\r\n\r\n// import TweenMax from \"gsap/TweenMax\";\r\n\r\nimport { useStyles } from \"./styles\";\r\n\r\nconst {\r\n  WebGLRenderer,\r\n  Color,\r\n  PerspectiveCamera,\r\n  Scene,\r\n  AmbientLight,\r\n  GLTFLoader,\r\n  OrbitControls,\r\n  Vector3\r\n} = THREE;\r\n\r\nconst ViewerVR = props => {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n\r\n  let canvas = null;\r\n\r\n  React.useEffect(() => {\r\n    const renderer = new WebGLRenderer({ canvas });\r\n    renderer.setClearColor(new Color(theme.palette.background.paper));\r\n\r\n    const parent = document.getElementById(\"vr\");\r\n    renderer.setSize(parent.clientWidth, parent.clientHeight);\r\n\r\n    const resizeRenderer = () => {\r\n      renderer.setSize(parent.clientWidth, parent.clientHeight);\r\n    };\r\n    window.addEventListener(\"resize\", resizeRenderer);\r\n\r\n    const scene = new Scene();\r\n    const camera = new PerspectiveCamera(\r\n      65,\r\n      window.innerWidth / window.innerHeight,\r\n      0.1,\r\n      1000\r\n    );\r\n    camera.position.z = 5;\r\n    camera.position.y = 3;\r\n    camera.position.x = -4;\r\n    camera.lookAt(new Vector3(0, 0, 0));\r\n    scene.add(camera);\r\n\r\n    var light = new AmbientLight(0x404040, props.light); // white light\r\n    scene.add(light);\r\n\r\n    const loader = new GLTFLoader();\r\n    loader.load(\r\n      props.modelURL,\r\n      gltf => {\r\n        // called when the resource is loaded\r\n        gltf.scene.scale.set(props.scaleX, props.scaleY, props.scaleZ);\r\n\r\n        /*TweenMax.from(gltf.scene.position, 3, {\r\n          y: -10,\r\n          yoyo: false,\r\n          repeat: 0,\r\n          ease: \"Power2.easeInOut\"\r\n        });\r\n        TweenMax.from(gltf.scene.rotation, 3, {\r\n          y: -2,\r\n          yoyo: false,\r\n          repeat: 0,\r\n          ease: \"Power2.easeInOut\"\r\n        });*/\r\n\r\n        scene.add(gltf.scene);\r\n      },\r\n      xhr => {\r\n        // called while loading is progressing\r\n        console.log(`${(xhr.loaded / xhr.total) * 100}% of the model loaded`);\r\n      },\r\n      error => {\r\n        // called when loading has errors\r\n        console.error(\"An error happened\", error);\r\n      }\r\n    );\r\n\r\n    const onRenderFcts = [];\r\n\r\n    // render the scene\r\n    onRenderFcts.push(() => {\r\n      renderer.render(scene, camera);\r\n    });\r\n\r\n    // run the rendering loop\r\n    let lastTimeMsec = null;\r\n\r\n    const animate = nowMsec => {\r\n      // keep looping\r\n      requestAnimationFrame(animate);\r\n      // measure time\r\n      lastTimeMsec = lastTimeMsec || nowMsec - 1000 / 60;\r\n      const deltaMsec = Math.min(200, nowMsec - lastTimeMsec);\r\n      lastTimeMsec = nowMsec;\r\n      // call each update function\r\n      onRenderFcts.forEach(onRenderFct => {\r\n        onRenderFct(deltaMsec / 1000, nowMsec / 1000);\r\n      });\r\n    };\r\n    requestAnimationFrame(animate);\r\n\r\n    var controls = new OrbitControls(camera, renderer.domElement);\r\n    controls.rotateSpeed = 0.3;\r\n    controls.zoomSpeed = 0.9;\r\n    controls.minDistance = 3;\r\n    controls.maxDistance = 20;\r\n    controls.minPolarAngle = 0; // radians\r\n    controls.maxPolarAngle = Math.PI / 2; // radians\r\n    controls.enableDamping = true;\r\n    controls.dampingFactor = 0.05;\r\n    controls.target.set(0, 0.5, 0);\r\n\r\n    onRenderFcts.push(() => {\r\n      controls.update();\r\n    });\r\n\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  const storeRef = node => {\r\n    canvas = node;\r\n  };\r\n\r\n  return <canvas className={classes.canvas} ref={storeRef} />;\r\n};\r\n\r\nexport default ViewerVR;\r\n","/* globals THREE */\r\nconst { Color, WebGLRenderer } = THREE;\r\n\r\nexport default canvas => {\r\n  const renderer = new WebGLRenderer({ alpha: true, canvas });\r\n  renderer.setClearColor(new Color(\"lightgrey\"), 0);\r\n  renderer.setSize(window.innerWidth, window.innerHeight);\r\n  renderer.domElement.style.position = \"absolute\";\r\n  renderer.domElement.style.top = \"0px\";\r\n  renderer.domElement.style.left = \"0px\";\r\n  return renderer;\r\n};\r\n","/* globals THREEx */\r\nimport cameraData from \"static/assets/camera_para.dat\";\r\nimport marker from \"static/assets/patt.hiro\";\r\n\r\nconst { ArMarkerControls, ArToolkitContext, ArToolkitSource } = THREEx;\r\n\r\nexport const initializeArToolkit = (renderer, camera, onRenderFcts) => {\r\n  ArToolkitContext.baseURL = \"../\";\r\n\r\n  const arToolkitSource = new ArToolkitSource({ sourceType: \"webcam\" });\r\n\r\n  const onResize = () => {\r\n    arToolkitSource.onResizeElement();\r\n    arToolkitSource.copyElementSizeTo(renderer.domElement);\r\n    if (arToolkitContext.arController !== null) {\r\n      arToolkitSource.copyElementSizeTo(arToolkitContext.arController.canvas);\r\n    }\r\n  };\r\n\r\n  arToolkitSource.init(() => {\r\n    onResize();\r\n  });\r\n\r\n  window.addEventListener(\"resize\", () => {\r\n    onResize();\r\n  });\r\n\r\n  // create atToolkitContext\r\n  const arToolkitContext = new ArToolkitContext({\r\n    cameraParametersUrl: cameraData,\r\n    detectionMode: \"mono\"\r\n    // canvasWidth: 800,\r\n    // canvasHeight: 600\r\n  });\r\n\r\n  arToolkitContext.init(() => {\r\n    camera.projectionMatrix.copy(arToolkitContext.getProjectionMatrix());\r\n  });\r\n\r\n  // update artoolkit on every frame\r\n  onRenderFcts.push(() => {\r\n    if (arToolkitSource.ready === false) return;\r\n    arToolkitContext.update(arToolkitSource.domElement);\r\n  });\r\n  return arToolkitContext;\r\n};\r\n\r\nexport const getMarker = (arToolkitContext, markerRoot) => {\r\n  return new ArMarkerControls(arToolkitContext, markerRoot, {\r\n    type: \"pattern\",\r\n    patternUrl: marker\r\n  });\r\n};\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport { BORDER_RADIUS } from \"configs/CSSvariables\";\r\n\r\nexport const useStyles = makeStyles(theme => ({\r\n  markerSearchContainer: {\r\n    position: \"absolute\",\r\n    bottom: theme.spacing(16),\r\n    left: 0,\r\n    right: 0,\r\n    width: \"100%\",\r\n    display: \"flex\",\r\n    justifyContent: \"center\"\r\n  },\r\n  markerSearchContent: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    color: \"red\",\r\n    borderColor: \"red\",\r\n    borderWidth: 2,\r\n    borderStyle: \"solid\",\r\n    borderRadius: BORDER_RADIUS,\r\n    maxWidth: 300,\r\n    padding: 10\r\n  },\r\n  markerSearchImage: {\r\n    padding: theme.spacing(1),\r\n    height: 100,\r\n    width: 100\r\n  }\r\n}));\r\n","/* globals THREE */\r\nimport React from \"react\";\r\n\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\n// import TweenMax from \"gsap/TweenMax\";\r\n\r\nimport initializeRenderer from \"utils/initializeRenderer\";\r\nimport { initializeArToolkit, getMarker } from \"utils/arToolkit\";\r\n\r\nimport MarkerImage from \"static/marker.png\";\r\n\r\nimport { useStyles } from \"./styles\";\r\n\r\nconst { Camera, Group, Scene, AmbientLight, GLTFLoader } = THREE;\r\n\r\nconst ViewerAR = props => {\r\n  const classes = useStyles();\r\n\r\n  const [markerFound, setMarkerFound] = React.useState(false);\r\n\r\n  let canvas = null;\r\n\r\n  React.useEffect(() => {\r\n    const renderer = initializeRenderer(canvas);\r\n\r\n    const scene = new Scene();\r\n    const camera = new Camera();\r\n    scene.add(camera);\r\n\r\n    const markerRoot = new Group();\r\n    scene.add(markerRoot);\r\n\r\n    const onRenderFcts = [];\r\n    const arToolkitContext = initializeArToolkit(\r\n      renderer,\r\n      camera,\r\n      onRenderFcts\r\n    );\r\n\r\n    const marker = getMarker(arToolkitContext, markerRoot);\r\n    marker.addEventListener(\"markerFound\", () => {\r\n      setMarkerFound(true);\r\n    });\r\n\r\n    var light = new AmbientLight(0x404040, props.light); // white light\r\n    scene.add(light);\r\n\r\n    const loader = new GLTFLoader();\r\n    loader.load(\r\n      props.modelURL,\r\n      gltf => {\r\n        // called when the resource is loaded\r\n        gltf.scene.scale.set(props.scaleX, props.scaleY, props.scaleZ);\r\n        // TweenMax.from(gltf.scene.position, 3, {\r\n        //   z: -8,\r\n        //   yoyo: true,\r\n        //   repeat: -1,\r\n        //   ease: \"Power2.easeInOut\"\r\n        // });\r\n\r\n        markerRoot.add(gltf.scene);\r\n      },\r\n      xhr => {\r\n        // called while loading is progressing\r\n        console.log(`${(xhr.loaded / xhr.total) * 100}% of the model loaded`);\r\n      },\r\n      error => {\r\n        // called when loading has errors\r\n        console.error(\"An error happened\", error);\r\n      }\r\n    );\r\n\r\n    // render the scene\r\n    onRenderFcts.push(() => {\r\n      renderer.render(scene, camera);\r\n    });\r\n\r\n    // run the rendering loop\r\n    let lastTimeMsec = null;\r\n\r\n    const animate = nowMsec => {\r\n      // keep looping\r\n      requestAnimationFrame(animate);\r\n      // measure time\r\n      lastTimeMsec = lastTimeMsec || nowMsec - 1000 / 60;\r\n      const deltaMsec = Math.min(200, nowMsec - lastTimeMsec);\r\n      lastTimeMsec = nowMsec;\r\n      // call each update function\r\n      onRenderFcts.forEach(onRenderFct => {\r\n        onRenderFct(deltaMsec / 1000, nowMsec / 1000);\r\n      });\r\n    };\r\n    requestAnimationFrame(animate);\r\n\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  const storeRef = node => {\r\n    canvas = node;\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <canvas ref={storeRef} />\r\n      {!markerFound && (\r\n        <div className={classes.markerSearchContainer}>\r\n          <div className={classes.markerSearchContent}>\r\n            <Typography variant=\"h6\">Show Marker</Typography>\r\n            <img\r\n              className={classes.markerSearchImage}\r\n              alt=\"Marker Example\"\r\n              src={MarkerImage}\r\n            />\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ViewerAR;\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport const useStyles = makeStyles(theme => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    height: \"100%\",\r\n    // eslint-disable-next-line\r\n    height: \"calc(var(--vh, 1vh) * 100)\"\r\n  },\r\n  markerImage: {\r\n    maxWidth: \"80%\",\r\n    maxHeight: \"80%\"\r\n  },\r\n  text: {\r\n    marginTop: theme.spacing(2),\r\n    textAlign: \"center\",\r\n    padding: \"0 10px\"\r\n  }\r\n}));\r\n","import React from \"react\";\r\n\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nimport { MOBILE_WIDTH, MOBILE_HEIGHT } from \"configs/CSSvariables\";\r\n\r\nimport { useStyles } from \"./styles\";\r\n\r\nconst Marker = () => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div id=\"marker\" className={classes.root}>\r\n      <img\r\n        className={classes.markerImage}\r\n        src={require(\"static/marker.png\")}\r\n        alt=\"Marker\"\r\n      />\r\n      {window.innerWidth < MOBILE_WIDTH ||\r\n      window.innerHeight < MOBILE_HEIGHT ? null : (\r\n        <Typography className={classes.text} variant=\"h4\">\r\n          Point the camera to see magic\r\n        </Typography>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Marker;\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport const useStyles = makeStyles(theme => ({\r\n  mobileButton: {\r\n    marginTop: theme.spacing(2)\r\n  },\r\n  text: {\r\n    marginLeft: theme.spacing(1)\r\n  }\r\n}));\r\n","import React from \"react\";\r\n\r\nimport Fab from \"@material-ui/core/Fab\";\r\n\r\nimport { useStyles } from \"./styles\";\r\n\r\nconst ButtonMobile = props => {\r\n  const classes = useStyles();\r\n\r\n  return props.type === \"onClick\" ? (\r\n    <Fab\r\n      variant=\"extended\"\r\n      size=\"medium\"\r\n      color=\"primary\"\r\n      className={classes.mobileButton}\r\n      onClick={props.onClick}\r\n    >\r\n      {props.children}\r\n      <span className={classes.text}>{props.text}</span>\r\n    </Fab>\r\n  ) : null;\r\n};\r\n\r\nexport default ButtonMobile;\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport const useStyles = makeStyles(theme => ({\r\n  fixedButton: {\r\n    position: \"absolute\",\r\n    bottom: theme.spacing(9),\r\n    left: theme.spacing(2)\r\n  },\r\n  text: {\r\n    marginLeft: theme.spacing(1)\r\n  }\r\n}));\r\n","import React from \"react\";\r\n\r\nimport Fab from \"@material-ui/core/Fab\";\r\n\r\nimport { useStyles } from \"./styles\";\r\n\r\nconst ButtonFixed = props => {\r\n  const classes = useStyles();\r\n\r\n  return props.type === \"onClick\" ? (\r\n    <Fab\r\n      variant=\"extended\"\r\n      size=\"medium\"\r\n      color=\"primary\"\r\n      className={classes.fixedButton}\r\n      onClick={props.onClick}\r\n    >\r\n      {props.children}\r\n      <span className={classes.text}>{props.text}</span>\r\n    </Fab>\r\n  ) : null;\r\n};\r\n\r\nexport default ButtonFixed;\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport const useStyles = makeStyles(theme => ({\r\n  vr: {\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    minHeight: \"400px\",\r\n    maxHeight: \"500px\"\r\n  },\r\n  title: {\r\n    alignSelf: \"flex-start\",\r\n    marginTop: theme.spacing(2),\r\n    marginBottom: theme.spacing(1)\r\n  },\r\n  step: {\r\n    marginBottom: theme.spacing(1)\r\n  },\r\n  text: {\r\n    alignSelf: \"flex-start\"\r\n  },\r\n  fab: {\r\n    alignSelf: \"flex-end\",\r\n    marginTop: theme.spacing(1)\r\n  },\r\n  icon: {\r\n    marginRight: theme.spacing(1)\r\n  }\r\n}));\r\n","import React from \"react\";\r\n\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Stepper from \"@material-ui/core/Stepper\";\r\nimport Step from \"@material-ui/core/Step\";\r\nimport StepLabel from \"@material-ui/core/StepLabel\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Fab from \"@material-ui/core/Fab\";\r\n\r\nimport LockOpenIcon from \"@material-ui/icons/LockOpen\";\r\nimport CameraIcon from \"@material-ui/icons/CameraAlt\";\r\nimport CropFreeIcon from \"@material-ui/icons/CropFree\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\n\r\nimport DetectRTC from \"detectrtc\"; // Not completely successful attempt to check AR.js support\r\n\r\nimport { MyContainer } from \"components/MyContainer\";\r\nimport { Header } from \"components/Header\";\r\nimport { MyBox } from \"components/MyBox\";\r\nimport { MyTwoBoxes } from \"components/MyTwoBoxes\";\r\nimport { ViewerVR } from \"components/ViewerVR\";\r\nimport { ViewerAR } from \"components/ViewerAR\";\r\nimport { Marker } from \"components/Marker\";\r\nimport { ButtonMobile } from \"components/ButtonMobile\";\r\nimport { ButtonFixed } from \"components/ButtonFixed\";\r\n\r\nimport * as config from \"configs/backendAPI\";\r\n\r\nimport { checkIsMobile } from \"utils\";\r\n\r\nimport { useStyles } from \"./styles\";\r\n\r\nconst getSteps = () => {\r\n  return [\r\n    \"To get full experience you need to view this E-Gift in AR\",\r\n    \"To view E-Gift, open the Marker on another device (the button in the lower left corner of the View page) or print it\"\r\n  ];\r\n};\r\n\r\nconst ViewGift = props => {\r\n  const classes = useStyles();\r\n  const steps = getSteps();\r\n\r\n  const isValidGift = true;\r\n  const modelURL = \"models/house/scene.gltf\";\r\n  const scaleX = 0.3;\r\n  const scaleY = 0.3;\r\n  const scaleZ = 0.3;\r\n  const light = 7;\r\n\r\n  const [mode, setMode] = React.useState(\"welcome\");\r\n\r\n  const isMobile = checkIsMobile();\r\n\r\n  if (!isValidGift) {\r\n    return <h1>Gift not found</h1>;\r\n  } else {\r\n    return mode === \"welcome\" ? (\r\n      <MyContainer>\r\n        <Header topic=\"E-Gift for you\" />\r\n        <Box id=\"content\" pb={2}>\r\n          <MyBox title=\"Click to open your E-Gift\" type=\"success\">\r\n            <Fab\r\n              className={classes.fab}\r\n              variant=\"extended\"\r\n              size=\"small\"\r\n              color=\"primary\"\r\n              onClick={() => setMode(\"main\")}\r\n            >\r\n              <LockOpenIcon className={classes.icon} />\r\n              Open E-Gift\r\n            </Fab>\r\n          </MyBox>\r\n        </Box>\r\n      </MyContainer>\r\n    ) : mode === \"main\" ? (\r\n      <>\r\n        <MyContainer>\r\n          <Header topic=\"E-Gift for you\" />\r\n          <Box id=\"content\" pb={2}>\r\n            <MyTwoBoxes\r\n              type=\"big\"\r\n              leftBoxTitle=\"Your E-Gift in VR\"\r\n              leftBox={\r\n                <>\r\n                  <div id=\"vr\" className={classes.vr}>\r\n                    <ViewerVR\r\n                      modelURL={`${config.BACKEND_SERVER}/${modelURL}`}\r\n                      scaleX={scaleX}\r\n                      scaleY={scaleY}\r\n                      scaleZ={scaleZ}\r\n                      light={light}\r\n                    />\r\n                  </div>\r\n                  <Typography>\r\n                    Drag to rotate, pinch or scroll to zoom\r\n                  </Typography>\r\n                </>\r\n              }\r\n              rightBoxType={\r\n                DetectRTC.isWebRTCSupported === true ? \"\" : \"warning\"\r\n              }\r\n              rightBoxTitle={\r\n                DetectRTC.isWebRTCSupported === true\r\n                  ? \"How to view in AR?\"\r\n                  : \"Warning\"\r\n              }\r\n              rightBox={\r\n                DetectRTC.isWebRTCSupported === true ? (\r\n                  <>\r\n                    <Stepper orientation=\"vertical\">\r\n                      {steps.map((label, index) => (\r\n                        <Step className={classes.step} key={index}>\r\n                          <StepLabel>{label}</StepLabel>\r\n                        </Step>\r\n                      ))}\r\n                    </Stepper>\r\n                    <Fab\r\n                      className={classes.fab}\r\n                      variant=\"extended\"\r\n                      size=\"small\"\r\n                      color=\"primary\"\r\n                      onClick={() => {\r\n                        setMode(\"AR\");\r\n                      }}\r\n                    >\r\n                      <CameraIcon className={classes.icon} />\r\n                      View in AR\r\n                    </Fab>\r\n                  </>\r\n                ) : (\r\n                  <Typography className={classes.text}>\r\n                    Unfortunately, your browser or device does not support\r\n                    E-Gifts's AR technology, try changing them to get full\r\n                    experience with AR\r\n                  </Typography>\r\n                )\r\n              }\r\n            />\r\n            {isMobile ? (\r\n              <ButtonMobile\r\n                type=\"onClick\"\r\n                text=\"Marker\"\r\n                onClick={() => {\r\n                  setMode(\"marker\");\r\n                }}\r\n              >\r\n                <CropFreeIcon />\r\n              </ButtonMobile>\r\n            ) : null}\r\n          </Box>\r\n        </MyContainer>\r\n        {isMobile ? null : (\r\n          <ButtonFixed\r\n            type=\"onClick\"\r\n            text=\"Marker\"\r\n            onClick={() => {\r\n              setMode(\"marker\");\r\n            }}\r\n          >\r\n            <CropFreeIcon />\r\n          </ButtonFixed>\r\n        )}\r\n      </>\r\n    ) : mode === \"marker\" ? (\r\n      <>\r\n        <Marker />\r\n        <ButtonFixed\r\n          type=\"onClick\"\r\n          text=\"Close\"\r\n          onClick={() => {\r\n            setMode(\"main\");\r\n          }}\r\n        >\r\n          <CloseIcon />\r\n        </ButtonFixed>\r\n      </>\r\n    ) : mode === \"AR\" ? (\r\n      <>\r\n        <ViewerAR\r\n          modelURL={`${config.BACKEND_SERVER}/${modelURL}`}\r\n          scaleX={scaleX}\r\n          scaleY={scaleY}\r\n          scaleZ={scaleZ}\r\n          light={light}\r\n        />\r\n        <ButtonFixed\r\n          type=\"onClick\"\r\n          text=\"Close\"\r\n          onClick={() => window.location.reload()}\r\n        >\r\n          <CloseIcon />\r\n        </ButtonFixed>\r\n      </>\r\n    ) : null;\r\n  }\r\n};\r\n\r\nexport default ViewGift;\r\n","import { MOBILE_WIDTH, MOBILE_HEIGHT } from \"configs/CSSvariables\";\r\n\r\nexport const hexToRgb = hex => {\r\n  // Expand shorthand form (e.g. \"03F\") to full form (e.g. \"0033FF\")\r\n  var shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\r\n  hex = hex.replace(shorthandRegex, function(m, r, g, b) {\r\n    return r + r + g + g + b + b;\r\n  });\r\n\r\n  var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\r\n  return result\r\n    ? `${parseInt(result[1], 16)}, ${parseInt(result[2], 16)}, ${parseInt(\r\n        result[3],\r\n        16\r\n      )}`\r\n    : null;\r\n};\r\n\r\nexport const checkIsMobile = () => {\r\n  return window.innerWidth < MOBILE_WIDTH || window.innerHeight < MOBILE_HEIGHT;\r\n};\r\n","export const BACKEND_SERVER = \"http://localhost:5000\";\r\n\r\n","import React from \"react\";\r\n\r\nimport { MuiThemeProvider, createMuiTheme } from \"@material-ui/core/styles\";\r\n\r\nimport { ViewGift } from \"containers/ViewGift\";\r\n\r\nimport {\r\n  COLOR_BACKGROUND_DEFAULT_LIGHT,\r\n  COLOR_BACKGROUND_PAPER_LIGHT,\r\n  COLOR_BACKGROUND_WARNING_LIGHT,\r\n  COLOR_BACKGROUND_SUCCESS_LIGHT,\r\n  COLOR_PRIMARY_MAIN,\r\n  COLOR_SECONDARY_MAIN\r\n} from \"configs/CSSvariables\";\r\n\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    background: {\r\n      default: COLOR_BACKGROUND_DEFAULT_LIGHT,\r\n      paper: COLOR_BACKGROUND_PAPER_LIGHT,\r\n      warning: COLOR_BACKGROUND_WARNING_LIGHT,\r\n      success: COLOR_BACKGROUND_SUCCESS_LIGHT\r\n    },\r\n    primary: {\r\n      main: COLOR_PRIMARY_MAIN\r\n    },\r\n    secondary: {\r\n      main: COLOR_SECONDARY_MAIN\r\n    }\r\n  }\r\n});\r\n\r\nconst App = props => {\r\n  let vh =\r\n    ((document &&\r\n      document.documentElement &&\r\n      document.documentElement.clientHeight) ||\r\n      window.innerHeight) * 0.01;\r\n  document.documentElement.style.setProperty(\"--vh\", `${vh}px`);\r\n\r\n  window.addEventListener(\"resize\", () => {\r\n    vh =\r\n      ((document &&\r\n        document.documentElement &&\r\n        document.documentElement.clientHeight) ||\r\n        window.innerHeight) * 0.01;\r\n    document.documentElement.style.setProperty(\"--vh\", `${vh}px`);\r\n  });\r\n\r\n  return (\r\n    <MuiThemeProvider theme={theme}>\r\n      <ViewGift />\r\n    </MuiThemeProvider>\r\n  );\r\n};\r\n\r\nexport default App;\r\n\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport \"index.css\";\r\n\r\nimport App from \"App\";\r\n\r\nReactDOM.render(\r\n  <App />,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}